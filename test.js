! function (e) {
  var t = function (e, t) {
    var i, s = t[t.type || "primary"];
    return !s || (i = function (e, t, i, s) {
      for (var a, o, n, l = 0, r = 0, d = i.length, c = !1, h = !1; l < d; l++) {
        if (o = null, n = !1, (a = i[l]).required) {
          if (o = DDG.getProperty(e, a.required)) {
            if (o.length && o.length > 0) {
              c = !0;
              continue
            }
            if (0 === o || o) {
              c = !0;
              continue
            }
          }
          return !1
        }
        if (!a.key) return !1;
        if (h = !0, o = DDG.getProperty(e, a.key))
          if (a.match) {
            var p = o.match(a.match);
            if ((n = !!p) && a.strict) {
              var u = DDG.get_query().match(a.match);
              n = p[0].toLowerCase() == u[0].toLowerCase()
            }
            if (!n) return !1
          } else $.isArray(o) && (o = o.join(" ")), n = DDG.isRelevant(o, a.skip_words || t.skip_words, a.min_length, !!a.strict);
        else n = !1;
        if (n) r++;
        else if (!s) return !1
      }
      return 0 !== r || !(!c || h)
    }(e, t, s, !0), i)
  };
  e.DDH = {
    spice_tabs: {},
    spice_objects: {},
    add: function (t) {
      if (t.id && t.data) {
        if (t.isSpice = !t.convertedFromSpice, t.require) {
          var i = t.require;
          return delete t.require, void DDG.require(i, e.DDH.add.bind(e.DDH, t))
        }
        if (!t.allowMultipleCalls && this.spice_objects[t.id]) return null;
        if (e.DDH[t.id] && e.DDH[t.id].build && $.isFunction(e.DDH[t.id].build)) {
          var s = e.DDH[t.id].build(t);
          if (!1 === s || "object" === $.type(s) && $.isEmptyObject(s)) return;
          $.extend(t, s)
        }
        if (e.DDH[t.id] && e.DDH[t.id].build_async && $.isFunction(e.DDH[t.id].build_async)) e.DDH[t.id].build_async(t, (function (t) {
          var i = e.DDH._build_ops(t);
          i && (e.DDH.spice_tabs[i.id] = DDG.duckbar.add(i))
        }));
        else {
          var a = e.DDH._build_ops(t);
          a && (e.DDH.spice_tabs[a.id] = DDG.duckbar.add(a))
        }
      }
    },
    _build_ops: function (i) {
      i.templates = i.templates || {}, i.meta = i.meta || {}, e.DDH[i.id] && e.DDH[i.id].meta && (i.meta = $.extend(e.DDH[i.id].meta, i.meta)), i.meta.tab && (i.name = i.meta.tab);
      var s, a, o = i.normalize || null,
        n = $.isArray(i.data),
        l = [],
        r = i.relevancy,
        d = (DDG.get_query(), []),
        c = [];
      if (n) {
        r && (i.meta.idField = r.dup);
        for (var h = 0, p = i.data.length; h < p; h++) {
          var u = i.data[h];
          if (!r || t(u, r)) {
            if (o) {
              if (!(a = o(u))) continue;
              s = $.extend({}, u, a)
            } else s = u;
            s.exactMatch ? c.push(s) : s.boost ? d.push(s) : l.push(s)
          }
        }
        if (d.length > 0)
          for (h = 0; h < d.length; h++) l.unshift(d[h]);
        if (c.length > 0)
          for (h = 0; h < c.length; h++) l.unshift(c[h]);
        if (l.length < 1) return void DDG.duckbar.failed(i.id);
        if (i.data = l, l.length > 1 && i.sort_fields && i.sort_default) {
          var m = null;
          "string" == typeof i.sort_default ? m = i.sort_default : r && r.type && (m = i.sort_default[r.type]), m && m.length > 0 && i.data.sort(DDG.getProperty(i.sort_fields, m))
        }
      } else {
        if (r && !t(i.data, r)) return void DDG.duckbar.failed(i.id);
        if (o) {
          if (!(a = o(i.data))) return void DDG.duckbar.failed(i.id);
          i.data = $.extend({}, i.data, a)
        }
      }
      return "cheat_sheets" === i.id ? i.meta.id = i.from : i.meta.id = i.id, e.DDH.spice_objects[i.id] = e.DDH.spice_objects[i.id] || {}, i
    },
    failed: function (e) {
      return DDG.duckbar.failed(e)
    },
    getDOM: function (e) {
      var t = this.spice_tabs[e];
      return t && t.view && t.view.$el || $()
    },
    selectNextItem: function (e) {
      var t = this.spice_tabs[e];
      return t && t.view && t.view.selectNextItem && t.view.selectNextItem()
    },
    registerHelper: function (e, t) {
      Handlebars.registerHelper(e, t)
    }
  }, e.Spice = e.DDH, e.DDH.sharedir_map = this.spice_paths ? $.parseJSON(spice_paths) : {}
}(window), Spice.names = ["airlines", "alternative_to", "amazon", "astrobin_apod", "aur", "bible", "brainy_quote", "caniuse_lists", "code_search", "cryptocurrency", "currency", "cve_summary", "dictionary_definition", "dns", "dogo_books", "dogo_movies", "dogo_news", "duck_say", "economic_indicators", "emojipedia", "etsy", "expand_url", "first_robotics_team_info", "flash_version", "flights_route", "forecast", "git_book_status", "github", "github_status", "glassdoor", "gravatar", "grunt", "gulp", "hacker_news", "haxelib", "hayoo", "hex", "holiday", "images", "is_it_up", "islamic_prayer_times", "keybase", "launchbug", "launchpad_project", "magic_the_gathering", "maps_maps", "maps_places", "maven", "meta_cpan", "metar", "minecraft_status", "near_earth_objects", "newint", "news", "npm", "nutrition", "nxt_account", "octopart", "open_nic", "package_tracking", "packagist", "people_in_space", "playing_cards", "plos", "product_hunt", "public_holidays", "pwned", "quandl_fundamentals", "quote_of_the_day", "rain", "rand_pos", "rand_word", "recipes", "rfc", "rhymes", "ruby_gems", "rust_cargo", "shorten", "sports", "sports_mlb_games", "sports_nfl_games", "stocks", "sun_rise_set", "symbolab", "syntax", "tfl_status", "thesaurus", "tides", "time", "tor_node", "transit_septa", "travis_status", "tvmaze_previousepisode", "twitch_featured", "twitter", "videos", "whois", "word_of_the_day", "xkcd_display", "yacht_specs", "yoga_asanas"],
  function (e) {
    for (var t, i = function (e) {
        var t = null,
          i = 0,
          s = function (a) {
            a && (t = a);
            var o = window["ddg_spice_" + e];
            o === s ? ++i < 50 && window.setTimeout(o, 19) : t && o(t)
          };
        return s
      }, s = 0; s < Spice.names.length; s++)(t = Spice.names[s]) && void 0 === e["ddg_spice_" + t] && (e["ddg_spice_" + t] = i(t))
  }(window), DDG.Data.SearchExperiments = [{
    allocation: 1,
    groups: ["b"],
    parameter: "biaexp",
    description: "Limit Bing IA slotting for navigational queries",
    services: ["deep"],
    postEnrollment: function () {
      if (!DDG.history.get("biaexp")) {
        var e = Math.random();
        e < .475 ? DDG.searchExperiments.biaexp.setGroup("a") : e < .95 ? DDG.searchExperiments.biaexp.setGroup("b") : DDG.searchExperiments.biaexp.setGroup("c")
      }
    }
  }, {
    allocation: 1,
    groups: ["b"],
    parameter: "msvrtexp",
    description: "Bing bridge",
    services: ["deep"],
    filter: function () {
      if (!DDG.device || DDG.device.isOnion || !DDG.device.hostRegion) return !1;
      var e = Math.random();
      if (-1 !== ["brs"].indexOf(DDG.device.hostRegion)) return !0;
      if (-1 !== ["eun", "euw"].indexOf(DDG.device.hostRegion)) {
        if (e <= 1) return !0
      } else if (-1 !== ["use", "usc", "usw"].indexOf(DDG.device.hostRegion)) {
        if (e <= 1) return !0
      } else if (-1 !== ["ase", "aue", "inw"].indexOf(DDG.device.hostRegion) && e <= 1) return !0;
      return !1
    }
  }, {
    allocation: .01,
    groups: ["a", "b"],
    parameter: "wqaexp",
    description: "Wikipedia infobox QA experiment",
    services: ["deep"]
  }, {
    allocation: 1,
    groups: ["b"],
    parameter: "ama5exp",
    description: "Amazon PA-API v5 engagement/conversion measurement",
    services: ["products"],
    filter: function () {
      return "US" === window.ct || "DE" === window.ct
    }
  }, {
    allocation: 0,
    groups: ["a", "b", "e"],
    parameter: "rspexp2",
    description: "Revisit SERP Spelling Message",
    services: ["deep"]
  }, {
    allocation: .05,
    groups: ["a"],
    parameter: "videxp",
    description: "Exclude 5% of requests from video exclusion logic, so that we have a data set to use when retraining the video engagement prediction model",
    services: ["deep"]
  }, {
    allocation: 0,
    groups: ["a", "b", "c", "d"],
    parameter: "adlexp",
    description: "ad load experiment",
    services: ["deep"],
    filter: function () {
      return "US" === window.ct && DDG.device && DDG.device.isDesktop
    }
  }, {
    allocation: 0,
    groups: ["x", "y", "z"],
    parameter: "uxexp",
    assignment: "manual",
    description: "SERP UX Experiments - Testing Allocation Method"
  }, {
    allocation: 1,
    groups: ["b"],
    parameter: "nadse",
    description: "New Ad Extension: Smart Extension",
    services: ["deep"]
  }, {
    allocation: 0,
    groups: ["a", "b", "c"],
    parameter: "tqcls",
    description: "Technical Queries Classifier: Disable PAs",
    services: ["deep", "products"],
    filter: function () {
      return "US" === window.ct || "GB" === window.ct || "AU" === window.ct || ("CA" === window.ct || "DE" === window.ct || "FR" === window.ct || "IN" === window.ct) && "en" === window.dl
    }
  }, {
    allocation: 0,
    groups: ["a", "b"],
    parameter: "qfcls",
    description: "Quick Fix Queries Classifier: Disable PAs",
    services: ["deep", "products"],
    filter: function () {
      return "US" === window.ct || "GB" === window.ct || "AU" === window.ct || ("CA" === window.ct || "DE" === window.ct || "FR" === window.ct || "IN" === window.ct) && "en" === window.dl
    }
  }, {
    allocation: 1,
    groups: ["a", "b"],
    parameter: "eclsexp",
    description: "Engagement based Queries Classifier: Disable PAs",
    services: ["deep", "products"],
    filter: function () {
      return "US" === window.ct || "GB" === window.ct || "AU" === window.ct || ("CA" === window.ct || "DE" === window.ct || "FR" === window.ct || "IN" === window.ct) && "en" === window.dl
    }
  }, {
    allocation: 0,
    groups: ["a", "b"],
    parameter: "atadexp",
    description: "Revenue Experiment: Auto Ads",
    services: ["deep"],
    filter: function () {
      return -1 !== ["US", "GB"].indexOf(window.ct)
    }
  }, {
    allocation: 0,
    groups: ["a", "b"],
    parameter: "stiaexp",
    description: "New Stocks IA",
    services: ["deep"]
  }, {
    allocation: 0,
    groups: ["c", "d"],
    parameter: "reactexp",
    description: "React adoption"
  }, {
    allocation: 0,
    groups: ["a", "b"],
    parameter: "dindex",
    services: ["deep"],
    description: "Send Deep and Local responses as part of Index response"
  }, {
    allocation: 0,
    groups: ["a"],
    parameter: "bfqexp",
    description: "Sample queries triggering Bing finance answers",
    services: ["deep"]
  }, {
    allocation: .05,
    groups: ["a", "b"],
    parameter: "bltexp",
    description: "Test removing bings local trigger",
    services: ["deep"]
  }],
  function (e) {
    var t = {
        deep: ["d.js", "t.js"],
        local: ["local.js", "spice/maps/places", "spice/maps/maps"],
        news: ["news.js", "spice/news"],
        images: ["i.js", "spice/images"],
        videos: ["v.js", "spice/videos"],
        products: ["m.js", "spice/amazon"],
        embed: ["f.js"]
      },
      i = /^\/?((?:d|t|local|news|i|v|m|f).js)|\/js\/(spice\/.*)\//,
      s = "sexp";
    e.Models.SearchExperiments = function (t) {
      var i = DDG.backData.getData().sexp || {};
      this.experiments = DDG.Data.SearchExperiments.map(function (t) {
        var s = new e.Models.SearchExperiment($.extend({
          backButtonGroup: i[t.parameter]
        }, t));
        return this[s.parameter] = s, s
      }.bind(this))
    }, e.Models.SearchExperiments.BACKDATA_PARAM = s, e.Models.SearchExperiments.prototype = {
      assign: function (t) {
        var i = this[t];
        if (!e.backData.getId() && i && i.isManuallyAssigned()) return i.rollDice() ? (this._clearCache(), i.activeGroup) : void 0
      },
      getExperimentGroup: function (e) {
        return this[e] && this[e].activeGroup
      },
      addExperimentParameters: function (t) {
        var s = t.match(i),
          a = s && (s[1] || s[2]);
        if (!a) return t;
        var o = this._getServiceForURLFragment(a),
          n = o && this._getExperimentsForService(o),
          l = !!e.backData.getId(),
          r = [];
        if (!n) return t;
        if (n.forEach(function (e) {
            !l && e.rollDice() && this._clearCache(), e.active && r.push(e.urlParam)
          }.bind(this)), r.length) {
          var d = -1 == t.indexOf("?") ? "?" : "&";
          t += d + r.join("&")
        }
        return t
      },
      getPixelParameters: function () {
        return void 0 !== this._pixelParams ? this._pixelParams : this._pixelParams = this._getActiveExperiments().map((function (e) {
          return e.urlParam
        })).join("&")
      },
      getBackButtonData: function () {
        var e = {};
        return this._getActiveExperiments().forEach((function (t) {
          e[t.parameter] = t.activeGroup
        })), e
      },
      hasActiveExperiments: function () {
        return !!this._getActiveExperiments().length
      },
      _getActiveExperiments: function () {
        return this._activeExperiments ? this._activeExperiments : this._activeExperiments = this.experiments.filter((function (e) {
          return e.active
        }))
      },
      _getExperimentsForService: function (e) {
        return this._experimentsForService || (this._experimentsForService = {}, this.experiments.forEach(function (e) {
          e.hasServices() && e.services.forEach(function (t) {
            this._experimentsForService[t] || (this._experimentsForService[t] = []), this._experimentsForService[t].push(e)
          }.bind(this))
        }.bind(this))), this._experimentsForService[e] || []
      },
      _getServiceForURLFragment: function (e) {
        if (!this._serviceForURLFragment)
          for (var i in this._serviceForURLFragment = {}, t)
            for (var s = t[i], a = 0; a < s.length; a++) this._serviceForURLFragment[s[a]] = i;
        return this._serviceForURLFragment[e]
      },
      _clearCache: function () {
        delete this._pixelParams, delete this._activeExperiments
      }
    }
  }(DDG),
  function (e) {
    e.Models.SearchExperiment = function (t) {
      t = t || {}, this.allocation = t.allocation, this.groups = t.groups, this.parameter = t.parameter, this.services = t.services, this.filter = t.filter, this.assignment = t.assignment || "automatic", this.postEnrollment = t.postEnrollment, this.active = !1, this.activeGroup = null, this.activeFromBackButton = !1, this.urlParam = "", this.rolledDice = !1, t.backButtonGroup && this.hasValidGroup(t.backButtonGroup) && (this.activeFromBackButton = !0, this.setGroup(t.backButtonGroup)), this.hasServices() || this.isManuallyAssigned() || e.backData.getId() || this.rollDice()
    }, e.Models.SearchExperiment.prototype = {
      isManuallyAssigned: function () {
        return "manual" === this.assignment
      },
      hasServices: function () {
        return this.services && this.services.length
      },
      setGroup: function (e) {
        this.hasValidGroup(e) && ("reactexp" === this.parameter && this.activeFromBackButton && window.reactexp !== e || (this.active = !0, this.activeGroup = e, this.urlParam = this.parameter + "=" + this.activeGroup))
      },
      hasValidGroup: function (e) {
        return -1 !== this.groups.indexOf(e)
      },
      canRollDice: function () {
        return !this.rolledDice && !this.activeFromBackButton && (!this.filter || this.filter()) && (!e.device.isDDGTest || "reactexp" === this.parameter)
      },
      rollDice: function () {
        var t, i = this.canRollDice();
        if (this.rolledDice = !0, !i) return !1;
        var s = e.history.get(this.parameter);
        if ("object" == typeof backendExperimentAssignments && null !== backendExperimentAssignments && this.parameter in backendExperimentAssignments && "reactexp" !== this.parameter) this.parameter && (t = backendExperimentAssignments[this.parameter]);
        else if ("reactexp" === this.parameter && window.reactexp) t = window.reactexp;
        else if (s) t = s;
        else {
          var a = Math.random();
          if (!(a <= this.allocation)) return !1;
          var o = this.allocation / this.groups.length,
            n = Math.floor(a / o);
          t = this.groups[n]
        }
        return !!t && (this.setGroup(t), this.postEnrollment && this.postEnrollment(), !0)
      }
    }
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = 864e5;
    e.Models.VQD = function (e, i) {
      t.call(this, e), this._history = i || window.history, this._init(), this._boundHandlePageShow = function (e) {
        e && e.persisted && this._init(), this._ready = !0, this.emit("ready")
      }.bind(this), window.addEventListener("pageshow", this._boundHandlePageShow)
    }, e.Models.VQD.prototype = Object.assign({}, t.prototype, {
      timeVqdLoaded: Date.now(),
      destroy: function () {
        window.removeEventListener("pageshow", this._boundHandlePageShow), this.removeAllListeners()
      },
      _init: function () {
        if (this._history && this._history.replaceState) {
          var e = (this._history.state || {}).vqdData;
          e && e.vqd === window.vqd ? (this._isTimeVqdLoadedFromPreviousPageLoad = !!e.timeVqdLoaded, e.timeVqdLoaded && (this.timeVqdLoaded = e.timeVqdLoaded), this.isExpired() && this.clearVqdData()) : this._history.replaceState(Object.assign({}, this._history.state, {
            vqdData: {
              vqd: window.vqd,
              timeVqdLoaded: this.timeVqdLoaded
            }
          }), "")
        }
      },
      age: function () {
        return Math.floor((Date.now() - this.timeVqdLoaded) / i)
      },
      isExpired: function () {
        return Date.now() - this.timeVqdLoaded > 17274e4
      },
      isTimeVqdLoadedFromPreviousPageLoad: function (e) {
        this._ready ? e(!!this._isTimeVqdLoadedFromPreviousPageLoad) : this.once("ready", function () {
          e(!!this._isTimeVqdLoadedFromPreviousPageLoad)
        }.bind(this))
      },
      clearVqdData: function () {
        if (this._history && this._history.replaceState) {
          var e = Object.assign({}, this._history.state);
          delete e.vqdData, this._history.replaceState(e, "")
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Feedback = function (e) {
      this.rating = -1, this.comment = "", this.endpoint = "", t.call(this, e), this.submitting = !1, this.success = !1, this.error = !1
    }, e.Models.Feedback.prototype = $.extend({}, t.prototype, {
      send: function (t) {
        var i = this._prepareTextFeedback(t),
          s = this.endpoint || e.services.getURL("reports");
        t && t.type && "images" === t.type && (s = this.endpoint || e.services.getURL("imageReports"), i = this._prepareImageFeedback(t)), i = $.extend({
          q: e.get_query(),
          safe: e.settings.get("kp")
        }, i);
        var a, o = t.type || t.looking_for,
          n = ["fbs", 1 === t.rating ? "positive" : "negative", o];
        (a = "images" === t.type ? t.reason : "ads" === t.looking_for ? t.ads_issue : t.category_issue) && n.push(a), "ads" === t.looking_for && window.rl && (n.push({
          rl: window.rl
        }), i.rl = window.rl || ""), e.pixel.fire.apply(e.pixel, n), t.comment || t.looking_for_other ? this._sendRequest(s, i) : this.set("success", !0)
      },
      _prepareImageFeedback: function (e) {
        return $.extend({
          image_url: this.image,
          thumb_url: this.thumbnail
        }, e || {})
      },
      _prepareTextFeedback: function (t) {
        return this.comment = this._shortenString(this.comment, 500), this.looking_for_other = this._shortenString(this.looking_for_other, 50), this.ads_issue_other = this._shortenString(this.ads_issue_other, 50), e.search.userLocationExp && (this.comment += " | ulexp=" + e.search.userLocationExp), $.extend({
          rating: this.rating,
          comment: this.comment,
          browser: navigator.platform + " " + e.device.browserName,
          mobile: e.device.isMobile ? 1 : 0,
          atb: JSON.stringify(e.opensearch.installed),
          ct: window.ct || "",
          t: e.history.get("t") || "",
          upstream: e.search && e.search.src || "",
          df: e.search && e.search.dateFilterId || "",
          result_count: e.search && e.search.getResultCount() || 0,
          spell: window.dns || "",
          first_src: e.first_source || "",
          lang: e.settings.get("kad"),
          region: e.settings.get("kl")
        }, t || {})
      },
      _sendRequest: function (t, i) {
        this.set("submitting", !0), this.set("success", !1), this.set("error", !1), $.ajax({
          url: t,
          type: "POST",
          data: i,
          success: function () {
            this.set("submitting", !1), this.set("success", !0)
          }.bind(this),
          error: function (t, s) {
            e.pixel.fire("fbf", i), this.set("submitting", !1), this.set("error", s)
          }.bind(this)
        })
      },
      _shortenString: function (e, t) {
        return e && e.length > t ? e.slice(t - 3) + "..." : e
      }
    })
  }(DDG), DDG, DDG.Data.FeedbackIssues = {
    ads: [{
      text: lp("feedback form", "Ad is malware"),
      val: "malware"
    }, {
      text: lp("feedback form", "Ad is inappropriate"),
      val: "inappropriate"
    }, {
      text: lp("feedback form", "Ad is suspicious"),
      val: "suspicious"
    }, {
      text: lp("feedback form", "Ad is irrelevant"),
      val: "irrelevant"
    }, {
      text: lp("feedback form", "Ad is annoying"),
      val: "annoying"
    }],
    organics: [{
      text: "There are not enough results",
      val: "notenough"
    }, {
      text: "Search terms are ignored or changed",
      val: "termsIgnored"
    }, {
      text: "The results are outdated",
      val: "linksOld"
    }, {
      text: "There are no dates next to results",
      val: "missingDates"
    }, {
      text: "The results are in the wrong language",
      val: "wrongLanguage"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }, {
      text: "The results aren't relevant",
      val: "irrelevant"
    }, {
      text: "There are inappropriate/offensive results",
      val: "nsfw"
    }, {
      text: "Not relevant for my region",
      val: "region"
    }],
    filters: [{
      text: "I want a custom date range filter",
      val: "wantCustom"
    }],
    wikipedia: [{
      text: "These results are not relevant",
      val: "irrelevant"
    }, {
      text: "Wrong image is shown",
      val: "wrongImage"
    }, {
      text: "Words or numbers are missing",
      val: "dataMissing"
    }, {
      text: "Information is outdated",
      val: "outdated"
    }, {
      text: "These results were relevant but not helpful",
      val: "infoNotShown"
    }],
    about: [{
      text: "These results are not relevant",
      val: "irrelevant"
    }, {
      text: "Information is outdated",
      val: "outdated"
    }, {
      text: "Information is missing",
      val: "dataMissing"
    }, {
      text: "There are formatting issues",
      val: "badFormatting"
    }],
    places_single: [{
      text: "These results are not relevant",
      val: "irrelevant"
    }, {
      text: "This place is incorrect",
      val: "wrongPlace"
    }, {
      text: "This place is too far away",
      val: "badProximity"
    }, {
      text: "This place is closed",
      val: "closed"
    }, {
      text: "The hours aren't listed",
      val: "missingHours"
    }, {
      text: "The website isn't listed",
      val: "missingWebsite"
    }],
    places_multiple: [{
      text: "These results are not relevant",
      val: "irrelevant"
    }, {
      text: "These places are too far away",
      val: "badProximity"
    }, {
      text: "These places are incorrect",
      val: "wrongPlace"
    }],
    map_no_results: [{
      text: "These suggestions are helpful",
      val: "helpful"
    }, {
      text: "These results were relevant but not helpful",
      val: "notHelfpul"
    }, {
      text: "I expected several results",
      val: "expectedSeveral"
    }, {
      text: "I expected a single result",
      val: "expectedSingle"
    }],
    maps: [{
      text: "These results are not relevant",
      val: "irrelevant"
    }, {
      text: "The location is wrong",
      val: "wrongLocation"
    }],
    directions: [{
      text: "The directions aren't relevant",
      val: "irrelevant"
    }, {
      text: "The routes are missing",
      val: "missingRoutes"
    }, {
      text: "The routes are wrong",
      val: "wrongRoutes"
    }, {
      text: "The start or end location is wrong",
      val: "wrongLocation"
    }, {
      text: "I'd like traffic info",
      val: "wantTrafficInfo"
    }, {
      text: "I'd like public transit",
      val: "wantPublicTransit"
    }, {
      text: "I'd like bike routes",
      val: "wantBikeRoutes"
    }],
    news: [{
      text: "I wasn't looking for news",
      val: "irrelevant"
    }, {
      text: "What I'm looking for isn't shown",
      val: "missingArticles"
    }, {
      text: "Articles require a subscription to read",
      val: "articlesPaywalled"
    }, {
      text: "I don't trust these news sources",
      val: "untrusted"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }],
    newsvertical: [{
      text: "What I'm looking for isn't shown",
      val: "missingArticles"
    }, {
      text: "Articles require a subscription to read",
      val: "articlesPaywalled"
    }, {
      text: "I don't trust these news sources",
      val: "untrusted"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }],
    videos: [{
      text: "I wasn't looking for videos",
      val: "irrelevant"
    }, {
      text: "What I'm looking for isn't shown",
      val: "missingVideos"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }, {
      text: "There are inappropriate/offensive results",
      val: "nsfw"
    }, {
      text: "Too many results from YouTube",
      val: "singleSource"
    }],
    videosvertical: [{
      text: "What I'm looking for isn't shown",
      val: "missingVideos"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }, {
      text: "There are inappropriate/offensive results",
      val: "nsfw"
    }, {
      text: "Too many results from YouTube",
      val: "singleSource"
    }],
    images: [{
      text: "I wasn't looking for images",
      val: "irrelevant"
    }, {
      text: "The filters are not effective",
      val: "filters"
    }, {
      text: "There are inappropriate/offensive results",
      val: "nsfw"
    }, {
      text: "What I'm looking for isn't shown",
      val: "missingImages"
    }],
    imagesvertical: [{
      text: "The filters are not effective",
      val: "filters"
    }, {
      text: "There are inappropriate/offensive results",
      val: "nsfw"
    }, {
      text: "What I'm looking for isn't shown",
      val: "missingImages"
    }],
    forecast: [{
      text: "The location is wrong",
      val: "wrongLocation"
    }],
    recipes: [{
      text: "I don't want results from Yummly",
      val: "yummly"
    }],
    products: [{
      text: lp("feedback form", "I don't want this type of result"),
      val: "productads"
    }, {
      text: lp("feedback form", "Product ad pricing is misleading"),
      val: "pricing"
    }, {
      text: lp("feedback form", "Product ads aren't relevant"),
      val: "irrelevant"
    }, {
      text: lp("feedback form", "Product ad content is deceptive"),
      val: "deceptive"
    }],
    autoads: [{
      text: lp("feedback form", "I don't want this type of result"),
      val: "unwanted"
    }, {
      text: "Car location is wrong",
      val: "locationWrong"
    }, {
      text: "Car pricing is wrong",
      val: "pricing"
    }, {
      text: "Car ads aren't relevant",
      val: "irrelevant"
    }, {
      text: "Car ad content is unreliable",
      val: "deceptive"
    }],
    productsvertical: [{
      text: lp("feedback form", "Price shown doesn't reflect merchant site"),
      val: "pricing"
    }, {
      text: lp("feedback form", "Product ads aren't relevant"),
      val: "irrelevant"
    }, {
      text: lp("feedback form", "Product ad content is deceptive"),
      val: "deceptive"
    }, {
      text: lp("feedback form", "I expected to see results from more sellers"),
      val: "few sellers"
    }, {
      text: lp("feedback form", "Filters aren't working"),
      val: "filters"
    }],
    settings: [{
      text: "I'm unable to change the settings",
      val: "change"
    }, {
      text: "I keep losing my settings",
      val: "losing"
    }],
    translations: [{
      text: lp("translations_module", "This translation is wrong"),
      val: "wrongTranslation"
    }, {
      text: lp("translations_module", "This translation is offensive"),
      val: "nsfw"
    }]
  },
  function (e) {
    e.Models.Router = function () {
      this._routes = {}, e.history.enablePushState((function (t, i) {
        if (!e.duckbar || !e.duckbar.isDone && "iaxm" !== t) return !1;
        var s = window.history && window.history.state && window.history.state[e.Utils.History.KEY];
        return "ia" === t || "iax" === t && "cheatsheet" !== e.history.get("ia") || "iaxm" === t || "iai" === t && s && s.iaxm || "iai" === t && e.device.isMobile && (!s || !s.iai) || "iai" === t && e.device.isMobile && !i && s && s.iai || "q" === t || "strict_bbox" === t || "bbox" === t || "metatoken" === t || "start" === t || "end" === t || "transport" === t
      })), e.history.on("popstate", this._onHistoryPopState.bind(this))
    }, e.Models.Router.prototype = $.extend({}, EventEmitter2.prototype, {
      add: function (e, t) {
        this._routes[e] = {
          id: e,
          handler: t
        }
      },
      navigate: function (e, t) {
        if (e) {
          var i = this._routes[e];
          i && i.handler && i.handler(t)
        }
        this.emit("navigate", e)
      },
      _onHistoryPopState: function (t) {
        var i = t && t.state && t.state[e.Utils.History.KEY];
        if (i) {
          if (this._setIAFromHistory(i), i.ia === e.history.curState.ia) {
            var s = this._getIAModelFromHistory(i);
            s && this._setIAModelPropsFromHistory(s, i)
          }
          var a = e.getProperty(e, "page.searchbar.autocomplete");
          e.opensearch && e.opensearch.isExperiment("mobile_header", "b") && e.device.isMobileDevice && a && (!i.ac && a._visible ? a.hide() : i.ac && !a._visible && a.show()), "directions" === i.iaxm ? (s.set("isDirectionsActive", !0), this.navigate("directions", {
            state: i,
            model: s
          })) : "start" === i.iaxm && (s.set("isDirectionsActive", !1), this.navigate("map-start", {
            state: i,
            model: s
          }))
        }
      },
      _getIAModelFromHistory: function (t) {
        var i = t.iax || t.iaxm || e.history.curState.iax || e.history.curState.iaxm;
        "directions" === i && (i = "maps");
        var s, a = 1 == i || 0 == i ? e.duckbar.getActiveTab() : e.duckbar.tabsByNameId[i],
          o = e.duckbar.tabs.maps_expanded,
          n = o && o.expandedMap && o.expandedMap.model;
        if (t.iaxm && n) s = n;
        else if (a && a.model) s = a.model;
        else if (("about" === i || "places" === i) && e.modulesLayout) {
          var l = e.modulesLayout.modules["places" === i ? "maps_places" : i];
          l && (s = l.model)
        }
        return s
      },
      _setIAFromHistory: function (t) {
        if (t.ia !== e.history.curState.ia) {
          var i = t.ia;
          if (!e.duckbar.tabs[i]) {
            var s = e.duckbar.tabsByNameId[i];
            s && (i = s.id)
          }
          e.duckbar.open(i, {
            backButtonOpened: !0
          })
        } else !t.ia && e.history.curState.ia && e.duckbar.open("web", {
          backButtonOpened: !0
        })
      },
      _setIAModelPropsFromHistory: function (t, i) {
        if (t && "object" == typeof t && i) {
          if (t.set("expanded", !!i.iax), (i.iaxm || e.history.curState && e.history.curState.iaxm) && this.navigate("toggle-map", {
              model: t,
              state: i,
              isDirections: "directions" === i.iaxm
            }), (e.device.isMobile || i.iaxm || e.history.curState.iaxm) && i.q === e.history.get("q")) {
            if (t.selectedItem && !i.iai) return void t.selectedItem.unselect();
            if (i.iai && (!t.selectedItem || t.selectedItem.id !== i.iai)) {
              var s = t.itemsById[i.iai];
              if (s) {
                s.select();
                var a = e.history.curState && !e.history.curState.iaxm && !i.iaxm && ("videos" === e.history.curState.ia && "videos" === i.ia || "images" === e.history.curState.ia && "images" === i.ia);
                return void(t.allowModuleIA && a && (t.set("active", !!i.iax), e.duckbar.menu.setActive(i.iax ? t.id : "web")))
              }
            }
          }
          if (t.allowModuleIA && (t.set("active", !!i.iax), e.duckbar.menu.setActive(i.iax ? t.id : "web")), this._routes.requery && i.iaxm && "directions" !== i.iaxm && "start" !== i.iaxm) {
            if (i.q && t.meta.update({
                requery: i.q
              }), i.bbox) {
              var o = i.bbox.split(",");
              t.shouldMapViewportUpdate = !0, t.set({
                geo_bbox: {
                  top_left: o[0] + "," + o[1],
                  bottom_right: o[2] + "," + o[3]
                }
              })
            }
            i.isFromHistory = !0, this.navigate("requery", {
              state: i,
              model: t
            })
          }
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Pages.Base,
      i = ["is-link-style-exp", "is-link-order-exp", "is-link-breadcrumb-exp", "is-related-search-exp", "is-vertical-tabs-exp"];
    e.Pages.SERP = function (i) {
      this._checkForForceReload(), this.unsafeSearch = i.showSafeSearch, e.device.hostRegion = i.hostRegion, this.sideMenuOps.showFeedbackIcons = e.device.isMobile, t.call(this, i), this.ads = new e.Models.Ads({}), this.pageLayoutView = new DDG.Views.PageLayout({
        model: DDG.pageLayout
      }), e.device.on("scroll", this._onScroll.bind(this)), window.addEventListener("pageshow", this._onPageShow.bind(this)), this._showEuAndroidWelcomeMessage = "euandroid" === e.tParam.get() && e.settings.isDefault("kea") && e.device.isAndroid && e.device.isChrome, this._showEuAndroidWelcomeMessage || (window.onFirstSearchPostExtensionInstall = function (t) {
        window.onFirstSearchPostExtensionInstall.called || (window.onFirstSearchPostExtensionInstall.called = !0, t = t || {}, e.device.isDesktop && e.device.isChrome && (e.device.isOSX && e.device.chromeVersion >= 87 && e.device.chromeVersion <= 89 || e.device.isWindows && e.device.chromeVersion >= 87) ? this.views.keepExtensionDialogues = new e.Views.KeepExtensionDialogues($.extend({
          invertColors: e.device.isWindows
        }, t)) : t.showWelcomeBanner && (this.views.welcomeMessage = new e.Views.WelcomeMessage({
          appendTo: ".js-welcome-wrap"
        })))
      }.bind(this)), e.deep.on("change:started", this._onDeepStarted.bind(this)), e.deep.on("add-separator", this._addDeepSeparator.bind(this)), e.deep.on("change:isOutOfResults", this._showFooter.bind(this)), e.deep.on("load:completed", this._onDeepCompleted.bind(this)), e.deep.on("load:initial", this._onDeepInitialized.bind(this)), e.deep.on("load:any", this._onDeepChange.bind(this)), e.settings.on("change", this._onSettingsChange.bind(this))
    }, e.Pages.SERP.prototype = $.extend({}, t.prototype, {
      pageType: "serp",
      liveUpdater: !0,
      sideMenuOps: {
        twitterLink: !0,
        hideSettings: !0
      },
      showingSafeSearch: 0,
      ready: function () {
        t.prototype.ready.call(this), e.page.canShowSerpUxExp() || e.$html.removeClass(i.join(" ")), DDG.searchExperiments && "d" === DDG.searchExperiments.getExperimentGroup("reactexp") && e.$html.addClass("react"), this.keyboard.enableSERPShortcuts = 1, w.is_twitter && (this.views.twitter = new e.Views.TwitterEasterEgg({
          username: w.is_twitter,
          $el: $(".js-header-logo")
        })), e.device.isMobile && !e.addToBrowser.canShowOpenInAppButton() && this.initSettingsCog(), this.initHeader(), this.initSearchFilters(), this.initSERPMessages(), this.initFooter(), this._showEuAndroidWelcomeMessage && this.initEuAndroidWelcomeMessage();
        for (var s, a = $(".js-lazyload-favicon"), o = 0; s = a[o]; o++) e.ImageLoader.register(s, e.services.getURL("icons") + s.getAttribute("data-src"), "scrollY");
        e.duckbar.onReady(), e.device.isDesktop ? this._appendSerpBadgeDesktop() : this._appendSerpBannerMobile(), this.views.atb || this.views.newsletter || this.views.survey || !e.survey.shouldShowBadge() || (this.views.survey = new e.Views.SurveyBadge({
          appendTo: ".js-site-wrapper"
        }), this.views.survey.show(), $("body").on("click.atb", function () {
          this.views.survey && this.views.survey.hide(), $("body").off("click.atb")
        }.bind(this))), this.fireStat("si"), this._isTorv2() && this.notify("The DuckDuckGo v2 Onion URL you are using will soon be deprecated and will no longer work. Please switch to using the new ", "DuckDuckGo v3 Onion URL", "https://duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion", 4e3)
      },
      showMessage: function (t, i) {
        "spelling" !== t || e.search.spelling || (e.search.spelling = new e.Models.Search.Spelling(i)), this.views.messages && this.views.messages.showMessage(t, i)
      },
      initHeader: function () {
        e.settings.isDefault("ko") && e.device.hasFixedHeaderSupport && (this.views.header = new e.Views.Header({
          $el: $(".js-header-wrap"),
          model: new e.Models.Header,
          hideSettingsIcon: e.addToBrowser.canShowOpenInAppButton()
        }));
        var t = {};
        e.history.get("atb") && (t.atb = e.history.get("atb"), this._updateLogoParams({
          atb: e.history.get("atb")
        })), e.tParam.hasValue() && e.tParam.fromHomepage() && e.opensearch.variant !== e.tParam.DEFAULT_VARIANT && (t.va = e.opensearch.variant), this._updateLogoParams(t), e.addToBrowser.canShowOpenInAppButton() && (this.views.openInApp = new e.Views.OpenInApp({
          after: $(".js-header-logo"),
          model: new e.Models.OpenInApp({
            history: e.history,
            settings: e.settings,
            tParam: e.tParam
          })
        }), $(".js-header-wrap").addClass("header-wrap--app"))
      },
      initFooter: function () {
        e.footer = new e.Models.Footer, this.views.footer = new e.Views.Footer({
          model: e.footer,
          after: $(".js-site-wrapper")
        })
      },
      initSearchFilters: function () {
        this.views.searchFilters = new e.Views.Dropdowns.FilterContainer({
          $el: $(".js-search-filters"),
          allTab: !0
        })
      },
      initSERPMessages: function () {
        this.views.messages = new e.Views.SERPMessages({
          ads: this.ads,
          search: this.search,
          searchbar: this.searchbar,
          messages: {
            safeSearch: !!this.unsafeSearch,
            siteSearch: e.search.isSiteQuery
          },
          $el: $("#message")
        }), this.views.messages.on("clear-filters", (function () {
          e.settings.region.reset(), e.search.requery()
        }))
      },
      initEuAndroidWelcomeMessage: function () {
        this.views.welcomeMessage = new e.Views.WelcomeMessage({
          appendTo: ".js-welcome-wrap",
          type: "euandroid"
        })
      },
      _showFooter: function () {
        !e.settings.isDefault("kav") && e.deep.isOutOfResults && e.footer.set("visible", !0)
      },
      _onDeepStarted: function () {
        e.duckbar.show("deep_start"), e.settings.updater && e.settings.updater.loadFonts()
      },
      _onDeepInitialized: function () {
        var t = {
          br: e.device.pixelBrowserName,
          bv: e.device.pixelBrowserVersion
        };
        w.sourceTag && (t.st = w.sourceTag), w.df && (t.df = w.df), "web" !== e.duckbar.activeTabId && (t.iao = 1);
        var i = e.settings.region,
          s = !i.getPrevId() && i.getId() === i.getDefaultId();
        s && (t.nr = s ? 1 : 0), DDG.searchExperiments && "d" === DDG.searchExperiments.getExperimentGroup("reactexp") || e.device.isMobile || $(".result--ad").each((function (t) {
          var i = $(this).attr("id");
          new e.Views.Feedback.ReportAdsButton({
            appendTo: "#" + i + " .result__extras",
            whichAd: t
          })
        })), e.settings.isDefault("kz") || (t.nia = 1), e.settings.isDefault("kae") || (t.kae = e.settings.get("kae")), "d" === e.settings.get("kae") && (t.dt = 1), t.rl = rl, t.dl = dl, t.ck = d.cookie && "" !== d.cookie ? 1 : 0, e.abc && (t.abc = e.abc), e.pixel.fire("l", e.device.pixelId, e.settings.region.hasRegion() ? "re" : "wt", $.extend({}, t, {
          atbi: this.canShowAddToBrowser(),
          i: this.isInstalled(),
          osl: DDG.search.hasOrganicSiteLinks
        }))
      },
      _onDeepChange: function () {
        e.duckbar.show("deep_change"), e.duckbar.menu.showNewTabs(), this._showFeedbackBtn(), this.views.messages && this.views.messages.ready(), e.ImageLoader.registerAll($(".js-lazyload-icons"), "scrollY"), $(".js-results,.js-results-ads,.js-sidebar-ads").removeClass("is-invisible"), setTimeout((function () {
          var t = e.duckbar.activeTabId ? e.duckbar.getActiveTab().pixelId : e.duckbar.placeholder ? "pl" + e.duckbar.placeholder.from : null;
          if (e.search.deepAnswerIAs && Object.keys(e.search.deepAnswerIAs).length) {
            var i = {};
            t && "web" !== t && (i.oi = t), e.search.spelling && (i.sp = 1), e.pixel.fire("iaui", $.extend(i, e.search.deepAnswerIAs))
          }
        }), 500)
      },
      _onDeepCompleted: function () {
        e.perf.reportPerformance({
          page: this.pageType,
          timerName: "deepFinished",
          resourceName: "/d.js"
        }), DDG.deep.isBingV7() && setTimeout((function () {
          e.pageLayout.sendDeviations()
        }), 1e3);
        var t = {};
        t.u = e.search.src, this.ads.hasAds() && (t.adx = this.ads.adx), this.ads.adxExperiment && (t.adx_name = this.ads.adxExperiment), t.rc = e.deep.getResultCount();
        var i = e.Data.languages.resultLanguages,
          s = e.Data.languages.adLanguages,
          a = [],
          o = [];
        for (var n in i) a.push(n + ":" + i[n].length);
        for (var l in s) o.push(l + ":" + s[l]);
        e.Data.languages.resultLanguagesPixelData = t.oll = a.join(","), o.length && (e.Data.languages.adLanguagesPixelData = t.adll = o.join(",")), DDG.deep && DDG.deep.autoShowedPendingResults && DDG.deep.results && DDG.deep.results.a && DDG.deep.results.a.length > 0 && (t.asprwa = 1), e.pixel.fire("l2", e.device.pixelId, e.settings.region.hasRegion() ? "re" : "wt", t)
      },
      _showFeedbackBtn: function () {
        !this.views.feedback && e.device.isDesktop && (this.views.feedback = new e.Views.Feedback.Button({
          appendTo: ".js-feedback-btn-wrap",
          clickPixel: !1
        }))
      },
      _onScroll: function (t) {
        if (e.settings.isDefault("kav") || nrb(t), this.onboardingTest.animateModalIllustration && e.tParam.fromHomepage() && this.canShowAddToBrowser() && !e.device.isMobileDevice && !this.views.atb.dismissed) {
          var i = e.device.height / 2;
          this.views.atb.animated && e.device.scrollTop() > i ? this.views.atb.unAnimate() : !1 === this.views.atb.animated && e.device.scrollTop() < i && this.views.atb.animate()
        }
      },
      _onPageShow: function (t) {
        t && t.persisted && this._checkForForceReload((function (t) {
          t || e.pixel.refire()
        }))
      },
      _appendSerpBadgeDesktop: function () {
        if (e.addToBrowser.canShowOnDesktopSerp()) {
          this.views.atb = new e.Views.AddToBrowserBadge({
            impressionPixel: "atbsi",
            clickPixel: "atbsc",
            xPixel: "atbsx",
            topRight: !0,
            serp: !0,
            entryPoint: "sr",
            appendTo: ".js-site-wrapper",
            hideOnClick: !0
          }), $("body").on("click.atb", function () {
            this.views.atb.hide(), $("body").off("click.atb")
          }.bind(this))
        } else e.newsletter.shouldShowBadge() && (this.views.newsletter = new e.Views.SubscribeToNewsletterBadge({
          appendTo: ".js-site-wrapper",
          serp: !0
        }), this.views.newsletter.show(), $("body").on("click.atb", function () {
          this.views.newsletter && this.views.newsletter.hide(), $("body").off("click.atb")
        }.bind(this)), e.pixel.fire("nli", e.newsletter.group, "serp"))
      },
      _updateLogoParams: function (e) {
        var t = $(".js-header-logo"),
          i = t && t.length && t.attr("href");
        i && (e && Object.keys(e).length && (i += i.match(/\?/) ? "&" : "?", i += $.param(e)), t.attr("href", i))
      },
      _appendSerpBannerMobile: function () {
        (e.addToBrowser.canShowOnMobileSerp() || e.addToBrowser.canShowTryAppBanner()) && (this.views.atb = new e.Views.AddToBrowserBanner({
          impressionPixel: "atbsi",
          clickPixel: "atbsc",
          xPixel: "atbsx",
          template: "add_to_browser_button_serp",
          serp: !0,
          entryPoint: "sr",
          appendTo: ".js-site-wrapper",
          hideOnScrollUp: !e.tParam.fromHomepage()
        }), $("body").on("click.atb", function () {
          this.views.atb.hide(), $("body").off("click.atb")
        }.bind(this)))
      },
      _addDeepSeparator: function () {
        new e.Views.Verticals.VerticalSeparator({
          appendTo: $(".js-results"),
          pageNumber: e.deep.pageNumber
        })
      },
      _isTorv2: function () {
        return e.device.isOnion && "3g2upl4pq6kufc4m.onion" === window.location.host
      },
      _onSettingsChange: function () {
        e.page.canShowSerpUxExp() ? (e.$html.addClass(i.join(" ")), e.settings.isDefault("kaf") || e.$html.removeClass("is-link-breadcrumb-exp"), e.settings.isDefault("kai") || e.$html.removeClass("is-link-order-exp")) : e.$html.removeClass(i.join(" "))
      }
    })
  }(DDG),
  function (e) {
    var t, i = e.Models.Base,
      s = {
        videos: 412,
        images: 294
      },
      a = {
        images: "Images",
        videos: "Videos"
      },
      o = e.Utils.Cache.Called;

    function n(t) {
      if (!t.Result || !t.Text) return !0;
      var i = e.parse_link(t.Result, "text");
      return !(!i || i !== t.Text)
    }
    e.Models.Answer = t = function (t) {
      i.call(this, t), this.templates = new e.Models.AnswerTemplates(t.templates), this.meta = new e.Models.AnswerMeta($.extend(t.meta || {}, {
        options: this.templates.options,
        elClass: this.templates.elClass
      })), this.name = this.name || this.duckbar_topic || this.topic || "Answer", "qa" === this.name && (this.name = "Q/A"), this.nameId = e.duckbar.getNameId(this.name), this.id = this.id || this.nameId, this.pixelId = this.pixel_id || this.pixelId || this.meta.id || this.from || this.id, this.pixelId = this.pixelId.toLowerCase(), this.type = this.type || "new";
      var s = e.stem(this.name),
        a = new RegExp("\\b(" + this.name + "|" + s + ")\\b", "i"),
        o = decodeURIComponentSafe(this.queryEncoded),
        n = o.match(a);
      this.query = o.replace(a, ""), this.queryMatch = n && n.length, this.signal = this.signal || "low", "A" !== this.rt && "C" !== this.rt && "D" !== this.rt && this.queryMatch && (this.signal = "high"), "high" !== this.signal && "medium" !== this.signal && (this.signal = "low"), "static" === this.type && (this.signal = "low"), e.duckpan && (this.signal = "high"), this.items = [], this.itemsById = {}, this.itemsOnMap = [], this.topics = [], this.topicsById = {}, this.canExpand = !0, this.expanded = !1, t.parameters && (this.parameters = t.parameters.map((function (t) {
        return new e.Models.AnswerSelectLists.Parameter(t)
      }))), t.sources && (this.sources = new e.Models.AnswerSelectLists.Source({
        values: t.sources,
        parameters: this.parameters
      })), this.pageNo = 0
    }, t.prototype = $.extend({}, i.prototype, {
      addItems: function (t, i) {
        i = i || {}, this.pageNo++, i && i.keepServiceURL || this.set("serviceURL"), this.set("isLoading"), !t || $.isEmptyObject(t) ? t = [] : $.isArray(t) || (t = [t]);
        var s = this.answerItemModel || this.model || "Base",
          o = this.meta.idField,
          l = this.meta.topicField || "answerItemTopic",
          r = 0,
          d = 0;
        s && s.allowModuleIA && a[s.id] && (s = a[s.id]), e.Models.AnswerItems[s] || (s = "Base"), "FatheadListItem" === s && (t = function (e, t) {
          if (!e || !e.length || !e[0].RelatedTopics) return e;
          for (var i, s, a, o = [], l = t.name.toLowerCase(), r = e[0].RelatedTopics, d = 0; d < r.length; d++)
            if ((i = r[d]).Name)
              for (var c = 0; c < i.Topics.length; c++)(s = i.Topics[c]).answerItemTopic = i.Name, n(s) || o.push(s);
            else "list" === l ? (a && a === i.Text.charAt(0) || (a = i.Text.charAt(0)), i.answerItemTopic = a, t.meta.hideTopicCount = 1) : i.answerItemTopic = "Top", n(i) || o.push(i);
          return o
        }(t, this));
        for (var c = 0; c < t.length; c++) {
          var h = new e.Models.AnswerItems[s]($.extend({
            templates: this.templates,
            parentId: this.id,
            answerMeta: this.meta,
            idField: o,
            pageNo: this.pageNo,
            minimizeHeight: !this.isSideModule,
            fromDeep: i.fromDeep
          }, t[c]));
          if (!this.itemsById[h.id] && (this.items.push(h), this.itemsById[h.id] = h, i.pixelated && (h.pixelated = !0), h.on("change:selected", this._onItemSelectedChanged.bind(this, h)), h.on("change:highlighted", this._onItemHighlightedChanged.bind(this, h)), ++r, l && h[l])) {
            var p = h[l],
              u = this.topicsById[p];
            u || (u = new e.Models.AnswerItemTopic({
              id: p,
              name: p,
              hideCount: this.meta.hideTopicCount
            }), this.topics.push(u), this.topicsById[u.id] = u, ++d, this.bindEvents([
              [u, "change:selected", this._onTopicSelectedChanged.bind(this, u)],
              [u, "change:highlighted", this._onTopicHighlightedChanged.bind(this, u)],
              [u, "change:engaged", this.engaged.bind(this)]
            ])), h.set("topic", u), u.addItem(h)
          }
        }
        if (this.itemsOnMap = e.geo.sort(this.items.slice()), this.selectedItemIdRequery) {
          this.isSingle = 1 === this.items.length;
          for (var m = 0; m < this.items.length; m++)
            if (this.items[m].itemId === this.selectedItemIdRequery) {
              this.items[m].select();
              break
            } this.set("selectedItemIdRequery")
        }
        d && this._emitChange("topics"), r ? this._emitChange("items") : this.items.length ? t.length ? this._emitChange("items") : this.emit("no-results") : this.set("failed", !0), this.isFullPage || this._updateCanExpand()
      },
      canLoadMore: function () {
        return !this.isLoading && this.meta.next
      },
      canLoadOnScroll: function () {
        return this.expanded && this.canLoadMore() && this.supportsInfiniteScroll && e.settings.isDefault("kc")
      },
      loadMore: function () {
        if (this.canLoadMore()) {
          this.set("isLoading", !0);
          var t = this.meta.next;
          if (t.match(/vqd=/) ? t = t.replace(/(&vqd\=)[^\&]+/, "$1" + window.vqd) : t += "&vqd=" + window.vqd, this.meta.loadedNext(), t.match(/(?:&|\?)cb=([^&?]+)/i)) return nrj(t);
          e.searchExperiments.hasActiveExperiments() && (t = e.searchExperiments.addExperimentParameters(t)), this.extraLoadRequestParameters && (t += this.extraLoadRequestParameters()), $.ajax({
            url: t,
            dataType: "json",
            success: this._onLoadedMore.bind(this),
            error: this._onLoadError.bind(this)
          })
        }
      },
      canShowSnippet: function () {
        return this.items && 1 === this.items.length && !!e.getProperty(this, "items.0.snippetInfoMap." + this.infoSelector)
      },
      usePageQuery: function (e) {
        return e + this.queryEncoded + "&vqd=" + window.vqd
      },
      load: function () {
        if (!(this.isLoading || !this.serviceURL || o.nrj[this.id] && "i" === this.openType)) {
          if (this._shouldBlockAdultResults()) return this._onLoad({
            results: []
          });
          var t;
          this.set("isLoading", 1), t = "function" == typeof this.serviceURL ? this.serviceURL() : this.serviceURL, t = this.usePageQuery(t), this.sources && (t += "&" + this.sources.getParameterQueryString()), this.safeSearch && (t += this._getSafeSearchURLParam()), this.date && (t += "&df=" + e.search.dateFilterId), e.searchExperiments.hasActiveExperiments() && (t = e.searchExperiments.addExperimentParameters(t)), this.extraLoadRequestParameters && (t += this.extraLoadRequestParameters()), "news" === this.id && this.manuallyLoaded && (t += "&nml=1"), "products" === this.id && this.bing && (t = "https:" + e.services.getLinksURL(t)), o.loaded[this.id] = 1, e.Utils.Cache[t] ? this._onLoad(e.Utils.Cache[t]) : $.ajax({
            type: "GET",
            url: t,
            dataType: "json",
            async: !0,
            success: function (i) {
              e.Utils.Cache[t] = i, this._onLoad(i)
            }.bind(this),
            error: this._onLoadError.bind(this)
          })
        }
      },
      indexOfSelectedItem: function () {
        if (this.selectedItem) return $.isNumeric(this._selectedItemIdx) ? this._selectedItemIdx : this._selectedItemIdx = this.items.indexOf(this.selectedItem)
      },
      indexOfHighlightedItem: function () {
        if (this.highlightedItem) return $.isNumeric(this._highlightedItemIdx) ? this._highlightedItemIdx : this._highlightedItemIdx = this.items.indexOf(this.highlightedItem)
      },
      getNextItem: function () {
        var e = this.indexOfSelectedItem();
        return $.isNumeric(e) && this.items[e + 1]
      },
      getPrevItem: function () {
        var e = this.indexOfSelectedItem();
        return $.isNumeric(e) && this.items[e - 1]
      },
      selectNextItem: function () {
        var t = this.getNextItem();
        return (t && t.hidden && e.device.isMobile || t && !t.hidden) && t.select()
      },
      selectPrevItem: function () {
        var e = this.getPrevItem();
        return e && e.select()
      },
      getNextHighlightedItem: function () {
        var e = this.indexOfHighlightedItem();
        return $.isNumeric(e) && this.items[e + 1]
      },
      getPrevHighlightedItem: function () {
        var e = this.indexOfHighlightedItem();
        return $.isNumeric(e) && this.items[e - 1]
      },
      highlightNextItem: function () {
        var e = this.getNextHighlightedItem();
        return e && e.highlight()
      },
      highlightPrevItem: function () {
        var e = this.getPrevHighlightedItem();
        return e && e.highlight()
      },
      getQuerystringItemId: function (e) {
        return e.idField ? e.id : this.items.indexOf(e)
      },
      getDetailHeight: function () {
        var t = this.meta.options || {},
          i = t.detailHeight || s[this.id] || 412,
          a = t.detailHeightShort || 312,
          o = e.device.height - 300 - 2 * (this.tileMarginBottom || 0);
        return s[this.id] ? Math.max(o, s[this.id]) : e.device.isTeapot() ? a : i
      },
      getPixelData: function () {
        var t = {
          ss: e.page ? e.page.showingSafeSearch : 0,
          sp: e.search.spelling ? 1 : 0,
          im: this.isModule ? 1 : 0,
          ism: this.isSideModule ? 1 : 0,
          px: this.proximity ? 1 : 0,
          ul: e.userLocator.hasLocation() ? e.userLocator.userLocation.type[0] : 0
        };
        if (this.headerType && (t.ht = this.headerType), this.local_source && (t.lsrc = this.local_source, "exact_match" !== this.local_source && "fallback" !== this.local_source || (t.di = this.distance, t.bs = this.biz_score, t.cs = this.cat_score, t.hs = this.chain_score, t.de = this.delta, t.ml = this.matches_location, t.rc = this.review_count, t.tc = this.trigger_count, this.wiki_entity && (t.we = this.wiki_entity))), this.profileLinks && (t.pl = this.profileLinks), "about" === this.id) {
          var i = e.getProperty(this, "data.Heading");
          i && (t.wt = i), t.ibv = (e.getProperty(this, "items.0.infobox.items") || []).length > 0 ? 1 : 0
        }
        return e.page && e.page.ads && e.page.ads.hasAds() && (t.adc = e.page.ads.getNumberOfTopAds()), this.hasAdStats && (t.prod_mult = this.items && this.items.length > 1 ? 1 : 0, t.u = this.meta.sourceName, this.gridColumns && (t.pgcd = this.gridColumns + "," + (e.getProperty(this, "meta.layout.columns") || 0) + "," + (this.items ? this.items.length : 0))), "yelp" === this.sourceId ? t.lsrcid = "ylp" : "tripadvisor" === this.sourceId && (t.lsrcid = "ta"), t
      },
      fire: function (t, i) {
        i = $.extend(i || {}, this.getPixelData()), e.pixel.fire(t, this.pixelId, this.openType, i)
      },
      engaged: function (e) {
        this.fire("iae", e)
      },
      clickedExternalLink: function (t) {
        e.backData.set(this.pixelId, {
          ot: this.openType,
          sexp: DDG.searchExperiments.getBackButtonData()
        }), this.fire("iag", t)
      },
      updateModulePosition: function (t, i) {
        var s = [this, t],
          a = e.Models.ModulesPositions.SIDE;
        s.forEach((function (e) {
          var t = {
            isSideModule: i === a,
            position: i
          };
          e.set ? e.set(t) : $.extend(e, t)
        }))
      },
      _addItemsFromResponse: function (t) {
        t && ($.isEmptyObject(t) || this.meta.update({
          next: t.next,
          searchTerm: t.searchTerm,
          responseType: t.responseType,
          requery: t.requery || t.query,
          query: t.query,
          sourceUrl: t.url,
          geoip: t.geoip
        }), "images" !== this.id || t.next || e.footer && e.footer.set("visible", !0), t.isEmptyResponse ? this.set("failed", !0) : this.addItems(t.results || t, t.ads))
      },
      _updateCanExpand: function () {
        var t;
        t = e.device.isMobile ? !this.meta.disableMobileGrid : !(this.meta.disableModeSwitch || this.meta.itemsExpand || this.meta.itemsWidthVaries) && !!(this.items.length >= (this.meta.minItemsForModeSwitch || 12) || this.canLoadMore()), this.set("canExpand", t)
      },
      _shouldBlockAdultResults: function () {
        return ("images" === this.id || "videos" === this.id) && e.search.isAdultQuery && e.settings.safeSearch.isStrict()
      },
      _getSafeSearchURLParam: function () {
        var t;
        return t = "news" === this.id || "videos" === this.id ? e.settings.get("kp") : e.settings.safeSearch.isOff() ? -1 : 1, "f" === this.openType && (t = 1), "&p=" + t
      },
      requery: function (t) {
        if (this.sources) {
          if (this.set("isRequerying", 1), this.hasRequeried = !0, this.meta.reset(), t && t.query && this.meta.update({
              query: t.query
            }), this.selectedItem && this.selectedItem.unselect(), this._shouldBlockAdultResults()) return this._onRequery({
            results: []
          });
          this.failed && this.set("failed");
          var i = this.sources.getRequeryURL(t);
          this.safeSearch && (i += this._getSafeSearchURLParam()), this.date && (i += "&df=" + e.search.dateFilterId), e.searchExperiments.hasActiveExperiments() && (i = e.searchExperiments.addExperimentParameters(i)), $.ajax({
            type: "GET",
            url: i,
            dataType: "json",
            async: !0,
            success: this._onRequery.bind(this),
            error: this._onLoadError.bind(this)
          })
        }
      },
      _onLoad: function (e) {
        this.set("isLoading"), this.serviceURL && (this.set("serviceURL"), this._addItemsFromResponse(e))
      },
      _onRequery: function (e) {
        this.set("isRequerying"), this.set("selectedItem"), this.items.forEach((function (e) {
          e.removeAllListeners()
        })), this.items = [], this.itemsById = {}, this.itemsOnMap = [], this._addItemsFromResponse(e), ["maps_maps", "maps_places", "maps_expanded"].indexOf(this.id) < 0 && this.set("expanded", 1), this.set("isSearchingMapArea", this.isSearchMapAreaPending && this.items.length > 1), this.set("isSearchMapAreaPending", !1), this.emit("requery-complete")
      },
      _onLoadedMore: function (e) {
        this.set("isLoading"), this._addItemsFromResponse(e);
        var t = {
          l: e.results.length,
          p: this.pageNo
        };
        this.fire("lm", t)
      },
      _onLoadError: function () {
        this.set("isLoading"), this.set("isRequerying"), this.items.length || this.set("failed", 1)
      },
      _onItemSelectedChanged: function (e) {
        delete this._selectedItemIdx, e && e.selected ? (this.highlightedItem && this.highlightedItem.unhighlight(), this.selectedItem && e !== this.selectedItem && (this._pendingSelectedItem = e, this.selectedItem.unselect()), this.set("selectedItem", e)) : this._pendingSelectedItem ? delete this._pendingSelectedItem : this.set("selectedItem")
      },
      _onItemHighlightedChanged: function (e) {
        delete this._highlightedItemIdx, e && e.highlighted ? (this.highlightedItem && e !== this.highlightedItem && (this._pendingHighlightedItem = e, this.highlightedItem.unhighlight()), this.set("highlightedItem", e)) : this._pendingHighlightedItem ? delete this._pendingHighlightedItem : this.set("highlightedItem")
      },
      _onTopicSelectedChanged: function (e) {
        e && e.selected ? (this.selectedTopic && e !== this.selectedTopic && this.selectedTopic.unselect(), this.set("selectedTopic", e)) : e !== this.selectedTopic || e.selected || this.set("selectedTopic")
      },
      _onTopicHighlightedChanged: function (e) {
        e && e.highlighted ? (this.highlightedTopic && e !== this.highlightedTopic && this.highlightedTopic.unhighlight(), this.set("highlightedTopic", e)) : e !== this.highlightedTopic || e.highlighted || this.set("highlightedTopic")
      }
    })
  }(DDG),
  function (e) {
    var t, i = e.Models.Base;
    e.Models.AnswerMeta = t = function (e) {
      i.call(this, e)
    }, t.prototype = $.extend({}, i.prototype, {
      options: {},
      loadedURLs: {},
      loadedNext: function () {
        this.next && (this.loadedURLs[this.next] = !0, this.next = null)
      },
      reset: function () {
        this.loadedURLs = {}
      },
      update: function (e) {
        if (e && "object" == typeof e)
          for (var t in e) "next" === t && this.loadedURLs[e[t]] || "searchTerm" === t && this.searchTerm || this.set(t, e[t])
      },
      useExpandTextButton: function () {
        return "images" === this.signal_from || "videos" === this.signal_from || "news" === this.signal_from
      },
      hasAttribution: function () {
        return !this.useExpandTextButton() && this.developer && $.isArray(this.developer) && this.developer.length
      }
    })
  }(DDG),
  function (e) {
    var t, i = e.Models.Base;
    e.Models.AnswerTemplates = t = function (t) {
      t = t || {};
      var s, a = e.Data.templates,
        o = {};
      t.group && (s = a.groups[t.group]) && (t = $.extend(!0, {}, s, t), o = s.options), i.call(this, t), this.options = $.extend(!0, {}, a.defaultOptions, o, this.options || {}), this.elClass = this.elClass || {}, this.variants && this._applyVariants(this.variants)
    }, t.prototype = $.extend({}, i.prototype, {
      _applyVariants: function (t) {
        if (t && "object" == typeof t) {
          var i = e.Data.templates.viewVariants;
          for (var s in t) {
            var a = t[s],
              o = i[s],
              n = o && o[a];
            if (n)
              if ($.isArray(n)) n.forEach(this._applyVariants.bind(this));
              else if ("object" == typeof n)
              for (var l in n) this._applyVariant(l, n[l]);
            else this._applyVariant(s, n)
          }
        }
      },
      _applyVariant: function (e, t) {
        this.elClass[e] ? this.elClass[e] += " " + t : this.elClass[e] = t
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.AnswerItemTopic = function (e) {
      t.call(this, e), this.items = []
    }, e.Models.AnswerItemTopic.prototype = $.extend({}, t.prototype, {
      addItem: function (e) {
        this.items.push(e), this._emitChange("items")
      },
      removeItem: function (e) {
        var t = this.items.indexOf(e);
        t > -1 && (this.items.splice(t, 1), this._emitChange("items"))
      },
      select: function () {
        this.unhighlight(), this.set("selected", 1)
      },
      unselect: function () {
        this.set("selected")
      },
      highlight: function () {
        this.selected || this.set("highlighted", 1)
      },
      unhighlight: function () {
        this.set("highlighted")
      },
      engaged: function () {
        this.set("engaged", 1)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = {
        news: 1,
        images: 1,
        videos: 1,
        web: 1,
        maps_expanded: 1
      };
    e.Models.AnswerBarMenuItem = function (e) {
      this._pixel = e.pixel, t.call(this, e), i[this.pixelId] || this.on("change:visible", this._onVisibleChanged.bind(this))
    }, e.Models.AnswerBarMenuItem.prototype = $.extend({}, t.prototype, {
      toggle: function () {
        this.active || this.set("active", !this.active)
      },
      _onVisibleChanged: function () {
        this.visible && this.getInstance("pixel").fire("ias", this.pixelId)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.AnswerBarMenu = function (e) {
      this.items = [], this.itemsById = {}, this._numStaticItems = 0, t.call(this, e)
    }, e.Models.AnswerBarMenu.prototype = $.extend({}, t.prototype, {
      addAnswer: function (t) {
        if (!(!t || this.itemsById[t.id] || this._showingMapTab && t.hasMap || t.meta && t.meta.hidden)) {
          var i = new e.Models.AnswerBarMenuItem({
            id: t.id,
            name: t.hasMap ? "Maps" : t.name,
            type: t.hasMap ? "static" : t.type,
            pixelId: t.pixelId,
            hasMap: t.hasMap,
            onActive: t.onActive,
            hidden: t.meta && t.meta.hidden
          });
          t.hasMap ? (this._showingMapTab = !0, this._replaceStaticMap(i), this._numStaticItems += 1) : "static" === i.type ? (this.items.splice(this._numStaticItems, 0, i), this._numStaticItems += 1) : this.items.push(i), this.itemsById[i.id] = i, this._emitChange("items"), ("static" === i.type || this._showingNewTabs) && i.set("visible", !0), i.on("change:active", this._onItemActiveChange.bind(this, i.id, t))
        }
      },
      removeAnswer: function (e) {
        var t = !1;
        for (var i in this.items) {
          var s = this.items[i];
          if (s.id === e && "static" !== s.type && !s.hasMap) {
            t = i;
            break
          }
        }
        t && (this.items.splice(t, 1), delete this.itemsById[e], this._emitChange("items"))
      },
      showNewTabs: function () {
        this._showingNewTabs = !0, this.items.forEach((function (e) {
          e.set("visible", !0)
        }))
      },
      setActive: function (e) {
        this._lastActiveId !== e && this.itemsById[e] && (this._lastActiveId = e, this.itemsById[e].set({
          active: !0,
          visible: !0
        }), this.emit("set-active", e))
      },
      openNext: function (e) {
        for (var t, i, s = 0; s < this.items.length; s++)
          if (this.items[s].active) {
            t = s;
            break
          } void 0 !== t && (i = "l" === e ? this.items[t - 1] : this.items[t + 1]) && i.set("active", !0)
      },
      _onItemActiveChange: function (e, t) {
        if (!this._blockActiveHandler) {
          var i = {};
          this.itemsById[e].active ? (this.itemsById[e].hasMap || "maps_expanded" === e) && (i.mapId = e, i.answer = t) : (e = "web", i.defaultOpened = !0), this._blockActiveHandler = !0, this.items.forEach((function (t) {
            t.set("active", t.id === e)
          })), delete this._blockActiveHandler, this._lastActiveId !== e && (this.emit("item-active", e, i), this._lastActiveId = e)
        }
      },
      _replaceStaticMap: function (e) {
        var t = this.itemsById.maps_expanded,
          i = this.items.indexOf(t);
        this.items[i] = e, delete this.itemsById.maps_expanded
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.OpenPixel = function (e) {
      this._deep = e.deep, this._pageLoadTime = e.pageLoadTime, this._page = e.page, this._pixel = e.pixel
    }, e.Models.OpenPixel.prototype = $.extend({}, t.prototype, {
      getOpenType: function (e, t) {
        var i = "e";
        return t.backButtonOpened ? i = "b" : t.is_last_resort_tab ? i = "f" : e && e.isRequery ? i = "r" : t.qsOpened ? i = "q" : t.autoOpened ? i = "i" : t.defaultOpened && (i = "d"), i
      },
      fire: function (e, t) {
        var i = e.model.getPixelData(),
          s = t || e.model.openType;
        "i" === s && $.extend(i, this._getTimingData());
        var a = this.getInstance("page");
        if (a.ads.hasAds()) {
          var o = a.ads.getAds();
          i.adn = o.length, i.is_good_v8_0 = o[0] && o[0].relevancy && o[0].relevancy.is_good_v8 || 0, i.is_good_v8_1 = o[1] && o[1].relevancy && o[1].relevancy.is_good_v8 || 0
        }
        this.getInstance("pixel").fire("iao" + s, e.pixelId, i)
      },
      firePlaceholder: function (e) {
        this.getInstance("pixel").fire("iaop", e, this._getTimingData())
      },
      _getTimingData: function () {
        var e = (new Date).getTime(),
          t = this.getInstance("deep");
        return {
          timeSincePageLoad: e - this._pageLoadTime,
          timeSinceDeepStarted: t.timeSinceStarted(),
          timeSinceDeepFinished: t.timeSinceFinished()
        }
      }
    })
  }(DDG), DDG.Models.ModulesPositions = {
    TOP: -1,
    SIDE: -2,
    PENDING_SLOTTING: -4
  },
  function (e) {
    var t = e.Models.Base,
      i = {
        high: 3,
        medium: 2,
        low: 1
      },
      s = {
        about: 1,
        climb: 1,
        fueleconomy: 1,
        lyrics: 1,
        qa: 1
      },
      a = {
        maps_places_snippet: 1
      },
      o = {
        products: 1,
        autoads: 1
      },
      n = {
        answerType: "About",
        model: "About"
      },
      l = ["lyrics", "nlp_longtail", "nlp_qa", "deep_answer", "nlp_fathead", "deep_fathead"],
      r = ["images", "videos", "news"];
    e.Models.ModulesLayout = function (e) {
      t.call(this, {}), this._device = e.device, this._history = e.history, this._openPixel = e.openPixel, this._settings = e.settings, this.modules = {}, this.signals = {}, this.slots = {}, this.slotsPendingRender = [], this._currentIA = this.getInstance("history").get("ia")
    }, e.Models.ModulesLayout.prototype = $.extend({}, t.prototype, {
      addSignal: function (e) {
        var t = this.signals[e.from] ? this.signals[e.from] : 0;
        this.signals[e.from] = Math.max(t, i[e.signal])
      },
      addModule: function (t) {
        var i = e.Data.answers.getById(t.id);
        t.isSpice && (i = {
          onAdd: i.onAdd,
          onLoad: i.onLoad,
          sideModule: i.sideModule,
          topModule: i.topModule,
          answerTypeObj: i.answerTypeObj
        });
        var n = Object.assign({}, t);
        Object.assign(t, i, n);
        var l = this._getAnswerName(t),
          r = t.nameId || e.strip_non_alpha(l.toLowerCase()),
          d = t.id || r;
        if (t.name = l, t.nameId = r, t.id = d, "function" == typeof t.onAdd && t.onAdd()) return null;
        if (e.history.get("iax") !== r && e.duckbar.validateRequery(e.hidden.get("iar")) !== r || null === r || !t.allowModuleIA || (t.allowModuleIA = 0), t.rt = rt, t.query = e.get_query(), t.queryEncoded = e.get_query_encoded(), void 0 !== t.sideModule && (s[d] = t.sideModule), void 0 !== t.topModule && (a[d] = t.topModule), void 0 !== t.bingSlotting && (o[d] = t.bingSlotting), !s[d] && !a[d]) return t;
        var c = this.modules[d];
        return t.id = d, t.isModule = !0, t.position = this._getPosition(d, t), t.isSideModule = t.position === e.Models.ModulesPositions.SIDE, c || (this._appendModel(t), this.modules[d] = c = t), c.triggered = !0, c.model.position = t.position, t.signal && this.addSignal({
          from: d,
          signal: t.signal
        }), this._emitChange("modules"), t
      },
      _getAnswerName: function (e) {
        var t = e.name || e.duckbar_topic || e.topic || "Answer";
        return "qa" === t ? "Q/A" : t
      },
      _getPosition: function (t, i) {
        var n = i || this.modules[t],
          l = e.Models.ModulesPositions,
          r = e.Data.answers.getById(t);
        return "maps_places" !== t || !n || n.isSingle || "high" !== n.signal || e.search.isNavigational ? (o[t] || r.bingSlotting) && "Bing" === e.getProperty(i, "meta.sourceName") ? l.PENDING_SLOTTING : a[t] || r.topModule ? l.TOP : s[t] || r.sideModule ? this.canShowSideModules() ? l.SIDE : l.TOP : void 0 : l.TOP
      },
      canAddSignal: function (e) {
        return !(l.indexOf(e.from) > -1 && this.canShowSideModules() && !e.hasInfoSelector)
      },
      isTopModule: function (t) {
        e.Data.answers.getById(t);
        return this._getPosition(t) === e.Models.ModulesPositions.TOP
      },
      canShowSideModules: function () {
        var e = this.getInstance("device"),
          t = this.getInstance("settings");
        return !e.isMobileDevice && t.isDefault("kw") && t.isDefault("km") && t.isDefault("kz")
      },
      canShowModule: function (e) {
        var t = this.getModule(e);
        return "low" !== t.signal || "maps_places_multiple" !== t.pixelId && "maps_places_single" !== t.pixelId
      },
      getModule: function (e) {
        return "web" === e && (e = this.defaultId), this.modules[e]
      },
      getModules: function (t) {
        var i, s = [];
        for (var a in this.modules) i = this.modules[a], t && i.position === t && s.push(i), t || s.push(i);
        return e.pageLayout && t === e.Models.ModulesPositions.SIDE && e.pageLayout.sortModulesBySlottedInSidebar(s), s
      },
      getModuleInfo: function (e) {
        return this.getModules(e).map((function (e) {
          return e.pixelId + ":" + e.model.openType + ":" + e.signal
        }))
      },
      isExpandedImages: function (e, t) {
        return "images" === e && "e" === t.activeTabOpenType
      },
      getDefaultTopModule: function () {
        return this.defaultId
      },
      setDefaultTopModule: function (e) {
        this.set("defaultId", e)
      },
      setOpenType: function (e, t) {
        var i = this.getModule(e);
        i && (i.model.openType = t)
      },
      loadContent: function (t, i, s) {
        (s = s || {}).fromDeep = !0;
        var a = e.Data.answers.getById(t);
        "function" == typeof a.onLoad && a.onLoad(i, s);
        var o = this.getModule(t);
        o && (o.model.loaded = !0, i && i.results ? (o.model.addItems(i.results, s), i.layout && o.model.set("layout", i.layout)) : (this.getDefaultTopModule() === o.model.id || o.model.waitingForItems) && o.model.emit("load"))
      },
      slotModule: function (t, i, s, a, n) {
        var l = this.modules && this.modules[i];
        if (-1 !== r.indexOf(i)) {
          var d = l && l.model && l.model.items.length;
          if (l && l.model && !d && !l.model.waitingForItems) return void e.pageLayout.recordDeviation(i, "module", a, null, "content");
          if ("news" === i && 1 === d) return void e.pageLayout.recordDeviation(i, "module", a, null, "single_item")
        }
        if (this.slots[t] = {
            name: i,
            $el: s,
            area: a,
            isAtBottom: n
          }, o[i] && l) {
          var c = "sidebar" === a ? e.Models.ModulesPositions.SIDE : e.Models.ModulesPositions.TOP;
          l.model.updateModulePosition(l, c)
        }
        "maps_places" !== i && "maps_maps" !== i || "m00" !== t || "sidebar" === a || !e.duckbar.mapsPlacesTimer || (e.duckbar.mapsPlacesTimer.hasSlotted = !0), this._emitChange("slotted")
      },
      _appendModel: function (t) {
        var i = t.answerTypeObj || n;
        $.extend(t, i);
        var s = {};
        if (s = t.answerType && e.Models.Answers[t.answerType] ? new e.Models.Answers[t.answerType](t) : new e.Models.Answer(t), !t.serviceURL && !t.doNotCoerceData) {
          s.meta.update(t.meta);
          var a = $.isArray(t.data) ? t.data : [t.data || t];
          s.addItems(a, t.ads)
        }
        s.openType = this.getInstance("openPixel").getOpenType(t, {
          autoOpened: !this._currentIA,
          qsOpened: this._currentIA
        }), t.pixelId = s.pixelId, t.model = s
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ModulesLayout = function (i) {
      this._selectors = i.selectors ? this._combineSelectors(i.selectors) : {}, this._selectorCache = {}, this._verticalId = i.verticalId, this.menu = i.menu, t.call(this, i), this.bindEvents([
        [this.model, "change:modules", this._render],
        [this.model, "change:autoOpenedId", this._showPendingTabs],
        [this.model, "change:expandedMapId", this._createMapVertical],
        [this.menu, "set-active", this._menuChanged],
        [this.model, "change:slotted", this._slotModules],
        [e.deep, "load:any", this._onDeepFinished.bind(this)]
      ])
    }, e.Views.ModulesLayout.prototype = $.extend({}, t.prototype, {
      recalculateModuleSizes: function () {
        e.duckbar && e.duckbar.isDone && !this._hasRecalculatedModuleSizes && (this._triggerCalculateSize(this.views), this._hasRecalculatedModuleSizes = !0)
      },
      _triggerCalculateSize: function (e) {
        for (var t in e) $.isArray(e[t]) ? this._triggerCalculateSize(e[t]) : (e[t].calculateSize && e[t].calculateSize(), e[t].views && this._triggerCalculateSize(e[t].views))
      },
      _getSelector: function (t, i) {
        return this._selectorCache[t] || (this._selectorCache[t] = $(this._selectors[t])), i.allowModuleIA ? e.duckbar.$topModuleWrapper : this._selectorCache[t]
      },
      _menuChanged: function (t) {
        var i = this.model.getModule(t),
          s = this._canAppendModuleAsTopModule(i, t);
        for (var a in this.views) {
          var o = this.views[a];
          o.renderedPosition === e.Models.ModulesPositions.TOP && o.$el && (!o.menuAdded || !s && "web" !== t && ("products" !== t && "recipes" !== t || i.slotted) || o.$el.hide())
        }
        s && this._appendView(i, null, !0)
      },
      _canAppendModuleAsTopModule: function (t, i) {
        if (!t) return !1;
        var s = this.menu && this.menu.itemsById[i] && this.menu.itemsById[i].active && "web" !== i;
        return (!t.allowVertical || !s) && ((!t.allowModuleIA || t.id !== i) && (e.pageLayout.shouldShowExpandedModule(t.model.nameId) ? void 0 : !!(t && this.model.isTopModule(t.model.id) && this.model.canShowModule(t.model.id)) || void 0))
      },
      _showPendingTabs: function () {
        "web" === this._verticalId && this.model.getModules().forEach(function (e) {
          var t = !0;
          e.model.hasMap = this._hasMapTab(e), e.model.isSideModule && this.model.canShowSideModules() ? t = e.model.hasMap : this.model.autoOpenedId !== e.id || e.model.hasMap ? ("about" === e.id || $.inArray(e.id, ["related_searches", "directions", "translations"]) >= 0) && (t = !1) : t = !1, t && this.menu.addAnswer(e.model)
        }.bind(this))
      },
      _showAboutTabIfMissing: function () {
        var t = e.getProperty(this, "views.about"),
          i = e.getProperty(e, "duckbar.tabs.about");
        i && !t && this.menu.addAnswer(i)
      },
      _render: function () {
        this.model.slotsPendingRender.forEach(function (e, t) {
          var i = this.model.getModule(e.name);
          i && (this.model.slotsPendingRender.splice(t, 1), this._attemptToSlotModule(e, i))
        }.bind(this)), DDG.pageLayout && DDG.pageLayout.sidebarReady && this._renderSideModules()
      },
      _hasMapTab: function (t) {
        var i = this.model.getModule(t.id),
          s = !1;
        return "about" === i.id && t.data.Infobox && (s = new e.Models.Modules.AboutInfoBox(t.data).maps.length), "maps_maps" === i.id || "maps_places" === i.id || s
      },
      _appendView: function (t, i, s) {
        var a = t.model.id;
        if (this.views[a]) this.views[a].$el.is(":hidden") && (this.views[a].$el.show(), t.allowModuleIA || e.openPixel.fire(t, "i"));
        else {
          var o = t.model.position,
            n = this._getSelector(o, t);
          if (!n.selector || !n[0]) return;
          i ? n = i : o === e.Models.ModulesPositions.SIDE && t.slotted && (n = ".js-vertical-sidebar-slotted-modules");
          try {
            var l = new e.Utils.TabViewBuilder,
              r = l.build({
                model: t.model,
                appendTo: n
              });
            r.renderedPosition = o, r.show(), !t.slotted && t.triggered && e.pageLayout.recordDeviation(t.model.id, "module", null, t, "triggering"), s ? r.menuAdded = !0 : e.openPixel.fire(t, "i"), this.views[a] = r, $.isFunction(t.model.canShowSnippet) && t.model.canShowSnippet() && (this.snippet = l.buildSnippet({
              prependTo: this._selectors[e.Models.ModulesPositions.TOP],
              answer: t.model
            }), e.pageLayout.recordDeviation("local-snippet", "other", "mainline")), r.model.headerType > 0 && e.duckbar.failed("maps_maps")
          } catch (t) {
            e.pixel.fire("jse", "serp", {
              msg: encodeURIComponent(t.message)
            })
          }
        }
      },
      _combineSelectors: function (t) {
        var i = {};
        for (var s in t) {
          var a = e.Models.ModulesPositions[s];
          a && (i[a] = t[s])
        }
        return i
      },
      _slotModules: function () {
        for (var e in this.model.slots) {
          var t = this.model.slots[e],
            i = this.model.getModule(t.name);
          if (i) {
            if (!this._attemptToSlotModule(t, i)) {
              delete this.model.slots[e];
              continue
            }
          } else this.model.slotsPendingRender.push(t);
          delete this.model.slots[e]
        }
      },
      _renderSideModules: function () {
        for (var t = this.model.getModules(e.Models.ModulesPositions.SIDE), i = 0; i < t.length; i++) {
          var s = t[i];
          s && this.model.canShowModule(s.model.id) && (e.addClass("html", e.$html, "has-right-rail-module"), this._appendView(s)), this._showPendingTabs()
        }
        this.model.autoOpenedId && this._showPendingTabs()
      },
      _canSlotModule: function (e, t) {
        return "sidebar" === e.area && t.isSideModule || "mainline" === e.area && this.model.isTopModule(t.id)
      },
      _onDeepFinished: function () {
        this._showAboutTabIfMissing(), this._render()
      },
      _attemptToSlotModule: function (t, i) {
        return this._canSlotModule(t, i) ? (i.slotted = !0, i.model.isAtBottom = t.isAtBottom && i.position === DDG.Models.ModulesPositions.TOP, this._appendView(i, t.$el), !0) : (e.pageLayout.recordDeviation(i.model.id, "module", t.area, i, "placement"), !1)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ModuleContainer = function (e) {
      t.call(this, e)
    }, e.Views.ModuleContainer.prototype = $.extend({}, t.prototype, {
      template: "module_container",
      _render: function (e) {
        t.prototype._render.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.AdReporting = function (e) {
      this.endpoint = {
        shopping: {},
        SERPAds: {}
      }, this._hasTriedSendingCarouselAds = !1, t.call(this, {})
    }, e.Models.AdReporting.prototype = $.extend({}, t.prototype, {
      sendSERPAdImpressions: function (t, i, s, a) {
        var o = t.items && t.items.length || t.config.hasCarouselAds,
          n = t.carouselAds.mainline.hidden,
          l = t.carouselAds.sidebar.hidden;
        if (this.endpoint.SERPAds.impression && o) {
          if (!e.duckbar.getActiveTab()) {
            if (!a || a < 5) return a = a ? a + 1 : 1, void setTimeout(function () {
              this.sendSERPAdImpressions.call(this, t, i, s, a)
            }.bind(this), 1e3);
            a >= 3 && e.pixel.fire("im", "t", {
              r: a,
              t: 1e3
            })
          }
          var r = this.endpoint.SERPAds.impression,
            d = e.history.get("ia");
          if (r += "&impr=" + this._getSERPAdImpressionString(t), (n.length || l.length) && !this._hasTriedSendingCarouselAds) {
            var c = n.concat(l).join(",");
            r += "&rvf=" + encodeURIComponent(c)
          }
          this._hasTriedSendingCarouselAds = !0, 1 === e.deep.pageNumber && d && "web" !== d && i.mainline && i.mainline.hasAds && e.duckbar.getActiveTab() && (r += "&aba=1"), this._sendFeedbackRequest({
            url: r,
            complete: s,
            errorPixel: "im",
            errorSubPixel: "x"
          })
        }
      },
      sendShoppingImpressions: function (t) {
        var i = [],
          s = t.filter((function (e) {
            return !e.hasReportedImpression
          })),
          a = this._formatImpressionItems(s, "c");
        s.forEach((function (t) {
          t.inViewport || (e.device.isMobileDevice && (t.hasReportedMobileHidden = !0), i.push(t.tid)), t.hasReportedImpression = !0
        })), this._sendFeedbackRequest({
          url: this.endpoint.shopping.impression,
          payload: {
            impr: a,
            rvf: i.join(",")
          },
          errorPixel: "im",
          errorSubPixel: "px"
        })
      },
      sendCarouselAdsVisibility: function (e) {
        if (e.length && this.endpoint.SERPAds.visibility) {
          var t = this.endpoint.SERPAds.visibility,
            i = e.join(",");
          t += "&vis=" + encodeURIComponent(i), this._sendFeedbackRequest({
            url: t,
            errorPixel: "vi",
            errorSubPixel: "x"
          })
        }
      },
      sendShoppingVisibility: function (e) {
        if (e.mobile) {
          var t = e.items.filter((function (e) {
            return e.inViewport && !e.hasReportedMobileVisibility && e.hasReportedMobileHidden
          })).map((function (e) {
            return e.hasReportedMobileVisibility = !0, e.tid
          }));
          t.length > 0 && this._sendFeedbackRequest({
            url: this.endpoint.shopping.visibility,
            payload: {
              vis: t.join(",")
            },
            errorPixel: "vi",
            errorSubPixel: "px"
          })
        } else e.unsentHoveredItems && e.unsentHoveredItems.length > 0 && this._sendFeedbackRequest({
          url: this.endpoint.shopping.visibility,
          beacon: e.beacon,
          payload: {
            vis: e.unsentHoveredItems.join(",")
          },
          errorPixel: "vi",
          errorSubPixel: "px"
        })
      },
      setEndpoint: function (e, t) {
        if (this.endpoint[e])
          for (var i in t) !1 === t[i] ? delete this.endpoint[e][i] : this.endpoint[e][i] = t[i]
      },
      hasEndpoint: function (t, i) {
        return !!e.getProperty(this, "endpoint." + t + "." + i)
      },
      _sendFeedbackRequest: function (t) {
        if (t.url) {
          var i = function (t) {
              $.ajax({
                url: t.url,
                data: t.payload || null,
                async: !t.synchronousRequest,
                error: function (i, s, a) {
                  e.pixel.fire(t.errorPixel, t.errorSubPixel, {
                    status: s,
                    error: i.responseText,
                    code: i.status
                  })
                },
                success: function () {
                  "im" !== t.errorPixel && "vi" !== t.errorPixel || "x" !== t.errorSubPixel || e.pixel.fire(t.errorPixel, "s")
                },
                complete: t.complete || null
              })
            },
            s = function (e) {
              var t = {};
              return e.split("&").forEach((function (e) {
                var i = e.split("="),
                  s = i[0],
                  a = i[1];
                t[s] = decodeURIComponent(a)
              })), t
            };
          t.beacon ? function (e) {
            if (navigator && navigator.sendBeacon) {
              var t = new FormData,
                a = e.url.split("?"),
                o = a[0],
                n = a[1],
                l = $.extend(e.payload || {}, s(n));
              for (var r in l) t.append(r, l[r]);
              navigator.sendBeacon(o, t)
            } else i($.extend(e, {
              synchronousRequest: !0
            }))
          }(t) : i(t)
        } else e.pixel.fire(t.errorPixel, "me", {
          error: "missing endpoint for: " + t.errorSubPixel
        })
      },
      _formatImpressionItems: function (e, t) {
        return e.map((function (e) {
          var i = (e.tid || e) + (t || e.position).substring(0, 1);
          return e.visibleExtensions && e.visibleExtensions.length > 0 && (i += ":" + e.visibleExtensions.map((function (e) {
            return encodeURIComponent(e)
          })).join(";")), i
        })).join("|")
      },
      _getSERPAdImpressionString: function (e) {
        var t = "",
          i = e.carouselAds.mainline.visible.length || e.carouselAds.mainline.hidden.length || e.carouselAds.sidebar.visible.length || e.carouselAds.sidebar.hidden.length;
        if (!e.rendered.length && !i) return t;
        if (t += this._formatImpressionItems(e.rendered), i && !this._hasTriedSendingCarouselAds) {
          "" !== t && (t += "|");
          var s = [];
          for (var a in e.carouselAds) {
            var o = e.carouselAds[a].visible.concat(e.carouselAds[a].hidden);
            o.length > 0 && s.push(this._formatImpressionItems(o, a))
          }
          s.length > 0 && (t += s.join("|"))
        }
        return t = encodeURIComponent(t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = {
        wikipedia_fathead: "about"
      },
      s = {
        ad: 1,
        products: 1,
        autoads: 1,
        wikipedia_fathead: 1
      },
      a = ["maps_maps", "wikipedia_fathead", "maps_places", "about"],
      o = {
        high: 3,
        medium: 2,
        low: 1
      },
      n = "SERPAds";
    e.Models.PageLayout = function (i) {
      this.organics = {
        config: {
          count: 0,
          slots: {}
        }
      }, this.ads = {
        config: {
          count: 0,
          slots: {}
        },
        rendered: [],
        carouselAds: {
          mainline: {
            visible: [],
            hidden: []
          },
          sidebar: {
            visible: [],
            hidden: []
          }
        }
      }, this.deviations = {}, this.deviationSourceUrls = {}, this.disambiguationSignals = [], t.call(this, {}), this.adReporting = new e.Models.AdReporting, this.bindEvents([
        [e.deep, "rendered", function () {
          this.adReporting.sendSERPAdImpressions(this.ads, this.layout, this.resetSERPAdState.bind(this))
        }.bind(this)]
      ])
    }, e.Models.PageLayout.prototype = $.extend({}, t.prototype, {
      canSendSERPAdImpressions: function () {
        return !!(this.layout && this.ads.items && this.adReporting.hasEndpoint(n, "impression"))
      },
      initialize: function (t, i) {
        i && void 0 !== i.start && 0 === Number(i.start) && DDG.deep.fallback && DDG.deep.finished ? e.pixel.fire("ddr") : (this.set("layout", t), this.layout && this.layout.sidebar && e.device.isMobile && e.pixel.fire("bms"), this._layoutMainline(), this._layoutSidebar(), nrn("a", this.ads.items), nrn("d", this.organics.items))
      },
      load: function (e, t, i) {
        if ("a" === e) {
          if (this.ads.items = t, i) {
            var s = {
              impression: i.page_load_url
            };
            this.adReporting.hasEndpoint(n, "visibility") || (s.visibility = i.visibility_url), this.adReporting.setEndpoint(n, s)
          }
        } else "d" === e && (this.organics.items = t)
      },
      recordDeviation: function (t, i, s, a, o) {
        if (t && i) try {
          if ("module" === i && a ? (s = s || a.isSideModule ? "sidebar" : "mainline", this.deviations[t] = {
              area: s,
              type: i
            }) : "ia" === i ? (s = s || "mainline", this.deviations[t] = {
              area: s,
              type: i
            }) : s && (this.deviations[t] = {
              area: s,
              type: i
            }), this.deviations[t])
            if (this.deviations[t].reason = o || "unknown", e.isDev && e.device.isChromiumBased) try {
              var n, l = (new Error).stack.split("\n")[2].match(/\((.*)\)/)[1];
              this.deviationSourceUrls[t] = l
            } catch (e) {}
        } catch (n) {
          e.pixel.fire("devx", "r", {
            msg: n
          })
        }
      },
      sendDeviations: function () {
        try {
          var t = {};
          for (var i in e.modulesLayout.slotsPendingRender.forEach((function (e) {
              t[e.name] = {
                area: e.area,
                type: "module"
              }
            })), t) {
            var s = t[i];
            this.deviations[i] ? this.recordDeviation(i, s.type, s.area, null, "relocated") : this.recordDeviation(i, s.type, s.area, null, "data")
          }
          this.finalDeviations = $.extend({}, this.deviations);
          var a = "";
          if (!this.finalDeviations) return;
          for (var o in this.finalDeviations) {
            "" !== a && (a += ",");
            var n = this.finalDeviations[o];
            "ia" !== n.type && "triggering" !== n.reason && "unknown" !== n.reason && "relocated" !== n.reason || !this.layout[n.area] || (n.aboveAd = this.layout[n.area].hasAds), a += o + ":" + n.type + ":" + n.area + ":" + n.reason + ":" + (n.aboveAd ? 1 : 0)
          }
          e.isDev && "true" !== e.history.get("hideDeviations") && !e.device.isIE && Object.keys(this.finalDeviations).length && this._showDeviationsInConsole(), "" !== a && e.pixel.fire("dev", {
            d: a
          })
        } catch (t) {
          e.pixel.fire("devx", "s", {
            msg: t
          })
        }
      },
      _showDeviationsInConsole: function () {
        (function (e) {
          return Object.keys(this.finalDeviations).reduce(function (e, t) {
            var i;
            return e[t[0].toUpperCase() + t.slice(1)] = (i = this.finalDeviations[t], Object.keys(i).reduce((function (e, t) {
              var s = t[0].toUpperCase() + t.slice(1);
              return "AboveAd" === s ? e[s = "Above Ad"] = !!i[t] : e[s] = i[t], e
            }), {})), e
          }.bind(this), {})
        }).bind(this);
        var t = function () {
          Object.keys(this.finalDeviations).forEach((function (e) {}), this)
        }.bind(this);
        e.device.isChromiumBased && t()
      },
      isDisambiguationSignal: function (e) {
        var t;
        if (e.from && -1 !== a.indexOf(e.from)) return this.disambiguationSignals.forEach((function (i, s) {
          i.from === e.from && (t = !0, o[e.signal] > o[i.signal] && (i.signal = e.signal))
        })), t || this.disambiguationSignals.push(e), !0
      },
      shouldShowExpandedModule: function (t) {
        return !e.Data.answers.getByNameId(t).preventTab && (e.history.get("iax") === t || e.duckbar.validateRequery(e.hidden.get("iar")) === t && null !== t)
      },
      reportTextAdVisible: function (e, t) {
        if (e.adext && e.adext.tid) {
          var i = {
            tid: e.adext.tid,
            position: e.side ? "sidebar" : "mainline",
            visibleExtensions: []
          };
          t && t.forEach((function (e) {
            e && (e.tid && i.visibleExtensions.push(e.tid), e.tids && (i.visibleExtensions = i.visibleExtensions.concat(e.tids)))
          })), this.ads.rendered.push(i)
        }
      },
      reportProductAdVisibility: function (e, t, i) {
        var s = [];
        return t.forEach(function (t) {
          if (t.model.tid) {
            var i = t.model.tid; - 1 === this.ads.carouselAds[e].visible.indexOf(i) && (this.ads.carouselAds[e].visible.push(i), s.push(i));
            var a = this.ads.carouselAds[e].hidden.indexOf(i); - 1 !== a && this.ads.carouselAds[e].hidden.splice(a, 1)
          }
        }.bind(this)), i && i.forEach(function (t) {
          t.model.tid && -1 === this.ads.carouselAds[e].hidden.indexOf(t.model.tid) && -1 === this.ads.carouselAds[e].visible.indexOf(t.model.tid) && this.ads.carouselAds[e].hidden.push(t.model.tid)
        }.bind(this)), s
      },
      convertSlotToModuleName: function (e) {
        return i[e] || e
      },
      isFirstValidSidebarItem: function (t) {
        var i = e.getProperty(this, "layout.sidebar.items");
        if (i)
          for (var a in i)
            if (s[i[a][0]]) return i[a][0] === t;
        return !1
      },
      sortModulesBySlottedInSidebar: function (t) {
        var i = e.getProperty(this, "layout.sidebar.items");
        if (i) {
          var s = {};
          for (var a in i) {
            var o = this.convertSlotToModuleName(i[a][0]);
            s[o] = a
          }
          t.sort((function (e, t) {
            return s[e.id] - s[t.id]
          }))
        }
      },
      _layoutMainline: function () {
        this.layout && this.layout.mainline && this.layout.mainline.items && (this._addSlots("mainline"), this._returnFutureSignals())
      },
      _layoutSidebar: function () {
        if (this.layout && this.layout.sidebar && this.layout.sidebar.items) {
          var e = this.ads.config.count;
          this._addSlots("sidebar");
          var t = "ad" !== this.layout.sidebar.items[this.layout.sidebar.items.length - 1][0],
            i = e === this.ads.config.count;
          (t || i) && this.emit("renderSidebarSlots"), this.sidebarReady = !0
        } else this.sidebarReady = !0
      },
      _disambiguateSignals: function (t, i) {
        if (t.length && !(t.length <= 1)) {
          var s = {
            mainline: ["wikipedia_fathead"],
            sidebar: ["maps_maps"]
          };
          if (s[i] && (t = t.filter((function (e) {
              return -1 === s[i].indexOf(e)
            }))).length && e.duckbar.futureSignals) {
            var a, o = {
                low: [],
                medium: [],
                high: []
              },
              n = this.disambiguationSignals;
            return "sidebar" === i && (n = e.duckbar.futureSignals), n.forEach((function (e) {
              -1 !== t.indexOf(e.from) && o[e.signal] && o[e.signal].push(e.from)
            })), o.high.length ? a = o.high[0] : o.medium.length ? a = o.medium[0] : o.low.length && (a = o.low[0]), "mainline" === i && (this.disambiguationSignals = this.disambiguationSignals.filter((function (e) {
              return e.from !== a
            }))), a
          }
        }
      },
      _addSlots: function (e) {
        for (var t = [], i = this.getInstance("settings").autoloadDisabled(), s = "", a = 0, o = this.layout[e].items, n = 0, l = 0; l < 10 && n < o.length - 1; n++) o[n].length && "organic" === o[n][0] && (l += 1), a = n;
        var r = "related_searches" === o[o.length - 1][0];
        "mainline" === e && i && r && (o.splice(a + 1, 0, o[o.length - 1]), o.splice(-1, 1)), this.layout[e].items.forEach(function (i, a) {
          var o = i[0];
          if ("ad" === o) t.length && (this.ads.config.slots[this.ads.config.count] = {
            modules: t,
            area: e
          }, t = []), "sidebar" === e && this.ads.items[this.ads.config.count] && (this.ads.items[this.ads.config.count].side = !0), this.ads.config.count += 1, this.layout[e].hasAds = !0;
          else if ("organic" === o) t.length && (this.organics.config.slots[this.organics.config.count] = {
            modules: t,
            area: e
          }, t = []), this.organics.config.count += 1;
          else {
            if (i.length > 1 && !(o = this._disambiguateSignals(i, e))) return void this.recordDeviation(i.toString(), "module", e, null, "disambiguation");
            if (o = this.convertSlotToModuleName(o), "mainline" === e && "uselections" === o) return void this._handleElectionsException(o, e);
            if ("mainline" === e && "news" === o && this._manuallyLoadModuleData(o), this._isStackedModule(o, s)) return void this.recordDeviation(i.toString(), "module", e, null, "stacked");
            t.push(o), a === this.layout[e].items.length - 1 && ("sidebar" === e ? (this.ads.config.slots[this.ads.config.count] = {
              modules: t,
              area: e
            }, t = []) : "mainline" === e && (this.organics.config.slots[this.organics.config.count] = {
              modules: t,
              area: e
            }, t = []))
          }
          s = o
        }.bind(this))
      },
      _isStackedModule: function (e, t) {
        if ("news" === e && "videos" === t || "videos" === e && "news" === t) return !0
      },
      _returnFutureSignals: function () {
        this.disambiguationSignals.forEach((function (t) {
          e.duckbar.future_signal_tab(t, !0)
        }))
      },
      resetSERPAdState: function () {
        this.adReporting.setEndpoint(n, {
          impression: !1
        }), delete this.ads.config.hasCarouselAds, this.ads.carouselAds.mainline.hidden = [], this.ads.carouselAds.sidebar.hidden = [], this.ads.rendered = []
      },
      _handleElectionsException: function (e, t) {
        this.layout.mainline.items.some((function (e) {
          return e.length && "news" === e[0]
        })) || (this.recordDeviation(e, "module", t, null, "relocated"), this._manuallyLoadModuleData(e, !0))
      },
      _manuallyLoadModuleData: function (e, t) {
        this.emit("getModuleData", {
          module: e,
          signal: t
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.PageLayout = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "renderSidebarSlots", this._renderSidebarSlots]
      ])
    }, e.Views.PageLayout.prototype = $.extend({}, t.prototype, {
      _render: function () {
        $.noop()
      },
      _renderSidebarSlots: function () {
        var e = this.model.ads.config.slots.length;
        for (var t in this.model.ads.config.slots) this.renderModuleForSlot("a", t, ".js-sidebar-ads", e, "sidebar")
      },
      renderModuleForSlot: function (t, i, s, a, o) {
        "a" === t ? t = "ads" : "d" === t && (t = "organics");
        var n = this.model[t].config.slots[i];
        n && n.modules && n.modules.length && (n.modules.forEach(function (l, r) {
          var d = this.model[t].items[i];
          if (o || (o = "ads" === t && d.side ? "sidebar" : "mainline"), n.area === o) {
            var c = new e.Views.ModuleContainer({
                slot: i,
                count: r,
                appendTo: $(s)
              }),
              h = i === a;
            e.modulesLayout.slotModule("m" + i + r, l, c.$el, o, h), n.modules[r] = null
          }
        }.bind(this)), n.modules = n.modules.filter((function (e) {
          return e
        })), n.modules.length || delete this.model[t].config.slots[i])
      }
    })
  }(DDG),
  function (e) {
    var t = {
        mlb_games: 300,
        nfl_games: 299,
        answer: 200,
        maps_places: 80,
        about: 50,
        videos: -10,
        images: -20
      },
      i = {
        maps_maps: 400,
        forecast: 49,
        products: 199,
        news: -300,
        images: -51,
        maps_places_snippet: -300
      },
      s = {
        high: 3,
        medium: 2,
        low: 1
      },
      a = {
        "item-selected": "onItemSelected",
        "item-unselected": "onItemUnselected",
        "item-shown": "onItemShown",
        show: "onShow",
        hide: "onHide"
      },
      o = DDG.get_now();
    e.Duckbar = function () {
      e.openPixel = new e.Models.OpenPixel({
        pageLoadTime: o
      }), this.menu = new e.Models.AnswerBarMenu, this.modulesLayoutView = new e.Views.ModulesLayout({
        menu: this.menu,
        model: e.modulesLayout,
        verticalId: "web",
        selectors: {
          SIDE: ".js-sidebar-modules",
          TOP: ".js-ia-modules"
        }
      }), this.mapsPlacesTimer = {}, this.mapsPlacesTimer.pageLoadTime = o, this.prepareConvertedSpicesHooks()
    }, e.Duckbar.prototype = {
      id: "duckbar",
      tabs: {},
      tabsByNameId: {},
      froms: {},
      activeTabId: null,
      futureSignals: [],
      futureSignalsById: {},
      failedIA: {},
      isReady: !1,
      areOrganicsShowing: !0,
      onReady: function () {
        this.isReady = !0, this.$zeroClickWrapper = $("#zero_click_wrapper"), this.$webContentWrapper = $("#web_content_wrapper"), this.$verticalWrapper = $("#vertical_wrapper"), this.$topModuleWrapper = $(".js-ia-modules"), this.$el = $("#duckbar"), e.keyboard.on("left", this._openNext.bind(this, "l")), e.keyboard.on("right", this._openNext.bind(this, "r")), this.menuView = new e.Views.AnswerBarMenu({
          appendTo: this.$el,
          model: this.menu
        }), this.menu.on("item-active", this.open.bind(this)), e.Data.answers.shouldAddAutomatically().forEach(this.add.bind(this)), e.router.add("toggle-map", this._toggleExpandedMap.bind(this)), this.addOnReady && this.addOnReady.forEach((function (e) {
          this.add(e)
        }), this), this.show("static"), setTimeout((function () {
          DDG.duckbar.show("placeholder")
        }), 5e3), setTimeout((function () {
          DDG.duckbar.show("placeholder_images")
        }), 4e3)
      },
      getActiveTab: function () {
        return this.tabs[this.activeTabId]
      },
      setOrganicsVisibility: function (t, i) {
        if (t) this.$webContentWrapper.removeClass("is-hidden"), e.footer.set("visible", e.settings.isDefault("kav")), this.modulesLayoutView.recalculateModuleSizes();
        else {
          "images" !== i && "videos" !== i || e.footer.set("visible", !e.settings.isDefault("kc"));
          var s = e.getProperty(this, "tabs." + i + ".view.modulesLayoutView");
          s && s.recalculateModuleSizes(), this.$webContentWrapper.addClass("is-hidden")
        }
        this.areOrganicsShowing = t
      },
      tabIsActiveFullPage: function (e) {
        return e && e.model && e.model.active && ("news" === e.model.id || e.model.expanded) && e.model.isFullPage
      },
      addPlaceholder: function (t) {
        if (!(this.openedTab || this.placeholder || e.history.get("iac") || !e.settings.isDefault("kz") || "maps_places" === t || "maps_maps" === t && e.getProperty(e, "modulesLayout.modules.directions"))) {
          var i = new e.Models.Answer({
            id: "placeholder"
          });
          e.modulesLayout.isTopModule(t) ? this.placeholder = new e.Views.Modules.Placeholder({
            model: i,
            signalWait: t,
            appendTo: this.$topModuleWrapper
          }) : this.placeholder = new e.Views.AnswerBar.Answers.Placeholder({
            model: i,
            signalWait: t,
            appendTo: this.$zeroClickWrapper
          }), e.openPixel.firePlaceholder(t)
        }
      },
      removePlaceholder: function (e) {
        this.placeholder && (this.placeholder.destroy(), delete this.placeholder)
      },
      open: function (t, i) {
        var s, a = this.tabs[t];
        if (i = i || {}, "images" === t && this.fallbackFromNonModule && i.is_last_resort_tab && i.autoOpened && !i.placeholderIsModule && (a = new DDG.DuckbarTab(t, this.fallbackFromNonModule), this.tabs.images = a, a.model.openType = e.openPixel.getOpenType(a.model, i), e.openPixel.fire(a)), e.deep.pending && -1 === $.inArray(t, e.Data.DeferredVerticals) && e.deep.run(), i.mapId || "maps_expanded" === t) return a = this.tabs.maps_expanded, i.isMapExpanded = !0, i.isDirections = "directions" === e.history.get("iaxm") || !!(e.modulesLayout && e.modulesLayout.modules && e.modulesLayout.modules.directions), i.isMapStart = !("start" !== e.history.get("iaxm")), i.model = i.answer || a.model, this._toggleExpandedMap(i), a && a.model && (s = e.openPixel.getOpenType(a.model, i), a.model.openType = s, e.openPixel.fire(a), "q" === s && e.pageLayout.recordDeviation(a.id, "vertical")), void(this.isDone = !0);
        if (a && !e.getProperty(a, "model.meta.hidden") && ("e" !== (s = e.openPixel.getOpenType(a.model, i)) && "d" !== s || e.device.scrollTop(0), (!i.autoOpened || !this.openedTab) && (!i.autoOpened || e.settings.isDefault("kz") || "web" === t))) {
          if (this.openedTab = 1, this.placeholder && this.placeholder.isModule && i.is_last_resort_tab && "images" === t) return a.model.openType = e.openPixel.getOpenType(a.model, i), e.openPixel.fire(a), this.menu.setActive("web"), void this.placeholder.showImages(this.tabs.images.model);
          this.placeholder && this.removePlaceholder("open");
          var o = this.getActiveTab();
          if (o) {
            var n = o.model.isModule && (o.model.allowVertical || o.model.allowModuleIA);
            if (o.id === t && (a.model.isAutoLoadingImages && a.model.isAutoLoadingImages(s) || !n)) return;
            o.model.openedFromModule && e.device.isMobile || DDG.ImageLoader.loadMore(), o.hide()
          }
          this.activeTabId = t;
          var l = a.model.meta;
          if ("web" !== a.pixelId && "e" !== s && "b" !== s && (this.initialTabOpenType = s, this.initialTab = a), this.activeTabOpenType = s, void 0 === l.autoExpand ? l.autoExpand = is_mobile ? 1 : 0 : l.autoExpand && !is_mobile && "e" !== s && (l.autoExpand = 0), l.autoExpand && void 0 === l.autoExpandRows) {
            var r = DDG.history.get("iai");
            l.autoExpandRows = is_mobile && (i.autoOpened || i.qsOpened && !r) ? 1 : 0
          }
          a.model.allowVertical && ("r" !== s && "e" !== s || (a.isVertical = a.model.isVertical = !0, a.isModule = a.model.isModule = a.isOrganicModule = a.model.isOrganicModule = !1, e.history.set("iar", a.nameId)));
          var d, c = "b" === s && null !== a.id && this.validateRequery(DDG.history.get("iar", !0)) === a.id;
          "e" !== s && "r" !== s && (a.model.allowVertical || a.model.allowModuleIA) && a.module && !c && (a = this.tabs[a.id].module), this.tabs[t].model.allowModuleIA && "e" === s && e.getProperty(this, "initialTab.id") === t && e.device.isMobile && a.model.meta && (a.model.meta.autoExpand = 1, a.model.meta.autoExpandRows = 0), d = a.model.allowModuleIA && "e" !== s ? this.$topModuleWrapper : a.isVertical ? this.$verticalWrapper : this.$zeroClickWrapper, a.show({
            openType: s,
            minimizeHeight: a.isModule,
            loadVertical: !i.autoOpened || "f" === s,
            appendTo: d
          });
          var h = a.id;
          !a.isModule || "e" === s || this.initialTab && a.id !== this.initialTab.id || e.pageLayout.shouldShowExpandedModule(a.model.nameId) || (h = "web"), e.search.set("isVertical", a.isVertical), this.menu.setActive(h), "web" === a.id && "e" !== s || i.skipPixel || !a.model.active && a.module || e.openPixel.fire(a, s), this.setOrganicsVisibility(!this.tabIsActiveFullPage(a), a.id), this.isDone = !0, (i.autoOpened || i.qsOpened) && e.modulesLayout.set("autoOpenedId", a.id)
        }
      },
      createTab: function (t) {
        var i;
        for (var s in i = !e.modulesLayout.isTopModule(t.id) || t.allowVertical || t.allowModuleIA || e.pageLayout.shouldShowExpandedModule(t.nameId) ? new DDG.DuckbarTab(t.id, t) : new DDG.NoOpDuckbarTab(t.id), a) {
          var o = t[a[s]];
          o && "function" == typeof o && i.on(s, o)
        }
        return i
      },
      addTab: function (t) {
        var i = t.signal || "low",
          a = this.tabs[t.id];
        return t.isSideModule && !t.isFullPage ? (this.removeFutureSignal(t.id), null) : (t.from && (this.froms[t.from] = !0), a ? s[i] > s[a.signal] && (a.signal = i) : (a = this.createTab(t), "images" === t.id && this.addFallbackData(t), this.tabs[a.id] = a, this.tabsByNameId[a.nameId] = a, a.on("close", this.open.bind(this, "web", {
          defaultOpened: !0
        }))), (!t.isModule || t.allowVertical || t.allowModuleIA || e.pageLayout.shouldShowExpandedModule(t.nameId)) && this.menu.addAnswer(a.model), "maps_expanded" === t.id || t.serviceURL || a.append(t), a)
      },
      addFallbackData: function (t) {
        this.fallbackFromNonModule = Object.assign({}, t, {
          allowModuleIA: !1,
          isModule: !1,
          preventModule: !0,
          isNonModuleFallback: !0
        }, e.device.isMobile ? {
          isFullPage: !1,
          meta: {
            autoExpand: 1
          }
        } : {})
      },
      scheduleIAOpen: function (t) {
        var i = e.history.get("ia"),
          s = e.history.get("iaxm") && "maps_expanded" === t.id;
        null !== t.nameId && t.nameId === this.validateRequery(e.hidden.get("iar")) ? this.open(t.id, {
          qsOpened: 1
        }) : (!s && (!i || i !== t.id && i !== t.nameId || "maps_expanded" === t.id) || this.activeTabId && this.getActiveTab().nameId === i || setTimeout(this.open.bind(this, t.id, {
          qsOpened: 1
        }), 1), setTimeout(this.show.bind(this, "add"), 1))
      },
      add: function (t) {
        if (!this.isReady) return this.addOnReady || (this.addOnReady = []), this.addOnReady.push(t), null;
        if (t.activeTabOpenType = this.activeTabOpenType, !(t = e.modulesLayout.addModule(t))) return null;
        var i = this.addTab(t);
        return this.scheduleIAOpen(t), i
      },
      add_array: function (e) {
        if (e)
          for (var t = 0; t < e.length; t++) this.add(e[t])
      },
      add_local: function (t) {
        var i = DDG.localAPI.getPlacesResponse(t),
          s = e.deep && e.deep.pageLayoutSummary && !!e.deep.pageLayoutSummary.match(/^.{0,3}([p][1-9])/);
        if (!i || !i.results || !i.results.length) return s && (this.mapsPlacesTimer.hasLocalTriggered = !0, e.pixel.fire("lclf", {
          timer: DDG.get_now() - o
        })), this.failed("maps_places");
        var a = 1 === i.results.length,
          n = {
            name: "Places",
            id: "maps_places",
            pixelId: a ? "maps_places_single" : "maps_places_multiple",
            allowMultipleCalls: !0,
            data: i.results,
            signal: i.signal,
            proximity: i.proximity,
            local_source: i.local_source,
            geoip: i.geoip,
            obfusLoc: i.obfusLoc,
            distance: i.distance,
            biz_score: i.biz_score,
            cat_score: i.cat_score,
            chain_score: i.chain_score,
            delta: i.delta,
            isSingle: a,
            matches_location: i.matches_location,
            review_count: i.review_count,
            trigger_count: i.trigger_count,
            wiki_entity: i.wiki_entity,
            sourceName: i.sourceName,
            sourceId: i.sourceId,
            sourceUrl: i.sourceUrl,
            query_special_symbols: i.query_special_symbols,
            meta: {
              idField: "itemId",
              developer: [{
                name: "DDG Team"
              }],
              signal_from: "maps_places"
            }
          };
        DDG.device.isMobile && (delete n.signal, this.future_signal_tab({
          signal: i.signal,
          from: "maps_places"
        })), this.add(n);
        var l = this.modulesLayoutView && this.modulesLayoutView.model && !!this.modulesLayoutView.model.isTopModule("maps_places"),
          r = i.signal && "high" === i.signal;
        (s || l && r) && (this.mapsPlacesTimer.hasLocalTriggered = !0, e.pixel.fire("lclt", {
          timer: DDG.get_now() - o
        }))
      },
      add_directions: function (t) {
        var i = e.localAPI.getDirectionsResponse(t);
        if (!i || !i.results || !i.results.length) return this.failed("directions");
        this.add({
          id: "directions",
          data: i.results
        })
      },
      failed: function (e) {
        var t = (new Date).getTime();
        this.failedIA[e] = t, this.tabs[e] && this.tabs[e].failed();
        var s = 250;
        return i[e] && (s += i[e]), DDG.deep.finished && t - DDG.deep.finished < s && DDG.pixel.fire("iafp", e, {
          failedAt: t - DDG.deep.finished
        }), !1
      },
      future_signal_tab: function (t, i) {
        t && t.from && ("high" === t.signal && "maps_places" === t.from && (e.duckbar.mapsPlacesTimer.hasHighSignal = !0), e.modulesLayout.canAddSignal(t) && (DDG.search && DDG.search.isNavigational && "news" === t.from && this.tabs && this.tabs.news || (t.signal || (t.signal = "high"), t.timeout || (t.timeout = "high" === t.signal ? 3e3 : 1500), t.now = DDG.get_now(), this.failedIA[t.from] || !i && DDG.pageLayout.isDisambiguationSignal(t) || ("maps_places" === t.from && t.hasInfoSelector && (t.from += "_snippet"), this.futureSignals.push(t), this.futureSignalsById[t.from] = t.signal, this.futureSignals = this.futureSignals.sort((function (e, t) {
          return s[e.signal] > s[t.signal] ? -1 : 1
        }))))))
      },
      removeFutureSignal: function (e) {
        this.futureSignals = this.futureSignals.filter((function (t) {
          return t.from !== e
        }))
      },
      show: function (t) {
        if ("placeholder" === t && (this.mapsPlacesTimer.hasSlotted || this.mapsPlacesTimer.hasHighSignal)) {
          var s = !1;
          try {
            e.pageLayout.layout.mainline.items.forEach((function (e) {
              e.forEach((function (e) {
                "maps_places" !== e && "maps_maps" !== e || (s = !0)
              }))
            }))
          } catch (e) {}
          s && !this.mapsPlacesTimer.hasLocalTriggered && e.pixel.fire("lclp", {
            timer: DDG.get_now() - o
          })
        }
        var a = DDG.get_now(),
          n = [],
          l = [],
          r = 0,
          d = [],
          c = [],
          h = [],
          p = a - o;
        for (var u in this.futureSignals)
          if (u = this.futureSignals[u], !this.failedIA[u.from] && "low" !== u.signal && !e.history.get("ia") && ("high" === u.signal ? n[u.from] = 1 : "medium" === u.signal && (l[u.from] = 1), !this.froms[u.from])) {
            if (this.tabs[u.from]) {
              var m = this.tabs[u.from];
              if ("static" !== m.type) continue;
              if (0 !== m.numItems()) continue
            }
            if (a - u.now < u.timeout) {
              r = u.from;
              break
            }
          } for (var f in this.tabs)
          if (m = this.tabs[f], !this.openedTab && !e.history.get("ia")) {
            var g = 0;
            if ((n[m.id] || n[m.from]) && (g = 1), g || m.signal && "high" === m.signal) m.model.allowVertical && m.module && (m = this.tabs[m.id].module), "static" !== m.type || 0 !== m.numItems() || m.model.waitingForItems ? d.push(m) : (m.model.waitingForItems = !0, m.model.emit("load"));
            else if ("static" !== m.type)
              if ("medium" === m.signal || l[m.id] || l[m.from]) {
                if (DDG.device.isMobile && "about" === m.id) continue;
                c.push(m)
              } else h.push(m);
            else this.placeholder && this.placeholder.signalWait === m.id && l[m.id] && c.push(m)
          } var _ = 0,
          v = 0;
        DDG.deep.started || d.length || (_ = 1), !r || d.length || this.modulesLayoutView.snippet || (_ = 1, v = 1);
        var b = r in i ? i[r] : 0;
        if (!this.openedTab && _) return !this.placeholder && DDG.deep.timeSinceFinished() > 250 + b && v && this.addPlaceholder(r), this._showTimer && clearTimeout(this._showTimer), void(this._showTimer = setTimeout(this.show.bind(this, "self"), 50));
        var w, y = 0;
        if (!this.openedTab && (this.placeholder || d.length || c.length) && !(w = this._getBestTabToOpen({
            signalTabsHigh: d,
            signalTabsMedium: c,
            signalWatchHigh: n,
            modulesOnly: this.placeholder && this.placeholder.isModule,
            iasOnly: this.placeholder && !this.placeholder.isModule
          })) && this.placeholder && (p > 4e3 || !_) && (y = 1, (w = this._getLastResortTab({
            tabs: h,
            modulesOnly: this.placeholder && this.placeholder.isModule,
            iasOnly: this.placeholder && !this.placeholder.isModule
          })) && this._fireFallbackPixel(this.placeholder.signalWait)), !this.openedTab && w) {
          if (!this.placeholder && "maps_places" !== w.id) {
            var k = w.from || w.id;
            if (w.timeAdded - (e.deep.finished || a) > 250 + (i[k] || 0)) return
          }
          var x = this.placeholder && this.placeholder.signalWait;
          this.open(w.id, {
            autoOpened: !0,
            is_last_resort_tab: y,
            placeholderIsModule: x && e.modulesLayout.isTopModule(x)
          })
        } else this.placeholder && p > 5e3 && this.placeholder.showNoResults();
        this.activeTabId || this.placeholder || this.validateRequery(e.history.get("iar")) || e.history.get("ia") || !e.deep.finished || e.duckbar.open("web", {
          autoOpened: !0
        })
      },
      getNameId: function (t) {
        var i = e.strip_non_alpha(t.toLowerCase());
        return "all" !== i ? i : "web"
      },
      loadAnswer: function (e, t) {
        var i = this.tabs[e],
          s = {
            keepServiceURL: !0
          };
        this.loadModule(e, t, s), i && !i.model.noModuleItems && i.loadContent(t, s)
      },
      load: function (e, t) {
        return this.loadAnswer(e, t)
      },
      loadModule: function (t, i, s) {
        var a = e.Data.answers.getById(t);
        this.add(a), e.modulesLayout.loadContent(t, i, s || {})
      },
      resetActiveTab: function () {
        var t = e.duckbar.activeTabId;
        e.getProperty(this, "initialTab.id") === t && e.getProperty(this, "tabs." + t + ".isModule") && (t = "web"), this.menu.setActive(t)
      },
      _getBestTabToOpen: function (e) {
        for (var t = e.signalTabsHigh || [], i = e.signalTabsMedium || [], s = e.signalWatchHigh || {}, a = 0; a < t.length; a++) {
          var o = t[a];
          if ((s[o.id] || s[o.from]) && this._isCompatibleTab(o, e)) return o
        }
        return this._getHighestRankingTab(t, e) || this._getHighestRankingTab(i, e) || (this.tabs.answer && this._isCompatibleTab(this.tabs.answer, e) ? this.tabs.answer : this.tabs.about && this._isCompatibleTab(this.tabs.about, e) ? this.tabs.about : this.tabs.meanings && this._isCompatibleTab(this.tabs.meanings, e) ? this.tabs.meanings : void 0)
      },
      _isCompatibleTab: function (t, i) {
        return !((i = i || {}).modulesOnly && !t.isModule) && ((!i.iasOnly || !t.isModule) && !e.Data.answers.getById(t.id).doNotAllowAsFallback)
      },
      _getLastResortTab: function (e) {
        var t = e.tabs || [];
        return this._getHighestRankingTab(t, e) || this.tabs.images
      },
      _getHighestRankingTab: function (e, i) {
        for (var s = -1e3, a = "", o = 0; o < e.length; o++) {
          var n = e[o],
            l = t[n.id] || t[n.from] || 0;
          this._isCompatibleTab(n, i) && (n.model && n.model.meta && "goodie" === n.model.meta.blockgroup && (l += 1e3), n.model && n.model.queryMatch && (l += 1e3), l > s && (s = l, a = n))
        }
        return a
      },
      _fireFallbackPixel: function (t) {
        var i, s, a = this.futureSignals.map((function (e) {
            return e.from + ":" + e.signal
          })).join(","),
          n = "",
          l = "",
          r = (new Date).getTime();
        try {
          for (var d in this.failedIA) s = this.failedIA[d] - DDG.deep.finished, n && (n += ","), n += d + ":" + s;
          for (var c in this.tabs) s = (i = this.tabs[c]).timeAdded - DDG.deep.finished, "static" !== i.type && (l && (l += ","), l += c + ":" + i.signal + ":" + s)
        } catch (e) {}
        var h = {
            timeSincePageLoad: r - o,
            timeSinceDeepStarted: DDG.deep.timeSinceStarted(),
            timeSinceDeepFinished: DDG.deep.timeSinceFinished(),
            numSignals: this.futureSignals.length,
            numTabs: Object.keys(this.tabs).length,
            numFails: Object.keys(this.failedIA).length,
            signals: a,
            fails: n,
            tabs: l
          },
          p = i.module && i.module.model;
        p && void 0 !== p.resultNum && (h.l = p.resultNum, h.f = p.filteredNum), e.pixel.fire("iaff", t, h)
      },
      _getSideModuleOpenType: function () {
        return this.activeTabId ? this.activeTabOpenType : e.history.get("ia") ? "q" : "i"
      },
      _openNext: function (t) {
        if (!e.keyboard.namespaced(/^autocomplete|modal$/) && !e.keyboard.focusedOnInput()) {
          var i = this.getActiveTab();
          i && i.model.selectedItem || this.menu.openNext(t)
        }
      },
      _toggleExpandedMap: function (t) {
        t = t || {};
        var i = this.tabs.maps_expanded;
        i.expandedMap || (i.expandedMap = new e.Views.Verticals.VerticalMap({
          answer: t.model,
          directionsModel: t.directionsModel,
          isDirections: t.isDirections,
          appendTo: "body"
        })), i.expandedMap.toggleExpandedMap(t)
      },
      validateRequery: function (e) {
        return ["images", "videos", "news", "maps", "shopping"].indexOf(e) < 0 ? null : e
      },
      prepareConvertedSpicesHooks: function () {
        var t = e.Data.answers.convertedFromSpice();
        Object.keys(t).forEach((function (i) {
          window["ddg_spice_" + i] = function (s) {
            if (void 0 === s) return e.duckbar.failed(i);
            var a = t[i];
            window.DDH.add({
              id: a,
              data: s,
              from: i,
              pixelId: a,
              convertedFromSpice: !0
            })
          }
        }))
      }
    }
  }(DDG),
  function (e) {
    e.DuckbarTab = function (t, i) {
      -1 !== ["videos", "images"].indexOf(i.id) && e.modulesLayout.getModule(i.id) && !i.preventModule ? this.model = e.modulesLayout.getModule(i.id).model : i.answerType && e.Models.Answers[i.answerType] ? this.model = new e.Models.Answers[i.answerType](i) : this.model = new e.Models.Answer(i), this.id = this.model.id, this.name = this.model.name, this.nameId = this.model.nameId, this.type = this.model.type, this.signal = this.model.signal, this.pixelId = this.model.pixelId, this.from = this.model.from, this.isModule = this.model.isModule, this.isSideModule = this.model.isSideModule, this.timeAdded = (new Date).getTime(), this.items = this.model.items, this.model.isFullPage && (this.model.isRequery = e.hidden.get("iar") === this.nameId && !e.history.get("iax"), this.model.expanded = e.hidden.get("iar") === this.nameId), (i.allowVertical || i.allowModuleIA) && (this.module = new DDG.NoOpDuckbarTab(t))
    }, e.DuckbarTab.prototype = $.extend({}, EventEmitter2.prototype, {
      append: function (t) {
        t && (this.model.active && this.model.items.length && e.history.get("iaf") || (this.model.meta.update(t.meta), t.data = $.isArray(t.data) ? t.data : [t.data || t], this.model.addItems(t.data, t.ads)))
      },
      numItems: function () {
        return this.model.items.length
      },
      show: function (t) {
        if (!this.model.active && (this.$parent = t.appendTo, "web" === this.id || this.view || this._createView()))
          if (this.model.set("openType", t && t.openType), t.loadVertical && (DDG.deep.isBingV7() && "r" == t.openType ? this.model.on("load", this._onLoadedFromDeep.bind(this)) : this.model.load()), this.emit("show"), !this.isSideModule || this.model.isFullPage) {
            var i = e.history.get("iax") && this.model.isFullPage;
            "web" === this.id || i || e.history.get("iar") || e.pageLayout.recordDeviation(this.model.id, "ia", null, null, "triggering"), this.model.set("active", 1), e.history.clear("iac"), this._stashedHistory && (e.history.set(this._stashedHistory), delete this._stashedHistory), this._stashedHidden && (e.hidden.set("iaf", this._stashedHidden), delete this._stashedHidden), e.history.set({
              ia: this.nameId
            })
          } else this.view.show()
      },
      hide: function () {
        this.model.active && (this.isSideModule || (this._stashedHistory = e.history.getNamespace("ia"), e.history.clearNamespace("ia"), e.hidden.get("iaf") && (this._stashedHidden = e.hidden.get("iaf"), e.hidden.clear("iaf"))), this.model.set("active"), this.emit("hide"))
      },
      getHeight: function (e) {
        return this.view && this.view.getHeight && this.view.getHeight(e)
      },
      destroyView: function () {
        this.view && this.view.destroy(), delete this.view, this.model.set("active")
      },
      failed: function () {
        this.model.set("failed", !0)
      },
      loadContent: function (t, i) {
        i = i || {}, t && t.results && ("news" === this.id && (this.model.initialLoad = !0, e.search.spelling && (this.model.spellingCorrected = !0, this.model.queryEncoded = e.search.spelling.parsedQuery)), this.model.addItems(t.results, i)), this.model.emit("load")
      },
      _createView: function () {
        var t = new e.Utils.TabViewBuilder;
        return this.view = t.build({
          model: this.model,
          appendTo: this.$parent,
          events: {
            close: this.emit.bind(this, "close"),
            "item-selected": this.emit.bind(this, "item-selected"),
            "item-unselected": this.emit.bind(this, "item-unselected"),
            "item-shown": this.emit.bind(this, "item-shown")
          }
        }), !!this.view
      },
      _onLoadedFromDeep: function () {
        this.model.load()
      }
    })
  }(DDG),
  function (e) {
    e.NoOpDuckbarTab = function (t) {
      this.model = e.modulesLayout.getModule(t).model, this.id = t, this.name = this.model.name, this.nameId = this.model.nameId, this.type = this.model.type, this.signal = this.model.signal, this.pixelId = this.model.pixelId, this.from = this.model.from, this.isModule = this.model.isModule, this.isSideModule = this.model.isSideModule, this.timeAdded = (new Date).getTime(), this.items = this.model.items
    }, e.NoOpDuckbarTab.prototype = $.extend({}, EventEmitter2.prototype, {
      append: function (e) {
        $.noop
      },
      numItems: function () {
        return this.model.items.length
      },
      show: function (t) {
        e.modulesLayout.setOpenType(this.id, t.openType), "i" !== t.openType && "q" !== t.openType || e.modulesLayout.setDefaultTopModule(this.id), e.history.clear("iac"), this._stashedHistory && (e.history.set(this._stashedHistory), delete this._stashedHistory), e.history.set({
          ia: this.nameId
        })
      },
      hide: function () {
        this.model.active && (this._stashedHistory = e.history.getNamespace("ia"), e.history.clearNamespace("ia"), e.hidden.get("iaf") && (this._stashedHidden = e.hidden.get("iaf"), e.hidden.clear("iaf")))
      },
      getHeight: function (e) {
        $.noop
      },
      destroyView: function () {
        $.noop
      },
      failed: function () {
        this.model.set("failed", !0)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerSelectLists,
      i = e.Models.SelectList;
    t.Parameter = function (e) {
      i.call(this, e)
    }, t.Parameter.prototype = $.extend({}, i.prototype, {
      serialize: function () {
        return this.selected && this.selected.id && !this.disabled ? this.key + ":" + this.selected.id : ""
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerSelectLists,
      i = e.Models.SelectList;
    t.Source = function (e) {
      e.key = "src", i.call(this, e)
    }, t.Source.prototype = $.extend({}, i.prototype, {
      getParameterQueryString: function () {
        if (!this.parameters) return "";
        var e = "";
        return "local" === this.selected.id ? e += this.parameters.map((function (e) {
          return e.key + "=" + e.selected.id
        })).join("&") : (e = "f=", e += this.parameters.map((function (e) {
          return e.serialize()
        })).join(",")), e
      },
      hasActiveFilters: function () {
        return this.parameters && this.parameters.some((function (e) {
          return e.selected && e.selected.id
        }))
      },
      getRequeryURL: function (t) {
        var i = this.selected.requeryURL;
        return "function" == typeof i && (i = i()), -1 === (i += ("local" === this.selected.id && t && t.queryParsed ? t.queryParsed.what : t && t.query ? t.query : e.get_query_encoded()) + "&vqd=" + (t && t.vqd || window.vqd)).indexOf("?") ? i += "?" : i += "&", i += this.getParameterQueryString(), t && (delete t.query, delete t.vqd), $.isEmptyObject(t) || (i += "&" + $.param(t)), i
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerSelectLists,
      i = e.Models.SelectList;
    t.DirectionSource = function (t) {
      (t = t || {}).values = this._getSources(), t.selectedId = e.settings.get("kam"), i.call(this, t), e.settings.on("change:kam", this.select.bind(this))
    }, t.DirectionSource.prototype = $.extend({}, i.prototype, {
      _getSources: function () {
        var e = DDG.Data.Settings.directionSources;
        return Object.keys(e).map((function (t) {
          return $.extend({}, e[t], {
            id: t
          })
        }))
      },
      _createURLForLocation: function (e, t) {
        var i;
        return e && t && t.address && t.lat && t.lon && (i = (i = (i = (i = e).replace(/\{\{addr\}\}/g, t.address)).replace(/\{\{lat\}\}/g, t.lat)).replace(/\{\{lng\}\}/g, t.lon)), i
      },
      getDirectionsURL: function (e) {
        return this.selected ? this._createURLForLocation(this.selected.directionsURL, e) : ""
      },
      getMapURL: function (e) {
        return this.selected ? this._createURLForLocation(this.selected.mapURL, e) : ""
      },
      getMapTitleText: function () {
        var e = this.selected.name;
        return lp("open_in_third_party_app", "Open in %s", e)
      },
      getSourcesForLocation: function (e) {
        return this._getSources().map(function (t) {
          var i = this._createURLForLocation(t.mapURL, e);
          return {
            id: t.id,
            name: t.name,
            mapURL: this._createURLForLocation(t.mapURL, e),
            directionsURL: this._createURLForLocation(t.directionsURL, e),
            faviconURL: t.faviconURL || i
          }
        }.bind(this))
      },
      getNonDefaultSourcesForLocation: function (e) {
        return this.getSourcesForLocation(e).filter(function (e) {
          return !this.selected || e.id !== this.selected.id
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Maps = function (e) {
      t.call(this, e)
    }, e.Models.Answers.Maps.prototype = $.extend({}, t.prototype, {
      answerItemModel: "MapLocation",
      addItems: function (e) {
        t.prototype.addItems.call(this, e), this.items.length && !this.selectedItem && "MapLocation" === this.answerItemModel && this.items[0].select()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.News = function (i) {
      t.call(this, i), this.model && this.bindEvents([
        [this.model, "load", this._load],
        [e.pageLayout, "getModuleData", this._onGetModuleData]
      ])
    }, e.Models.Answers.News.prototype = $.extend({}, t.prototype, {
      answerItemModel: "News",
      _load: function () {
        !this.items.length && this.model.waitingForItems && (e.pixel.fire("nts"), this.model.load())
      },
      _onGetModuleData: function (t) {
        t.module && "news" === t.module && !this.items.length && (this.model.manuallyLoaded = !0, this.model.load(), this.model.waitingForItems = !0, t.signal && e.duckbar.future_signal_tab({
          signal: "high",
          from: "news"
        }))
      },
      _setFailed: function () {
        this.set("failed", !0), Spice.failed(this.pixelId)
      },
      _filterOutOldArticles: function (e) {
        this.resultNum = e.results.length, this.isVertical || (e.results = $.grep(e.results, (function (e) {
          return !e.is_old
        }))), this.filteredNum = this.resultNum - e.results.length
      },
      _onLoad: function (i) {
        i && i.results && (i = $.extend({}, i, !0), this._filterOutOldArticles(i)), t.prototype._onLoad.call(this, i), "news" !== this.id || "e" !== this.openType && "r" !== this.openType || e.pixel.fire("nv", {
          o: this.openType,
          p: e.page && e.page.showingSpelling ? 1 : 0,
          t: e.get_query().match(/\"/) ? 1 : 0,
          l: this.items.length,
          r0: 0 === this.items.length ? 1 : 0,
          r1: this.items.length < 3 ? 1 : 0,
          r2: this.items.length < 5 ? 1 : 0,
          r3: this.items.length < 10 ? 1 : 0
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.About = function (e) {
      t.call(this, e)
    }, e.Models.Answers.About.prototype = $.extend({}, t.prototype, {
      hasContentHeight: function () {
        var e = this.items && this.items[0];
        return e && e.hasPredictableExpandableContent()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Forecast = function (e) {
      t.call(this, e)
    }, e.Models.Answers.Forecast.prototype = $.extend({}, t.prototype)
  }(DDG),
  function (e) {
    var t = e.Models.Answer,
      i = e.device.isMobile ? 2 : 8;
    e.Models.Answers.Images = function (e) {
      e.detailScrollOffset = 40, e.tileMarginBottom = 59, t.call(this, e)
    }, e.Models.Answers.Images.prototype = $.extend({}, t.prototype, {
      getModuleRow: function (t, s, a) {
        for (var o = [], n = {}, l = 0, r = t = t || 0; r < this.items.length && this.items[r]; r++) {
          (n = this.items[r]).rq = rq, n.kurl = kurl || "";
          var d = n.width <= n.height,
            c = n.width / n.height;
          if (n.scaledHeight = a - i, n.divHeight = n.scaledHeight, n.scaledWidth = Math.floor(n.scaledHeight * c), n.divWidth = d ? n.scaledWidth : 2 * n.scaledWidth / 3, l += n.divWidth, DDG.deep.isBingV7()) {
            var h = n.thumbnail + "&h=160";
            n.moduleThumbnail = e.getImageProxyURL(h)
          } else n.moduleThumbnail = e.getImageProxyURL(n.thumbnail, {
            height: 160
          });
          if (o.push(n), l > s) break
        }
        var p = i * (o.length - 1),
          u = s - (l + p),
          m = Math.ceil(u / o.length);
        for (l = 0, r = 0; r < o.length; r++)(n = o[r]).divWidth += m, n.divWidth > n.scaledWidth && (n.divWidth = n.scaledWidth), n.divWidth = Math.max(n.divWidth, 10), l += n.divWidth, n.lastOfRow = r === o.length - 1;
        return u = s - (l + p), n.scaledWidth > n.divWidth + u && (n.divWidth += u), o
      },
      isAutoLoadingImages: function (e) {
        return "q" === e && !1 !== this.expanded && this.isModule
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer,
      i = ["streetaddress", "hours", "phone"];
    e.Models.Answers.Places = function (e) {
      t.call(this, e), this.staticMapTitle = this._getStaticMapTitle(), this.moreAtExternalServiceText = this._getMoreAtExternalServiceText(), this.infoSelector = this._getInfoSelector(this.query_special_symbols), this.on("change:expanded", this._togglePrimaryPlace)
    }, e.Models.Answers.Places.prototype = $.extend({}, t.prototype, {
      addItems: function (e) {
        t.prototype.addItems.call(this, e), this.items && this.items.length > 0 && (this.primaryPlace = this.items[0], this.topPlaces = this.items.slice(0, 3), this.topPlaces = this.topPlaces.map(function (e) {
          return e.set("isSideModule", this.isSideModule), e
        }.bind(this)), this.isSingle = 1 === this.items.length, this.set("isMoreAtVisible", !this.isSingle), this.canExpand = !this.isSideModule && this.isSingle && this.primaryPlace && $.isFunction(this.primaryPlace.isExpandable) && this.primaryPlace.isExpandable())
      },
      isExpandable: function () {
        return this.canExpand
      },
      toggleExpand: function () {
        this.set("expanded", !this.expanded)
      },
      _togglePrimaryPlace: function () {
        this.primaryPlace && this.primaryPlace.toggleExpand()
      },
      _getStaticMapTitle: function () {
        return lp("maps_places", "Open Expanded Map")
      },
      _getMoreAtExternalServiceText: function () {
        var e = this.sourceName;
        return l("More at %s ", e)
      },
      _getInfoSelector: function (e) {
        return $.isArray(e) && e.filter((function (e) {
          return -1 !== i.indexOf(e)
        })).sort((function (e, t) {
          return i.indexOf(e) - i.indexOf(t)
        }))[0] || ""
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.AdsCarousel = function (i) {
      t.call(this, i), this.on("change:position", this._onUpdatePosition.bind(this)), this.bing && (this.adReporting = new e.Models.AdReporting)
    }, e.Models.Answers.AdsCarousel.prototype = $.extend({}, t.prototype, {
      clickedExternalLink: function (e, i) {
        if (!i || !i.target) return t.prototype.clickedExternalLink.call(this, e);
        var s = $(i.target),
          a = $(i.target.parentElement);
        s.hasClass("tile__media") ? e.clk = "i" : a.hasClass("tile__title--brand") ? e.clk = "b" : a.hasClass("tile__title") ? e.clk = "d" : e.clk = "o", this.emit("clicked-external-link"), t.prototype.clickedExternalLink.call(this, e)
      },
      _hasInitializedImpressionFeedback: !1,
      _onUpdatePosition: function () {
        if (!e.device.isMobile && this.position === e.Models.ModulesPositions.SIDE && this.bing) {
          var t = e.getProperty(this, "layout.columns") || 3;
          this.gridColumns = t && Math.min(t, 3), !this.items || 2 != this.items.length && 4 != this.items.length || (this.gridColumns = 2), this.gridColumns && !0 === e.pageLayout.isFirstValidSidebarItem(this.id) && (this.isSlottedFirst = 1)
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answers.AdsCarousel,
      i = {
        Price: !0
      };
    e.Models.Answers.Products = function (i) {
      i.isAffiliate = 1, i.bing = "Bing" === i.meta.sourceName, i.hasHiddenVertical = i.meta.hidden, i.canShowSidebarFilters = i.hasSidebarFilters && !e.device.isMobile, i.bing && (i.meta.idField = "url"), t.call(this, i), this.on("change:expanded", this._onExpandedChanged.bind(this))
    }, e.Models.Answers.Products.prototype = $.extend({}, t.prototype, {
      answerType: "Products",
      answerItemModel: "Product",
      extraLoadRequestParameters: function () {
        var t = "";
        return e.extension.isInstalled() && (t += "&ext=1"), "" !== window.ra && (t += "&a=" + window.ra), window.shrl && (t += "&mkt=" + window.shrl), t
      },
      _onExpandedChanged: function () {
        if (1 === this.expanded && this.bing && !this._hasInitializedImpressionFeedback) {
          var e = function () {
              this.adReporting.sendShoppingVisibility({
                beacon: !1,
                unsentHoveredItems: this._unsentHoveredItems
              }), this._unsentHoveredItems = []
            }.bind(this),
            t = function () {
              this.adReporting.sendShoppingVisibility({
                beacon: !0,
                unsentHoveredItems: this._unsentHoveredItems
              }), this._unsentHoveredItems = []
            }.bind(this);
          this.on("change:highlightedItem", this._reportShoppingItemHovered.bind(this)), this.on("clicked-external-link", e), this.on("change:isLoading", (function (t) {
            t && e()
          })), this.on("change:isRequerying", (function (t) {
            t && e()
          })), this.on("change:items", function () {
            1 === this.expanded && this.adReporting.sendShoppingImpressions(this.items)
          }.bind(this)), this.on("change:active", e), $(window).on("beforeunload", t), setTimeout(e, 33e5), this._hasInitializedImpressionFeedback = !0
        }
      },
      _addItemsFromResponse: function (s) {
        if (this.bing && s && s.feedback && this.adReporting.setEndpoint("shopping", {
            impression: s.feedback.impression,
            visibility: s.feedback.visibility
          }), s.filters) {
          var a = s.filters.map(function (e) {
            var t = Object.keys(e)[0],
              s = e[t],
              a = s.filter((function (e) {
                return e.is_selected
              })).map((function (e) {
                return e.url
              })),
              o = this._filterNameToType(t),
              n = [{
                id: "",
                name: t,
                isHeader: !0
              }];
            return {
              key: t,
              pixelName: this._formatKeyPixelName(t),
              header: t,
              type: o,
              selectedId: a.length > 1 && a || a[0] || !1,
              values: n.concat(s.map((function (e) {
                return {
                  id: e.url,
                  name: e.display_text
                }
              }))),
              singleChoice: !!i[o],
              bing: !0
            }
          }.bind(this));
          a = a.map((function (t) {
            return new e.Models.AnswerSelectLists.Parameter(t)
          })), this.set("parameters", a)
        }
        t.prototype._addItemsFromResponse.call(this, s)
      },
      _unsentHoveredItems: [],
      _reportShoppingItemHovered: function () {
        var t = this.highlightedItem;
        !t || t.hasHovered || e.device.isMobileDevice || (Math.random() > .5 ? this._unsentHoveredItems.push(t.tid) : this._unsentHoveredItems.unshift(t.tid), t.hasHovered = !0)
      },
      _filterNameToType: function (e) {
        return {
          Price: "Price",
          Preis: "Price",
          Prix: "Price",
          Color: "Color",
          Colour: "Color",
          Size: "Size",
          Taille: "Size"
        } [e] || !1
      },
      _formatKeyPixelName: function (e) {
        return "sv_" + e.replace(" ", "-").toLowerCase()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answers.AdsCarousel;
    e.Models.Answers.AutoAds = function (e) {
      e.meta.idField = "url", e.bing = 1, t.call(this, e)
    }, e.Models.Answers.AutoAds.prototype = $.extend({}, t.prototype, {
      answerType: "AutoAds",
      answerItemModel: "AutoAd"
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Recipes = function (e) {
      t.call(this, e)
    }, e.Models.Answers.Recipes.prototype = $.extend({}, t.prototype, {
      answerType: "Recipes",
      answerItemModel: "Recipe"
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.ExpandedMap = function (i) {
      this.id = "maps_expanded", this.name = i.name, this.nameId = i.nameId, this.answerItemModel = i.answerItemModel, this.isMapExpanded = !0, this.firstRun = !0, this.isDirectionsActive = !1, this.isMapStartActive = !1, this.queryEncoded = i.queryEncoded, this.hasContentHeight = !0, this.mapLocation = i.mapLocation, this.hasExampleSearches = null, this.hasNoResults = null, this.hasExternalDirectionsProvider = !1, this.sourceId = i.sourceName, this.local_source = i.localSource, this.sourceName = i.sourceName, this.sourceUrl = i.sourceUrl;
      var s = {
        id: "local",
        requeryURL: e.services.getURL("local")
      };
      i.sources = [s], i.parameters = [{
        key: "tg",
        values: [{
          id: "maps_places"
        }]
      }, {
        key: "rt",
        values: [{
          id: "D"
        }]
      }, {
        key: "mkexp",
        values: [{
          id: "b"
        }]
      }, {
        key: "wiki_info",
        values: [{
          id: "1"
        }]
      }], i.meta = i.meta || {}, i.meta.idField = "itemId", this._metaTokens = [], this.moreAtExternalServiceText = this._getMoreAtExternalServiceText(), e.router.add("map-start", this._handleMapStart.bind(this)), t.call(this, i), i.data && this.addItems(i.data)
    }, e.Models.Answers.ExpandedMap.prototype = $.extend({}, t.prototype, {
      addItems: function (e) {
        this.sourceName = "", this.sourceId = "", this.local_source = "";
        var i = e[0] || e;
        i && ("About" === this.answerItemModel ? this.sourceName = i.AbstractSource : "Place" === this.answerItemModel && (this.sourceName = i.source, this.sourceId = i.sourceId, this.local_source = "api")), t.prototype.addItems.call(this, e), this.items.length && !this.selectedItem && "MapLocation" === this.answerItemModel && this.items[0].select()
      },
      requery: function (i) {
        var s = {
          is_requery: "1"
        };
        s.query = i.query || i.q || this.meta.requery, s.query === decodeURIComponentSafe(s.query) && (s.query = encodeURIComponent(s.query)), i.queryParsed && (s.queryParsed = i.queryParsed);
        var a = this.geo_bbox || this._glMapModel.getApproximateGeoBBox();
        if (i && i.bbox) {
          var o = i.bbox.split(",");
          s.bbox_tl = o[0] + "," + o[1], s.bbox_br = o[2] + "," + o[3]
        } else !a || i && i.isFromHistory || (s.bbox_tl = a.top_left, s.bbox_br = a.bottom_right);
        var n = e.userLocator.hasLocation() && e.userLocator.userLocation.getObfuscatedLoc();
        if (n && (s.latitude = n.lat, s.longitude = n.lon, s.location_type = n.type), s.strict_bbox = i && i.strict_bbox || "0", i && i.iai && (this.selectedItemIdRequery = i.iai), i.suggestion) {
          var l = i.suggestion;
          if (!l.coordinate && l.where && l.where.match(lp("vertical_map", "Search Near My Location"), "i") && (delete s.bbox_tl, delete s.bbox_br), l.coordinate) {
            var r = l.coordinate.latitude,
              d = l.coordinate.longitude,
              c = parseFloat(r) + 5e-5,
              h = parseFloat(d) - 5e-5,
              p = parseFloat(r) - 5e-5,
              u = parseFloat(d) + 5e-5;
            s.bbox_tl = c + "," + h, s.bbox_br = p + "," + u
          }
          l.metadata && (s.metadata = l.metadata)
        }
        i.metatoken && (s.metadata = this.getMetadata(i.metatoken)), this.shouldMapViewportUpdate = !i.hasOwnProperty("shouldMapViewportUpdate") || i.shouldMapViewportUpdate, this.isSearchMapAreaPending = !!i.hasOwnProperty("isSearchMapAreaPending") && i.isSearchMapAreaPending, this.isRequerying || t.prototype.requery.call(this, s)
      },
      onMapStartAction: function () {
        e.router.navigate("map-start")
      },
      _handleMapStart: function (t) {
        this.set("isDirectionsActive", !1), this.set("isMapStartActive", !0), e.history.clear("start"), e.history.clear("end"), e.history.clear("transport"), e.history.clear("bbox"), e.history.clear("strict_bbox"), e.history.set("iaxm", "start")
      },
      saveMetadata: function (e) {
        for (var t = 0; t < this._metaTokens.length; t++)
          if (this._metaTokens[t] === e) return t.toString();
        return this._metaTokens.push(e), (this._metaTokens.length - 1).toString()
      },
      getMetadata: function (e) {
        if ((e = parseInt(e, 10)) < this._metaTokens.length) return this._metaTokens[e]
      },
      _getMoreAtExternalServiceText: function () {
        if (this.sourceName) {
          var e = this.sourceName;
          return l("More at %s ", e)
        }
      },
      getFeedbackCategory: function () {
        var e;
        return this.hasNoResults ? e = "map_no_results" : "Place" === this.answerItemModel ? e = this.items && 1 === this.items.length || this.selectedItem ? "places_single" : "places_multiple" : "About" === this.answerItemModel ? e = "wikipedia" : ["MapLocation", "Maps"].indexOf(this.answerItemModel) > -1 ? e = "maps" : this.isDirectionsActive && (e = "directions"), e
      },
      getCurrentItemName: function () {
        return this.selectedItem && this.selectedItem.name || this.meta && this.meta.requery || this.query
      },
      _onRequery: function (i) {
        var s;
        if ("places" === i.response_type) s = DDG.localAPI.getPlacesResponse(i), this.answerItemModel = "Place", this.sourceName = s.sourceName, this.sourceUrl = s.sourceUrl, this.moreAtExternalServiceText = this._getMoreAtExternalServiceText(), this.set("proximity", s.proximity);
        else if ("map" === i.response_type) s = DDG.localAPI.getMapsResponse(i), this.answerItemModel = "MapLocation";
        else if ("geowiki" === i.response_type) {
          (s = i.wiki_info).query = i.query, s.queryEncoded = i.queryEncoded;
          var a = i.features && i.features[0];
          if (a && a.center) {
            s.lat = a.lat = a.center[1], s.lon = a.lon = a.center[0];
            var o = e.localAPI.getMapsResponse(i);
            s.location = o && o.results && o.results[0]
          }
          this.answerItemModel = "About"
        } else s = DDG.localAPI.getEmptyResponse(i);
        t.prototype._onRequery.call(this, s)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Directions = function (e) {
      if (t.call(this, e), this.data && this.data[0] && this.data[0].user_location) {
        var i = this.data[0].user_location;
        i.lat = i.lat ? parseFloat(i.lat) : null, i.lon = i.lon ? parseFloat(i.lon) : null, this.userLocation = i
      }
    }, e.Models.Answers.Directions.prototype = $.extend({}, t.prototype, {
      answerItemModel: "DirectionsItem",
      addItems: function (e) {
        t.prototype.addItems.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t, i = e.Models.Base;
    e.Models.AnswerItems.Base = t = function (e) {
      this.transform && (e = this.transform(e)), i.call(this, e), this._updateId()
    }, t.extend = function (e) {
      var i = function (e) {
        t.call(this, e)
      };
      return i.prototype = $.extend({}, t.prototype, e || {}), i
    }, t.prototype = $.extend({}, i.prototype, {
      select: function () {
        this.unhighlight(), this.set("selected", 1), this.topic && this.topic.select && this.topic.select()
      },
      unselect: function () {
        this.set("selected"), this.topic && this.topic.unselect && this.topic.unselect()
      },
      highlight: function () {
        this.selected || (this.set("highlighted", 1), this.topic && this.topic.highlight && this.topic.highlight())
      },
      unhighlight: function () {
        this.set("highlighted"), this.topic && this.topic.unhighlight && this.topic.unhighlight()
      },
      toTemplateObject: function () {
        return $.extend({}, this, {
          meta: this.meta ? $.extend({}, this.answerMeta, this.meta) : this.answerMeta
        })
      },
      _updateId: function () {
        return "string" == typeof this.idField && this[this.idField] ? this.id = this[this.idField] : $.isArray(this.idField) && (this.id = this.idField.map((function (e) {
          return this[e]
        }), this).join(""), this.id) ? this.id : this.id = this.UUID()
      },
      getItemTemplate: function () {
        var t = this.templates,
          i = t.item;
        return e.device.isMobile && (i = t.item_mobile || i), i
      },
      getDetailTemplate: function () {
        var t = this.templates,
          i = t.detail;
        return e.device.isMobile && (i = t.detail_mobile || i), i
      },
      getItemDetailTemplate: function () {
        var t = this.templates,
          i = t.item_detail || t.detail;
        return e.device.isMobile && (i = t.item_detail_mobile || t.detail_mobile || i), i
      },
      canShowItemDetail: function () {
        return !!this.getItemDetailTemplate()
      }
    })
  }(DDG),
  function (e) {
    e.Models.AnswerItems.Audio = e.Models.AnswerItems.Base.extend({
      idField: "url"
    })
  }(DDG),
  function (e) {
    e.Models.AnswerItems.FatheadListItem = e.Models.AnswerItems.Base.extend({
      idField: "FirstURL"
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base,
      i = ["alternate", "rain", "snow", "sleet", "fog", "cloudy", "partly-cloudy-day", "partly-cloudy-night", "clear-day", "clear-night", "hail", "thunderstorm", "tornado", "wind"],
      s = [0, 4, 8, 12, 16, 20],
      a = {
        metric: "c",
        imperial: "f"
      },
      o = [lp("forecast", "N"), lp("forecast", "NE"), lp("forecast", "E"), lp("forecast", "SE"), lp("forecast", "S"), lp("forecast", "SW"), lp("forecast", "W"), lp("forecast", "NW"), lp("forecast", "N")],
      n = ["ar", "de", "es", "fr", "it", "ja", "nl", "tr", "zh"];
    e.Models.AnswerItems.Forecast = function (e) {
      t.call(this, e)
    }, e.Models.AnswerItems.Forecast.prototype = $.extend({}, t.prototype, {
      transform: function (t) {
        t && t.currently && t.daily && t.flags && (this._data = t, this.unit = this._getInitialUnit(), this.isMetric = this.unit === a.metric, this._setDailyWeather(t), this.selected = 0, this.latitude = t.latitude, this.longitude = t.longitude, this.location = t.flags["ddg-location"], this.moreAtUrl = this._getMoreLink({}), this.isIE11 = e.device.isIE11p, this._setCurrentWeather(t.currently), this.updateSelected(this.selected, !0), this._mapData(t, this.isMetric), this.weatherAlert = this._getAlert(this._data.alerts), this.hours = this._getHoursData(t))
      },
      _getAlert: function (e) {
        if (!e || !e.length) return !1;
        var t = e.pop();
        return t.title = t.title.replace(/(yellow)|(orange)/gi, ""), "advisory" !== t.severity && "watch" !== t.severity || (t.isAdvisory = !0), t
      },
      _calculatePercent: function (e) {
        return Math.round(100 * e)
      },
      _setCurrentWeather: function (e) {
        if (e) {
          this.precipitation = this._calculatePercent(e.precipProbability), this.humidity = this._calculatePercent(e.humidity), this.icon = this._getIcon(e.icon, 48), this.iconName = e.icon, this.summary = e.summary
        }
      },
      _setDailyWeather: function (t) {
        if (t && t.daily && t.daily.data) {
          this.days = [];
          for (var i, s = t.daily.data.slice(0, 8), a = 0; a < s.length; a++) {
            i = new Date;
            var o = {},
              n = a > 0 ? s[a] : t.currently;
            if (o.index = a, o.icon = this._getIcon(n.icon, 48), o.iconName = n.icon, o.summary = n.summary.replace(/\.$/, ""), o.humidity = n.humidity, o.precipitation = n.precipProbability, i.setDate(i.getDate() + a), e.Utils.ParseDate.toLocaleStringSupportsLocales()) {
              var l = locale.replace("_", "-");
              o.day = i.toLocaleString(l, {
                weekday: "short"
              }).replace(".", ""), o.dayLong = i.toLocaleString(l, {
                weekday: "long"
              }).replace(".", "")
            } else {
              var r = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                d = i.getDay();
              o.day = r[d].substring(0, 4), o.dayLong = r[d]
            }
            this.days.push(o)
          }
        }
      },
      _getInitialUnit: function () {
        var t = e.geo.getUOM();
        return a[t] || a.imperial
      },
      updateUnit: function (e) {
        var t = this.days[this.selected] || {},
          i = t.rawHourly || this._data;
        this.isMetric = e === a.metric, this._mapData(this._data, this.isMetric), this.hours = this._getHoursData(i, this.selected, t.time), t.hours = this.hours, this.set("unit", e)
      },
      updateSelected: function (t, i) {
        var s = this.days[t];
        if (i || (this.summary = s.summary, this.wind = s.wind, this.precipitation = s.precipitation, this.humidity = this._calculatePercent(s.humidity), this.icon = this._getIcon(s.iconName, 64), this.temperature = s.high, this.temperature = 0 === t ? s.temperature : s.high), this.days[this.selected].selected = !1, this.days[t].selected = !0, this.dayLong = e.capitalize(s.dayLong), this.moreLink = this._getMoreLink(s), t > 1 && !s.hours) this.emit("beforeSend"), $.getJSON("/js/spice/forecast_daily/" + this.latitude + "/" + this.longitude + "/" + s.time).done(function (e) {
          s.rawHourly = e, this.hours = this._getHoursData(e, t, s.time), s.hours = this.hours, this.set("selected", t)
        }.bind(this));
        else {
          var a = s.rawHourly || this._data;
          s.hours = this._getHoursData(a, t, s.time), this.hours = s.hours, this.set("selected", t)
        }
      },
      _getMoreLink: function (e) {
        var t = "https://darksky.net";
        if (e.time) {
          var i = new Date;
          i.setDate(i.getDate() + e.index);
          var s = i.toISOString().substr(0, 10);
          t += "/details/" + this.latitude + "," + this.longitude + "/" + s
        } else t += "/forecast/" + this.latitude + "," + this.longitude;
        return t + "/" + this._getTargetUnit() + "/" + this._getTargetLanguage()
      },
      _getTargetUnit: function () {
        return this.isMetric ? "ca24" : "us12"
      },
      _getTargetLanguage: function () {
        var e = window.locale.split("_")[0];
        return -1 === n.indexOf(e) ? "en" : e
      },
      _mapData: function (e, t) {
        if (e.currently) {
          var i = e.currently;
          this.wind = this._convertWindSpeed(i.windSpeed, t), this.wind += " " + this._convertWindDirection(i.windBearing);
          for (var s = 0; s < this.days.length; s++) {
            var a = e.daily.data[s];
            this.days[s].high = this._convertTemperature(a.temperatureMax, t), this.days[s].low = this._convertTemperature(a.temperatureMin, t), this.days[s].time = a.time, this.days[s].temperature = 0 === s ? this._convertTemperature(i.temperature, t) : this.days[s].high, this.days[s].wind = this._convertWindSpeed(a.windSpeed, t), this.days[s].wind += " " + this._convertWindDirection(a.windBearing)
          }
          this.temperature = this.days[this.selected].temperature
        }
      },
      _getHoursData: function (e, t, i) {
        if (e && e.hourly && e.hourly.data) {
          i = new Date(1e3 * i);
          for (var a, o = e.hourly.data, n = {
              labels: [],
              mobileLabels: []
            }, l = 1, r = o.length, d = 0, c = 0; c < r; c += l) {
            var h = o[c];
            if (h) {
              var p = new Date(1e3 * h.time);
              if (!(i && p < i)) {
                var u = this._getSingleHourInfo(h, p),
                  m = u.hourString,
                  f = u.temperatureLabel;
                n.labels.push(this._getSingleHourLabel({
                  temperatureLabel: f,
                  hourString: m,
                  icon: h.icon,
                  precipProbability: h.precipProbability,
                  summary: h.summary
                })), t || 1 !== l || (n.firstHour = m), 1 === l && (l = 3, d = c, r = c + 24)
              }
            }
          }
          return a = s.map((function (e) {
            return o[d + e]
          })), n.mobileLabels = this._getMobileHoursLabels(a), n
        }
      },
      _getSingleHourLabel: function (e) {
        return e.hourString ? (e.precipProbability = 10 * Math.round(10 * e.precipProbability) || !1, {
          temperature: e.temperatureLabel + "°",
          hour: e.hourString,
          icon: this._getIcon(e.icon),
          precipProbability: e.precipProbability,
          summary: e.summary
        }) : null
      },
      _getMobileHoursLabels: function (e) {
        if (e) {
          for (var t = [], i = 0; i < e.length; i++) {
            var s = e[i];
            if (s) {
              var a = new Date(1e3 * s.time),
                o = this._getSingleHourInfo(s, a),
                n = o.hourString,
                l = o.temperatureLabel;
              t.push(this._getSingleHourLabel({
                temperatureLabel: l,
                hourString: n,
                icon: s.icon,
                precipProbability: s.precipProbability,
                summary: s.summary
              }))
            }
          }
          return t
        }
      },
      _getSingleHourInfo: function (t, i) {
        if (t) {
          i = i || new Date(1e3 * t.time);
          var s, a = this._convertTemperature(t.temperature),
            o = this._convertTemperature(t.temperature, this.isMetric);
          if (e.Utils.ParseDate.toLocaleStringSupportsLocales()) s = i.toLocaleString("en-US", {
            hour: "numeric",
            hour12: e.device.isEnglish
          });
          else {
            if (s = i.getHours(), e.device.isEnglish) {
              s = (s && 12 !== s ? s % 12 : 12) + " " + (s >= 12 ? "PM" : "AM")
            }
            s = s.toString()
          }
          return e.device.isEnglish || (s = (s = s.replace(/(\d{2})[^:]+/, "$1")).replace(/^0/, ""), s += ":00"), {
            hourString: s,
            temperature: a,
            temperatureLabel: o
          }
        }
      },
      _convertWindSpeed: function (e, t) {
        return t ? Math.round(1.609344 * e) + " kph" : Math.round(e) + " mph"
      },
      _convertWindDirection: function (e) {
        var t = Math.round(e / 45);
        return o[t] || o[0]
      },
      _convertTemperature: function (e, t) {
        return t ? (e = Math.round(5 / 9 * (e - 32)), e = 0 === Math.abs(e) ? Math.abs(e) : e) : Math.round(e)
      },
      _getIcon: function (e, t) {
        return -1 === i.indexOf(e) && (e = "cloudy"), "/assets/weather/icons/" + e + ".svg"
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base,
      i = "START",
      s = "DONE";
    e.Models.AnswerItems.Place = function (s) {
      t.call(this, s), "applemaps" !== s.sourceId || this.embed || (this.embedLoading = i, this._fetchEmbedData()), this.subtitle = this.getSubtitle(), this.priceSymbol = this.getPriceSymbols(), this.categories = this.getCategories(), this.directions = this.getDirectionsURL(), this.directionsTitle = this.getDirectionsTitle(), this.staticMapTitle = lp("maps_places", "Open Expanded Map"), this.mapURL = e.directionSource.getMapURL(this), this.shortAddress = this.getShortAddress(), $.isEmptyObject(this.hours) || (this.hours = this._transformHours(), this.hoursStatus = this._getHoursStatus(s.hours)), this.embed && (this._onEmbedDataFetched(this.embed), this.embed.image && (this.isScrapedImage = !0)), this.ratingClass = !!this.rating && this.rating.toString().replace(".", "-"), this.morePhotosText = this._getPhotosOnProviderText(), this.moreAtExternalServiceText = this.getMoreAtExternalServiceText(), this.moreOnExternalServiceText = this.getMoreOnExternalServiceText(), this.viewOnExternalServiceText = this.getViewOnExternalServiceText(), this.moreReviewsOnExternalServiceText = this.getMoreReviewsOnExternalServiceText(), this.distanceStr = this.getDistanceString(), this.snippetInfoMap = this.getSnippetInfoMap(), this.showMapCta = !e.device.isMobile && "maps_expanded" !== this.parentId, this.isMobile = e.device.isMobileDevice, this.showTabs = this.isMobile && this.reviews, this.showAttribution = "applemaps" === this.sourceId && this.url, this.hasPriceOrCategory = !!this.priceSymbol || !!this.categories, this.titleUrl = this.url, "applemaps" === this.sourceId && this.website && (this.titleUrl = this.website, this.viewOnExternalServiceText = this.getOpenPlaceWebsiteText()), this.showPriceCategoryNewLine = "maps_expanded" === this.parentId || this.isMobile, (e.device.is2x || e.device.is3x) && (this.ratingImage = this.ratingImageRetina ? this.ratingImageRetina : this.ratingImage), this._setReviews(this.reviews)
    }, e.Models.AnswerItems.Place.prototype = $.extend({}, t.prototype, {
      select: function () {
        t.prototype.select.call(this), "Yelp" !== this.source || this.reviews || this._loadReviews()
      },
      getSubtitle: function () {
        var e = this.getPriceSymbols(),
          t = this.getCategories();
        return e ? t ? e + " · " + t : e : t
      },
      getPriceSymbols: function () {
        if (this.price) {
          for (var e = "", t = 0; t < this.price; t++) e += "$";
          return e
        }
      },
      getCategories: function () {
        if (this.categories && this.categories.length) return this.categories.map((function (e) {
          return e.name
        })).join(", ")
      },
      getDirectionsTitle: function () {
        return e.directionSource.getMapTitleText()
      },
      getDirectionsURL: function () {
        return e.directionSource.getDirectionsURL(this)
      },
      getShortAddress: function () {
        return this.addressLines ? this.addressLines[0] : null
      },
      getDistanceString: function () {
        var t;
        if (this.distance) return "metric" === e.geo.getUOM() ? (t = e.geo.metersToKilometers(this.distance)) ? l("%s km", t) : "" : (t = e.geo.metersToMiles(this.distance)) ? l("%s mi", t) : ""
      },
      _transformHours: function () {
        var t = (new Date).getDay(),
          i = e.device.getLocale(),
          s = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"].map(function (e, i) {
            var s = lp("maps_places", "Closed");
            return this.hours[e] && (s = "12AM–12AM" === this.hours[e] ? lp("maps_places", "Open 24 hours") : this.hours[e]), i === t && (this.hoursToday = s), {
              weekDay: e,
              hours: s,
              isToday: i === t
            }
          }.bind(this));
        return "en" !== i.slice(0, 2) && e.Utils.ParseDate.toLocaleStringSupportsLocales() && (s = this._translateWeekDays(s, i, t)), s
      },
      _translateWeekDays: function (e, t, i) {
        var s = t.replace("_", "-");
        return e.map((function (e, t) {
          var a = new Date,
            o = a.getDate() - i + t;
          a.setDate(o);
          var n = a.toLocaleString(s, {
            weekday: "short"
          }).replace(".", "");
          return e.weekDay = n, e
        }))
      },
      _getHoursStatus: function (e) {
        var t = {};
        return e ? (e.is_open ? e.closes_soon ? (t.textStatus = lp("maps_places", "Closes soon"), t.textHour = e.state_switch_time || "", t.style = "warn") : (t.textStatus = lp("maps_places", "Open"), t.textHour = e.state_switch_time ? lp("maps_places", "Closes") + " " + e.state_switch_time : "", t.style = "on") : e.opens_soon ? (t.textStatus = lp("maps_places", "Opens soon"), t.textHour = e.state_switch_time || "", t.style = "warn") : (t.textStatus = lp("maps_places", "Closed"), t.textHour = e.state_switch_time ? lp("maps_places", "Opens") + " " + e.state_switch_time : "", t.style = "off"), t) : t
      },
      toggleHoursExpand: function () {
        this.hours && this.set("hoursExpanded", !this.hoursExpanded)
      },
      _getPhotosOnProviderText: function () {
        var e = this.source;
        return l("Photos on %s", e)
      },
      getViewOnExternalServiceText: function () {
        var e = this.provider || this.source;
        return l("View on %s", e)
      },
      getOpenPlaceWebsiteText: function () {
        var e = this.name;
        return l("Open %s website", e)
      },
      getMoreAtExternalServiceText: function () {
        var e = this.provider || this.source;
        return l("More at %s ", e)
      },
      getMoreOnExternalServiceText: function () {
        var e = this.source;
        return l("More on %s ", e)
      },
      getMoreReviewsOnExternalServiceText: function () {
        var e = this.source;
        return lp("more_reviews_on_external_website", "More Reviews on %s ", e)
      },
      getUserOnServiceText: function (e) {
        var t = e.name,
          i = this.source;
        return lp("maps_places", "%s on %s", t, i)
      },
      getSnippetInfoMap: function () {
        return {
          hours: this.hoursToday || !1,
          streetaddress: this.address || !1,
          phone: this.displayPhone || !1
        }
      },
      isExpandable: function () {
        return void 0 === this.canExpand ? this.canExpand = !this.isSideModule && (!!this.moreAtExternalServiceText || this.review_detail && this.review_detail.length > 0) : this.canExpand
      },
      toggleExpand: function () {
        this.set("expanded", !this.expanded)
      },
      _loadReviews: function () {
        this._loadedReviews || (this._loadedReviews = !0, $.ajax({
          dataType: "jsonp",
          url: "/local.js?q=" + encodeURIComponent(this.name) + "&tg=maps_places&id=" + this.itemId + "&strong_hint=" + this.itemId + "&fsh=1&l=" + e.settings.region.getId(),
          success: function (t) {
            if ((t = e.localAPI.getPlacesResponse(t)).results && t.results.length) {
              var i = t.results.filter(function (e) {
                return e.itemId === this.itemId
              }.bind(this));
              i && i[0] && this._setReviews(i[0].reviews)
            }
          }.bind(this),
          error: function () {}
        }))
      },
      _setReviews: function (t) {
        t && t.length && (t.forEach(function (t) {
          t.formattedDate = new Date(1e3 * t.timeCreated).toLocaleDateString(!1, {
            year: "numeric",
            month: "short",
            day: "numeric"
          }), t.user.userOnServiceText = this.getUserOnServiceText(t.user), (e.device.is2x || e.device.is3x) && (t.ratingImage = t.ratingImageRetina ? t.ratingImageRetina : t.ratingImage), t.ratingClass = t.rating ? t.rating.toString().replace(".", "-") : ""
        }.bind(this)), this.set("reviews", t))
      },
      _fetchEmbedData: function () {
        if (this.website) {
          var e = "";
          this.timezone && (e = "&tz=" + this.timezone), $.getJSON("/f.js?vqd=" + window.vqd + "&o=json&ldata=1&u=" + this.website + e, this._onEmbedDataFetched.bind(this)).error(this._onEmbedDataFailed.bind(this))
        } else this.set("embedLoading", s)
      },
      _onEmbedDataFetched: function (t) {
        if (t.image) {
          var i = e.getImageProxyURL(t.image, {
            noFallback: !0
          });
          this.set("image", i)
        }
        t.additional_images && this.set("thumbnails", t.additional_images), t.description && this.set("description", t.description.length < 301 ? t.description : t.description.substr(0, 300) + "..."), t.hours && (this.set("hours", t.hours), this.hours = this._transformHours(), this.hoursStatus = this._getHoursStatus(t.hours)), this.set("embedLoading", s)
      },
      _onEmbedDataFailed: function () {
        this.set("embedLoading", s)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base;
    e.Models.AnswerItems.Product = t.extend({
      idField: ["ASIN", "img_m", "img"],
      transform: function (e) {
        e.image = e.img, e.title = e.heading, e.showImage = e.image, e.containImage = 1, e.hideSource = 1;
        var t = i(e),
          a = s(e);
        if (e.onlyGrayText = t || a, a && t && (e.onlyGrayText = t + " - " + a), "Bing" === e.answerMeta.sourceName) {
          if (e.bing = 1, e.onlyGrayText = i(e, 20), e.extensions) {
            e.visibleExtensions = [];
            var o = e.extensions.price_drop,
              n = e.extensions.merchant_promotion,
              l = e.extensions.free_shipping,
              r = e.extensions.product_rating;
            o && o.text && o.tid ? (e.promotion = o.text, e.visibleExtensions.push(o.tid)) : n && n.text && n.tid && (e.promotion = n.text, e.visibleExtensions.push(n.tid)), l && l.tid && e.visibleExtensions.push(l.tid), r && r.tid && e.visibleExtensions.push(r.tid)
          }
          e.img = e.img + "&h=120"
        }
        return e
      }
    });
    var i = function (e, t) {
        return e.brand ? (t = t || 14, e.brand.length > t ? e.brand.substr(0, t - 2) + "…" : e.brand) : ""
      },
      s = function (e) {
        return "string" != typeof e.price ? "" : e.price
      }
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base;
    e.Models.AnswerItems.AutoAd = function (e) {
      t.call(this, e)
    }, e.Models.AnswerItems.AutoAd.prototype = $.extend({}, t.prototype, {
      transform: function (e) {
        e.image = e.img, e.title = e.heading, e.showImage = e.image, e.condition = e.item_condition, e.hasDeliveryLocation = /^(carvana|vroom)(\.com|$)/i.test(e.brand.replace(/\s/g, ""));
        var t = /used/i.test(e.condition) && e.mileage;
        return e.extra = t ? "Mileage: " + e.mileage : "Body Style: " + e.body_style, e.imageProxyOps = {
          height: 130
        }, e
      }
    })
  }(DDG),
  function (e) {
    e.Models.AnswerItems.Recipe = e.Models.AnswerItems.Base.extend({
      idField: "id",
      transform: function (e) {
        return e.excerpt = e.description, e.showImage = e.image || e.fetch_image, e.onlyGrayText = e.ratingText, e.hideSource = 1, e.showRating = 1, e.showDescription = 1, e.oneRowTitle = 1, e
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base,
      i = e.Utils.ParseDate,
      s = {
        YouTube: {
          videoId: {
            match: /embed\/([^?]+)/,
            group: 1
          },
          embedURL: "https://www.youtube-nocookie.com/embed/",
          searchURL: "https://www.youtube.com/results?search_query=",
          userURL: "https://www.youtube.com/channel/",
          url: "https://www.youtube.com/watch?v=",
          params: {
            wmode: "transparent",
            iv_load_policy: 3,
            autoplay: 1,
            html5: 1,
            showinfo: 0,
            rel: 0,
            modestbranding: 1,
            playsinline: 0,
            theme: "light"
          }
        },
        Vimeo: {
          embedURL: "https://player.vimeo.com/video/",
          searchURL: "https://www.vimeo.com/search?q=",
          userURL: "https://vimeo.com/",
          url: "https://vimeo.com/",
          params: {
            api: 0,
            autoplay: 1
          }
        },
        Bing: {}
      };
    e.Models.AnswerItems.Video = t.extend({
      idField: "id",
      transform: function (t) {
        if ("Bing" == t.provider) return this._getBingAttrs(t);
        var i = s[t.provider];
        return t.embedURL = encodeURIComponent(i.embedURL + t.id + "?" + $.param(i.params)), t.faviconURL = e.get_favicon_url(t.provider.toLowerCase()), t.musicVideoData = o(t), t.url = i.url + t.id, t.searchURL = i.searchURL + rq, t.userURL = i.userURL + t.channel_id, t.username = t.display_name, t.viewCount = a(t), t.publishedDate = n(t.published), t.image = t.images.medium, t.showImage = t.image || t.fetch_image, t.onlyGrayText = t.viewCount, t
      },
      getITunesData: function (e) {
        var t = this.musicVideo();
        if (!t) return e();
        if (this._iTunesData) return e(null, this._iTunesData);
        var i = this,
          s = "/iit/" + encodeURIComponent(t.title);
        $.ajax({
          url: s,
          dataType: "json",
          success: function (t) {
            i._iTunesData = t, e(null, t)
          },
          error: function () {
            e()
          }
        })
      },
      canShowItemDetail: function () {
        var i = t.prototype.canShowItemDetail.call(this),
          s = "2" === e.settings.get("k5");
        return i && !s
      },
      isEmbeddable: function () {
        var e = this.embedURL ? decodeURIComponent(this.embedURL) : "";
        return !(!e || 0 !== e.indexOf(s.YouTube.embedURL))
      },
      _formatEmbedURL: function (e, t) {
        var i = s[e],
          a = !!i && i.videoId;
        if (t && a) {
          var o = t.match(a.match),
            n = !(!o || !o[a.group]) && o[a.group];
          if (n) return encodeURIComponent(i.embedURL + n + "?" + $.param(i.params))
        }
        return !1
      },
      _getBingAttrs: function (t) {
        t.provider = t.publisher, t.embedURL = this._formatEmbedURL(t.provider, t.embed_url), t.isBing = !0, t.faviconURL = e.get_favicon_url(t.publisher.toLowerCase()), t.url = t.content, t.idField = "url", t.username = t.uploader, t.labelIcon = !("2" === e.settings.get("k5") || !t.embedURL) && "play", t.statistics && t.statistics.viewCount && "0" != t.statistics.viewCount && (t.viewCount = a(t)), t.publishedDate = n(t.published), t.relativeTimeShort = i.getRelativeDate(t.published), t.image = t.images.medium + "&h=120", t.showImage = t.image || t.fetch_image, t.textOnlySource = t.publisher, t.centerImage = 1, t.extraRow = t.viewCount;
        var o = e.getProperty(s, t.publisher + ".searchURL");
        return o && (t.searchURL = o + rq), t
      }
    });
    var a = function (t) {
        var i = 0;
        return t.statistics && t.statistics.viewCount && (i = parseInt(t.statistics.viewCount, 10), $.isNumeric(i) || (i = 0)), !i && t.duration.match(/\d+:\d+:\d+/) ? lp("video", "Preview") : e.abbrevNumber(i) + " view" + (1 !== i ? "s" : "")
      },
      o = function (e) {
        if (e.category && "Music" === e.category) {
          var t = e.title.replace(/\(.*\)|\[.*\]/g, ""),
            i = (t = (t = t.replace(/\s+f(?:ea|)t\..*$/g, "")).replace(/^\s+|\s+$/g, "")).split(" - "),
            s = i[0],
            a = i[1] || s,
            o = a !== s ? a + " " + s : a;
          return {
            title: t,
            artist: s,
            song: a,
            iTunesURL: "/iit/" + encodeURIComponent(t),
            amazonURL: encodeURIComponent("!a " + o),
            spotifyURL: encodeURIComponent("!spotify " + o)
          }
        }
      },
      n = function (e) {
        var t = DDG.getDateFromString(e);
        return t ? t.toDateString().substr(4) : ""
      }
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems,
      i = t.Base,
      s = {
        desktop: {
          module: 110,
          vertical: 130
        },
        mobile: {
          module: 110,
          vertical: 80
        }
      };
    t.News = i.extend({
      idField: "url",
      transform: function (t) {
        return t.showImage = t.image || t.fetch_image, t.relative_time && (t.relativeTimeShort = t.relative_time.replace(/(\d+) ([a-z]).*/, "$1$2")), t.favicon_url || (t.favicon_url = t.url), e.device.isMobile || "fr-fr" !== window.kl || (t.noExcerpt = 1), t.imageProxyOps = {
          height: this._getImageHeight(t.pageNo)
        }, this.on("change:visible", this._onVisibleChanged.bind(this)), t
      },
      _getImageHeight: function (t) {
        var i = e.device.isMobile ? "mobile" : "desktop";
        return s[i][1 === t ? "module" : "vertical"]
      },
      _fetchImage: function (e) {
        this._fetchedImage || (this._fetchedImage = !0, $.getJSON("/f.js?vqd=" + window.vqd + "&o=json&i=1&u=" + e, this._onImageFetched.bind(this)))
      },
      _onVisibleChanged: function () {
        this.visible && this.fetch_image && !this.image && this._fetchImage(this.url)
      },
      _onImageFetched: function (e) {
        e && e.image && this.set("image", e.image)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base;
    e.Models.AnswerItems.About = function (i) {
      if (t.call(this, i), this.hasInfobox && (this.infobox = new e.Models.Modules.AboutInfoBox({
          Infobox: this.Infobox,
          RelatedTopics: this.RelatedTopics,
          minimizeHeight: i.minimizeHeight
        })), this.infobox && this.infobox.maps.length && (this.headerImage = this.Image && !this.ImageIsLogo, this.headerType = this.headerImage ? 2 : 1, this.header = new e.Models.Modules.AboutHeader({
          imageURL: this.headerImage ? this.Image : null,
          imageWidth: this.ImageWidth,
          imageHeight: this.ImageHeight,
          mapURL: this.infobox.maps[0].value,
          location: this.location
        })), this.header && (this.showDirectionsButton = !0), this.infobox && this.infobox.profiles.length) {
        if (this.infobox.profiles.push({
            data_type: "wikipedia",
            value: this.AbstractURL
          }), this.OfficialUrl) this.infobox.profiles.push({
          data_type: "official_site",
          value: this.OfficialUrl
        }), "b" === e.searchExperiments.assign("muxabouti") && (this.isExperimentB = !0);
        this.profiles = new e.Models.Modules.AboutProfiles({
          title: this.Heading,
          entity: this.Entity,
          data: this.infobox.profiles
        })
      }
      var s = this.answerMeta;
      s && (s.id && "wikihow" === s.id || s.is_stackexchange && 1 === s.is_stackexchange) && (this.hasClickableHeader = !0, e.$html.hasClass("is-vertical-tabs-exp") && (this.noTitleLink = !0))
    }, e.Models.AnswerItems.About.prototype = $.extend({}, t.prototype, {
      headerType: 0,
      isTooHigh: !1,
      toggleExpand: function () {
        this.infobox && this.infobox.toggleExpand(), this.set("expanded", !this.expanded)
      },
      expand: function () {
        this.expanded || this.toggleExpand()
      },
      collapse: function () {
        this.expanded && this.toggleExpand()
      },
      hasPredictableExpandableContent: function () {
        return this.infobox && this.infobox.canExpand() || this.shortAbstract !== this.fullAbstract
      },
      canModuleExpand: function () {
        return this.hasPredictableExpandableContent() || this.isTooHigh
      },
      getAbstract: function () {
        return this.expanded ? this.fullAbstract : this.shortAbstract
      },
      showMoreAtBottom: function () {
        return !this.infobox && (!this.canModuleExpand() || !!this.isTooHigh)
      },
      transform: function (t) {
        if (t.Results && t.Results.length && (t.OfficialUrl = t.Results[0].FirstURL), t.minEllipsisHeight = t.minimizeHeight ? 80 : 160, t.ImageHeight = t.ImageHeight || 0, t.Image && t.ImageWidth && t.ImageHeight) {
          var i = e.device.width <= 1100 ? .7 : 1,
            s = e.scaleToFit(t.ImageWidth, t.ImageHeight, 120, 160);
          t.ImageWidth = parseInt(s.width, 10), t.ImageHeight = parseInt(s.height, 10), t.defaultTextHeight = Math.max(t.minEllipsisHeight, t.ImageHeight * i / 2)
        } else t.Image && delete t.Image;
        t.Image && window.iqbi && !e.settings.safeSearch.isOff() && delete t.Image, t.AbstractSource ? t.moreAtText = t.AbstractSource : t.meta && (t.moreAtText = t.meta.src_name), t.Abstract = e.Utils.Strings.removeUnwantedHtml(t.Abstract) || "", t.hasCode = t.Abstract.match(/\<code/i), t.hasMarkup = t.Abstract.match(/\<\//), t.fullAbstract = t.Abstract, t.shortAbstract = this.trimParagraphs(t), t.hasInfobox = t.Infobox;
        var a = DDG.parseAbstract(t.Heading);
        return t.title = a.main ? a.main.trim() : t.title, t.subTitle = a.subTitle, t
      },
      trimParagraphs: function (e) {
        if (!e.Abstract) return "";
        if (e.hasMarkup) return e.Abstract;
        var t, i = e.Abstract.length,
          s = /\.\s/g,
          a = i,
          o = e.minimizeHeight ? 1.4 : 1.8,
          n = Math.max(e.minEllipsisHeight, e.ImageHeight) * o;
        if (e.Abstract.length <= n) return e.Abstract;
        for (; t = s.exec(e.Abstract);) {
          var l = t.index;
          Math.abs(n - l) < i && (i = Math.abs(n - l), a = l)
        }
        var r = e.Abstract.substring(0, a + 1);
        return e.Abstract.length - r.length < 150 && (r = e.Abstract), r
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base;
    e.Models.AnswerItems.MapLocation = function (i) {
      t.call(this, i), this.hasValidLatLon() && e.search.isLatLonQuery() && (this.displayLatLon = this._getDisplayLatLon()), this.latLng = [this.lat, this.lon]
    }, e.Models.AnswerItems.MapLocation.prototype = $.extend({}, t.prototype, {
      hasValidLatLon: function () {
        return this.lat && !isNaN(this.lat) && this.lon && !isNaN(this.lon)
      },
      _getDisplayLatLon: function () {
        var e = '"';
        return (this.lat > 0 ? this.lat + e + " N, " : -1 * this.lat + e + " S, ") + (this.lon > 0 ? this.lon + e + " E" : -1 * this.lon + e + " W")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.AnswerItems.Base;
    e.Models.AnswerItems.DirectionsItem = function (e) {
      t.call(this, e)
    }, e.Models.AnswerItems.DirectionsItem.prototype = $.extend({}, t.prototype, {})
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Header = function (i) {
      t.call(this, i), this._headerHeight = e.get_header_height() + 1
    }, e.Models.Header.prototype = $.extend({}, t.prototype, {
      updateScrollPosition: function (t) {
        var i, s, a = t < this._previousScroll ? 1 : 0;
        this.scrolledToTop = e.device.isMobile ? t < 42 : 0 === t, this.scrolledPastHeaderThreshold = t > this._headerHeight + 300, this.scrolledPastHeader = t > this._headerHeight, this.canUpdateHeaderPosition = !1, this.newHeaderPosition = -this._headerHeight, this.scrolledToTop && (this._scrollBuffer = 0, this._showingFloatedHeader = !1, this.newHeaderPosition = 0), i = a && !this._showingFloatedHeader, s = !a && this._showingFloatedHeader, this.scrolledPastHeaderThreshold && (i || s) && this._pastScrollBuffer(t, a) && (this.newHeaderPosition = a ? 0 : -this._headerHeight, this.canUpdateHeaderPosition = !0, this._scrollBuffer = 0, this._showingFloatedHeader = !this._showingFloatedHeader), e.device.isMobile && !this.scrolledToTop && (this.newHeaderPosition -= 42), this._previousScroll = t, this._previousScrollDirection = a
      },
      _pastScrollBuffer: function (e, t) {
        return this._previousScrollDirection !== t && (this._scrollBuffer = 0), this._scrollBuffer || (this._scrollBuffer = e + (t ? -50 : 100)), t ? e < this._scrollBuffer : e > this._scrollBuffer
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = {
        spread: {
          title: lp("SERP footer content", "Help Spread DuckDuckGo"),
          body: lp("showcase_spread", "Help your friends and family join the Duck Side!"),
          icon: "spread",
          url: "https://duckduckgo.com/spread",
          id: "sp"
        },
        bangs: {
          title: lp("SERP footer content", "Learn About Bangs"),
          body: lp("SERP footer content", "Discover shortcuts to go to search results on other sites."),
          icon: "bangs",
          url: "https://duckduckgo.com/bang",
          id: "ba"
        },
        app: {
          title: lp("showcase_app", "Get Our App & Extension"),
          body: lp("showcase_app", "Protect your data on every device."),
          icon: "woman",
          url: "https://duckduckgo.com/app",
          id: "bl"
        },
        donations: {
          title: lp("SERP footer content", "Donating for Privacy"),
          body: lp("SERP footer content", "Over %s in DuckDuckGo privacy donations.", "$3,650,000"),
          icon: "donations",
          url: "https://duckduckgo.com/donations",
          id: "dn"
        },
        course: {
          title: lp("SERP footer content", "Privacy in Your Inbox"),
          body: lp("SERP footer content", "Stay protected and informed with our privacy newsletters."),
          icon: "mailbox",
          url: "https://duckduckgo.com/newsletter",
          id: "su"
        },
        syntax: {
          title: lp("SERP footer content", "Fine-tune Your Search"),
          body: lp("SERP footer content", "Learn how to search like the pros."),
          icon: "private-searches",
          url: "https://help.duckduckgo.com/results/syntax",
          id: "syntax"
        },
        tips: {
          title: lp("SERP footer content", "Protect Your Devices"),
          body: lp("SERP footer content", "Check out our privacy device guides."),
          icon: "privacy-simplified",
          url: "https://spreadprivacy.com/tag/device-privacy-tips/",
          id: "tips"
        },
        traffic: {
          title: lp("SERP footer content", "%s Billion Searches", "91"),
          body: lp("SERP footer content", "We get a ton of searches, and all of them are anonymous."),
          icon: "traffic",
          url: "https://duckduckgo.com/traffic",
          id: "traffic"
        },
        themes: {
          title: lp("SERP footer content", "Get New Themes"),
          body: lp("SERP footer content", "You're in control. Customize the look-and-feel of DuckDuckGo."),
          icon: "design",
          url: "https://duckduckgo.com/settings#theme",
          id: "theme"
        },
        about: {
          title: lp("SERP footer content", "Learn About DuckDuckGo"),
          body: lp("SERP footer content", "Learn how we're dedicated to keeping you safe online."),
          icon: "hatched",
          url: "https://duckduckgo.com/about",
          id: "about"
        },
        google: {
          title: lp("SERP footer content", "Say Goodbye To Google"),
          body: lp("SERP footer content", "Learn how you can free yourself from Google for good."),
          icon: "milestone",
          url: "https://spreadprivacy.com/how-to-remove-google/",
          id: "google"
        },
        duckcom: {
          title: lp("SERP footer content", "Get Started at Duck.com"),
          body: lp("SERP footer content", "Get to DuckDuckGo faster. Share duck.com with your friends."),
          icon: "paper-plane",
          url: "https://duck.com",
          id: "duckcom"
        },
        bubble: {
          title: lp("SERP footer content", "Escape The Filter Bubble"),
          body: lp("SERP footer content", "Read about how Google influences what people click."),
          icon: "launch-small",
          url: "https://spreadprivacy.com/google-filter-bubble-study/",
          id: "bubble"
        },
        profit: {
          title: lp("SERP footer content", "How We Are Profitable"),
          body: lp("SERP footer content", "The world needs an alternative to the collect-it-all business model."),
          icon: "beanstalk",
          url: "https://spreadprivacy.com/duckduckgo-revenue-model/",
          id: "profit"
        },
        anonymous: {
          title: lp("SERP footer content", "We Protect Your Privacy"),
          body: lp("SERP footer content", "We don't store your search history or follow you around the web."),
          icon: "shield",
          url: "https://spreadprivacy.com/how-anonymous-is-duckduckgo/",
          id: "anonymous"
        },
        carbon: {
          title: "Better for the Planet",
          body: "We’re carbon negative! Read our climate pledge.",
          icon: "earth",
          url: "https://spreadprivacy.com/duckduckgo-goes-carbon-negative/",
          id: "carbon"
        }
      },
      s = [
        [i.tips, i.donations, i.anonymous],
        [i.traffic, i.course, i.bangs],
        [i.spread, i.duckcom, i.syntax],
        [i.app, i.course, i.spread],
        [i.themes, i.about, i.google]
      ];
    e.device.isEnglish ? s.push([i.carbon, i.spread, i.profit]) : s.push([i.bubble, i.spread, i.profit]), e.Models.Footer = function (i) {
      t.call(this, i), this.cards = [], this.links = [{
        url: "https://spreadprivacy.com",
        icon: "blog",
        id: "bl"
      }, {
        url: "https://twitter.com/duckduckgo",
        icon: "twr",
        id: "tw"
      }, {
        url: "https://reddit.com/r/duckduckgo",
        icon: "reddit",
        id: "rd"
      }, {
        url: "https://duckduckgo.com/newsletter",
        icon: "newsletter",
        id: "nl"
      }], e.device.isDesktop || this.links.push({
        url: "https://duckduckgo.com/app",
        icon: "phone",
        id: "ip"
      }), this._initCards()
    }, e.Models.Footer.prototype = $.extend({}, t.prototype, {
      _initCards: function () {
        for (var e = {}, t = s[Math.floor(Math.random() * s.length)]; this.cards.length < 3;) {
          var i = Math.floor(Math.random() * t.length);
          e[i] || (e[i] = !0, this.cards.push(t[i]))
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = "geoip",
      s = "manual",
      a = "precise",
      o = "obfuscated";
    e.Models.UserLocation = function (e) {
      "string" == typeof (e = e || {}) && (e = this._fromString(e) || {}), this._isValidLatLon(e.lat, e.lon) || (e.lat = null, e.lon = null), this._isValidLocationType(e.type) || (e.type = a), t.call(this, e), this.isValid() && (this.timestamp || (this.timestamp = Date.now()))
    }, e.Models.UserLocation.GEOIP_LOCATION = i, e.Models.UserLocation.MANUAL_LOCATION = s, e.Models.UserLocation.PRECISE_LOCATION = a, e.Models.UserLocation.OBFUSCATED_LOCATION = o, e.Models.UserLocation.prototype = $.extend({}, t.prototype, {
      isValid: function () {
        return this._isValidLatLon(this.lat, this.lon)
      },
      isSameAs: function (e) {
        return this.lat === e.lat && this.lon === e.lon && this.desc === e.desc
      },
      isExpired: function () {
        return !!this.timestamp && (!(!this.desc || "Antarctica, Antarctica" !== this.desc) || (new Date).getTime() - this.timestamp > (e.device.isMobile ? 9e5 : 18e6))
      },
      intoString: function () {
        return [this.lat, this.lon, this.desc, this.timestamp, this.type].join("|")
      },
      intoObj: function (e) {
        var t = e || this;
        return {
          lat: t.lat,
          lon: t.lon,
          desc: t.desc,
          timestamp: t.timestamp,
          type: t.type || a,
          how_this_works: "https://help.duckduckgo.com/privacy/anonymous-localized-results/"
        }
      },
      setDescByGeocoding: function (e) {
        this._geocode(function (t) {
          if (t) {
            var i = t.text;
            if (t.context && t.context.length)
              for (var s = 0; s < t.context.length; s++)
                if (t.context[s].id.match(/(neighborhood|locality|place)/)) {
                  i = t.context[s].text;
                  break
                } i = i.split("  ").join(" "), this.set("desc", i)
          }
          $.isFunction(e) && e()
        }.bind(this))
      },
      getObfuscatedLoc: function () {
        var t = null;
        if (this.isValid()) try {
          var i = e.geo.getRandomCoordsNearby(this.lat, this.lon);
          t = {
            lat: i.newLatLon[0],
            lon: i.newLatLon[1],
            type: o
          }, e.pixel.fire("cos")
        } catch (t) {
          e.pixel.fire("coe", "valid", {
            error: encodeURIComponent(t.message)
          })
        } else e.pixel.fire("coe", "invalid");
        return t
      },_fromString: function (e) {
        var t;
        try {
          (t = JSON.parse(e)) && delete t.how_this_works
        } catch (e) {}
        if (t) t.type = this._isValidLocationType(t.type) ? t.type : a;
        else {
          var i = e.split("|"),
            s = this._isValidLocationType(i[4]) ? i[4] : a;
          t = {
            lat: parseFloat(i[0]),
            lon: parseFloat(i[1]),
            desc: i[2],
            timestamp: parseInt(i[3], 10),
            type: s
          }, this._convertToNewStyle(t)
        }
        return t
      },
      _isValidLatLon: function (e, t) {
        return !("number" != typeof e || "number" != typeof t || isNaN(e) || isNaN(t))
      },
      _isValidLocationType: function (e) {
        return -1 !== [i, s, a, o].indexOf(e)
      },
      _geocode: function (e) {
        var t = encodeURIComponent(this.lon + ", " + this.lat);
        $.ajax({
          url: "/local.js?ha=1&q=" + t,
          dataType: "jsonp",
          success: function (t) {
            if (!t || !t.features || !t.features.length) return e();
            e(t.features[0])
          },
          error: function () {
            e()
          }
        })
      },
      _convertToNewStyle: function (t) {
        try {
          window.localStorage.setItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY, JSON.stringify(t)), e.settings.set(e.settings.LOCATION_SETTING_KEY, 1), e.geo.fetchBucketData(t, (function (t) {
            t ? e.pixel.fire("lcce", "fetch", {
              error: encodeURIComponent(t.message)
            }) : e.pixel.fire("lcco")
          }))
        } catch (t) {
          e.pixel.fire("lcce", "convert", {
            error: encodeURIComponent(t.message)
          })
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = 6e5;
    e.Models.UserLocator = function (i) {
      if (t.call(this, i), this.userLocation = new e.Models.UserLocation, this.errorGettingLocation = !1, this.waitingForLocation = !1, this.problemUpdatingLocation = !1, this._updateClickCount = 0, this._retries = 0, this._checkedForUpdate = !1, this._waitTimeout = null, this._isLocationFetching = !1, this._locationFetchWaitList = [], !e.settings.isDefault(e.settings.LOCATION_SETTING_KEY)) {
        var s, a, o = e.settings.get(e.settings.LOCATION_SETTING_KEY);
        s = o && "1" === o ? e.settings.storageAvailable("localStorage") ? window.localStorage.getItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY) : null : o, (a = new e.Models.UserLocation(s)).isValid() && (a.desc || a.setDescByGeocoding(function () {
          this.setLocation(a)
        }.bind(this)), this.setLocation(a, !1))
      }
    }, e.Models.UserLocator.prototype = $.extend({}, t.prototype, {
      canGetLocation: function () {
        return !!(w.navigator && w.navigator.geolocation && w.navigator.geolocation.getCurrentPosition)
      },
      canShowPUL: function () {
        return !!this.hasLocation() || (e.device.isChromiumBased ? 0 === document.cookie.length || e.settings.storageAvailable("localStorage") : e.settings.storageAvailable("localStorage", {
          bypassCookieCheck: !0
        }))
      },
      hasLocation: function () {
        return this.userLocation.isValid()
      },
      updateLocation: function (t, s) {
        if (t = t || {}, s = "function" == typeof s ? s : null, this.set("lastUpdateType", t.updateType || "na"), ("cta" === t.updateType || "user" === t.updateType) && (this._updateClickCount += 1, 3 === this._updateClickCount)) return e.pixel.fire("lupp"), this.set("problemUpdatingLocation", !0), this._updateClickCount = 0, void(s && s());
        if (!this.canGetLocation() || this.userLocation.type !== e.Models.UserLocation.PRECISE_LOCATION && !t.force || !t.force && this._checkedForUpdate || !t.force && this.userLocation.isValid() && !this.userLocation.isExpired()) s && s();
        else {
          t.retry || e.pixel.fire("lupd", t.updateType), this._stopWaitTimeout();
          var a = "implicit" === t.updateType ? 250 : 150;
          this._waitTimeout = this._setTimeoutWrapper(function () {
            this._waitTimeout = null, this.set("waitingForLocation", !0), this.set("errorGettingLocation", !1)
          }.bind(this), a);
          var o = Date.now();
          w.navigator.geolocation.getCurrentPosition(function (e) {
            this._locationSuccess(e, t, s)
          }.bind(this), function (e) {
            this._locationError(e, t, o, s)
          }.bind(this), {
            enableHighAccuracy: !this._retries,
            timeout: 1e4,
            maximumAge: this._retries ? 36e5 : i
          })
        }
      },
      _locationSuccess: function (t, i, s) {
        e.settings.set(e.settings.LOCATION_SETTING_KEY, 1, {
          saveToCookie: !0
        });
        var a = {
          lat: t.coords.latitude,
          lon: t.coords.longitude
        };
        e.geo.fetchBucketData(a, function (e) {
          this._locationSuccessWrapUp(t, i, s)
        }.bind(this))
      },
      _locationSuccessWrapUp: function (t, i, s) {
        if (this._waitTimeout || this.waitingForLocation) {
          this._stopWaitTimeout();
          var a = new e.Models.UserLocation({
            lat: t.coords.latitude,
            lon: t.coords.longitude,
            type: e.Models.UserLocation.PRECISE_LOCATION
          });
          this._checkedForUpdate = !0, this.set("errorGettingLocation", !1), this.set("waitingForLocation", !1), a.setDescByGeocoding(function () {
            var t = this.setLocation(a);
            e.pixel.fire("lups", i.updateType, {
              di: t
            }), this.emit("successGettingLocation"), s && s()
          }.bind(this))
        } else s && s()
      },
      _locationError: function (t, i, s, a) {
        var o = "sys";
        if (this._waitTimeout || this.waitingForLocation) {
          if (this._stopWaitTimeout(), (3 === t.code || 2 === t.code) && this._retries < 1) return this._retries += 1, i.retry = !0, void this.updateLocation(i, a);
          1 === t.code && (Date.now() - s > 150 && (o = "user"), this.hasLocation() ? (this.userLocation.timestamp = Date.now(), this.setLocation(this.userLocation)) : this.disableLocAsk(o)), this._checkedForUpdate = !0, this.set("errorGettingLocation", t.code), this.set("waitingForLocation", !1), e.pixel.fire("lupe", i.updateType, t.code, o), a && a()
        } else a && a()
      },
      cancelLocation: function () {
        this._stopWaitTimeout(), this.set("waitingForLocation", !1), this.set("errorGettingLocation", !1)
      },
      clearLocation: function () {
        this._stopWaitTimeout(), this.set("userLocation", new e.Models.UserLocation), this.set("errorGettingLocation", !1), this.set("waitingForLocation", !1), e.settings.clear(e.settings.LOCATION_SETTING_KEY, {
          saveToCookie: !0,
          saveToCloud: !1
        }), e.pixel.fire("lcx"), this.emit("meaningfulUserLocationChange")
      },
      _setTimeoutWrapper: function (e, t) {
        return window.setTimeout(e, t)
      },
      _stopWaitTimeout: function () {
        this._waitTimeout && (w.clearTimeout(this._waitTimeout), this._waitTimeout = null)
      },
      disableLocAsk: function (t) {
        var i = {
          saveToCookie: !0,
          saveToCloud: !1
        };
        if ("sys" === (t = t || "user")) {
          var s = new Date;
          s.setDate(s.getDate() + 7), i.expires = s
        }
        e.settings.set("kat", "-1", i)
      },
      setGeoIPLocation: function (t) {
        t && t.type === e.Models.UserLocation.GEOIP_LOCATION && t.isValid() && (this.geoipLocation = t)
      },
      setLocation: function (t, i) {
        i = void 0 === i || i;
        var s = 0,
          a = !1;
        if (this.hasLocation() && this.userLocation.type !== t.type && (a = !0, e.pixel.fire("lstc", t.type)), this.userLocation.isSameAs(t) && !this.userLocation.isExpired() || (s = e.geo.distance(this.userLocation, t), this.set("userLocation", t)), i) {
          e.settings.clear("kat"), e.settings.set(e.settings.LOCATION_SETTING_KEY, 1, {
            saveToCookie: !0,
            saveToCloud: !1
          });
          try {
            var o = this.userLocation.intoObj();
            window.localStorage.setItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY, JSON.stringify(o))
          } catch (t) {
            e.settings.clear(e.settings.LOCATION_SETTING_KEY), e.pixel.fire("lsle", this.lastUpdateType || "manual", {
              error: encodeURIComponent(t.message)
            })
          }
        }
        return (a || s && s > 1) && this.emit("meaningfulUserLocationChange", s), s
      },
      fetchGeoIPLocation: function (t) {
        var i = function (e, t) {
          this._locationFetchWaitList.forEach((function (i, s) {
            $.isFunction(i) && i(e, t)
          }))
        }.bind(this);
        this._isLocationFetching ? this._locationFetchWaitList.push(t) : this.geoipLocation ? t(this.geoipLocation) : (this._isLocationFetching = !0, this._locationFetchWaitList.push(t), $.ajax({
          url: "https://duckduckgo.com/local.js?q=tmp",
          dataType: "jsonp",
          success: function (t) {
            var s = null;
            t && t.geoip_lat && t.geoip_lon && (s = new e.Models.UserLocation({
              lat: parseFloat(t.geoip_lat),
              lon: parseFloat(t.geoip_lon),
              type: e.Models.UserLocation.GEOIP_LOCATION
            }), this.setGeoIPLocation(s)), i(s)
          }.bind(this),
          error: function (e, t, s) {
            i(null, s)
          },
          complete: function () {
            this._locationFetchWaitList = [], this._isLocationFetching = !1
          }.bind(this)
        }))
      }
    }), e.userLocator = new e.Models.UserLocator
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.ModuleImageHeader = function (i) {
      if (i = i || {}, this.images = i.images || [], this.loadMoreImages = i.loadMoreImages || !1, this.maxNumberOfImages = "xs" === e.device.widthBreakpoint() ? 2 : 4, this.loadMoreImages ? this.numberOfImages = this.maxNumberOfImages : this.images && this.images.length && (this.numberOfImages = this.images.length > this.maxNumberOfImages ? this.maxNumberOfImages : this.images.length), this.layout = i.layout || this._getLayout(), i.morePhotosText ? this.morePhotosText = i.morePhotosText : this.morePhotosText = l("See Photos"), t.call(this, i), this.loadMoreImages && this.images.length < this.maxNumberOfImages) {
        this.imagesModel = e.duckbar.tabs.images.model, this.bindEvents([
          [this.imagesModel, "change:items", this._updateImages],
          [this.imagesModel, "change:failed", this._updateImages]
        ]);
        var s = {};
        s.query = i.query, s.vqd = i.imagesVqd, this.imagesModel.requery(s)
      }
    }, e.Models.ModuleImageHeader.prototype = $.extend({}, t.prototype, {
      _getLayout: function () {
        var e = {};
        return e["layout_" + this.numberOfImages] = !0, e
      },
      _updateImages: function () {
        if (this.imagesModel.items.length && !this._loadedImages) {
          this._loadedImages = !0;
          for (var e = this.maxNumberOfImages - this.images.length, t = 0; t < e; t++) this.images.push({
            url: this.imagesModel.items[t].thumbnail
          });
          this.set("imagesLoaded", !0)
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.ResultTitle = function (i) {
      t.call(this, i), this.title = this.item.t, this.url = this.item.c, this.source = this.item.s, this.openInNewTab = !e.settings.isDefault("kn") && this.url && -1 !== this.url.indexOf("http")
    }, e.Models.ResultTitle.prototype = $.extend({}, t.prototype, {})
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = ["annotation", "callout", "smart"],
      s = {
        smart: !0
      };
    e.Models.ResultSnippet = function (i) {
      t.call(this, i), this.organicResultSnippet = this.item.a, this.formattedDate = e.Utils.ParseDate.getFormattedDate(this.item.e, window.locale), this.snippets = [this.organicResultSnippet], this.tids = [], this._appendAdExtensions(), this.isAd && (this.href = this.item.c, window.kn && "1" === window.kn && -1 !== this.href.indexOf("http") && (this.targetBlank = !0))
    }, e.Models.ResultSnippet.prototype = $.extend({}, t.prototype, {
      _appendAdExtensions: function () {
        var e = DDG.pageLayout && DDG.pageLayout.canSendSERPAdImpressions(),
          t = e ? this.item.adext : this.item.ae,
          a = function (t, i) {
            if (e) {
              var s = i.t,
                a = ": ";
              if ("smart" === t && s && -1 !== s.indexOf(a)) {
                var o = s.split(a);
                if (o.length > 1) return {
                  type: o[0],
                  text: o.slice(1).join(a)
                }
              }
              return s
            }
            return "annotation" === t ? i : "callout" === t && i.join(" &#183; ")
          };
        if (t)
          for (var o in i) {
            var n = i[o],
              l = t[n];
            if (l && (this.showExtensionData || s[n])) {
              var r = a(n, l),
                d = l.tid;
              r && this.snippets.push(r), e && d && this.tids.push(d)
            }
          }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.ResultExtras = function (i) {
      t.call(this, i);
      var s = this.item.c,
        a = this.item.d,
        o = this.item.i,
        n = this._splitUrl(s, a),
        l = e.settings.get("kn");
      if (this.link = $.extend({}, n, {
          href: s,
          prefix: "https" === n.protocol ? n.protocol + "://" : null,
          targetBlank: this._openInNewWindow(l, s)
        }), "" !== o) {
        var r, d = e.get_query_encoded(),
          c = e.settings.get("kf");
        r = !(this.isAd && this.item.late) && 1 === e.deep.pageNumber, this.icon = {
          hide: "-1" === c,
          imageUrl: this._getImageUrl(o),
          siteSearchUrl: this._getSiteSearchUrl(d, n.domain),
          lazyLoad: r,
          title: this._getTitle(this.isAd, n.domain || o)
        }
      }
    }, e.Models.ResultExtras.prototype = $.extend({}, t.prototype, {
      _splitUrl: function (e, t) {
        return e = e || "", t = (t = t || "").split("/"), {
          protocol: -1 !== e.indexOf("https") ? "https" : "http",
          domain: t.shift() || "",
          path: t.join("/") || ""
        }
      },
      _openInNewWindow: function (e, t) {
        return !!e && ("1" === e && -1 !== t.indexOf("http"))
      },
      _getImageUrl: function (e) {
        return "string" == typeof e && 0 === e.indexOf("http") ? DDG.getImageProxyURL(e) : DDG.get_favicon_url(e)
      },
      _getSiteSearchUrl: function (t, i) {
        var s = "/?q=" + t;
        return e.search.isSiteQuery || (s += "+site:" + i), window.kurl && (s += kurl), s
      },
      _getTitle: function (e, t) {
        if (e) return "";
        var i = t && t.replace(/^(www\.)/, "");
        return i && (i.match(/\./g) || []).length > 0 && (t = i), l("Search domain %s", t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Sitelinks = function (e) {
      $.extend(e, this._determinePosition(e)), this.container = e.container, t.call(this, e), this._cacheElems(".js-sitelinks", ["title"]), this.bindEvents([
        [this.$title, "click", this._onTitleClick]
      ])
    }, e.Views.Sitelinks.prototype = $.extend({}, t.prototype, {
      template: "sitelinks",
      _render: function (e) {
        this.model.isSmallSitelinks || this.container.attr("data-sld", !0), t.prototype._render.call(this, e)
      },
      _wrapLinks: function () {
        $.noop()
      },
      _determinePosition: function (t) {
        var i = t.model.isSmallSitelinks,
          s = e.device.isMobile && !t.model.isSmallSitelinks,
          a = t.container,
          o = {
            appendTo: a.find(".js-result-snippet")
          },
          n = {
            appendTo: a.find(".result__body")
          },
          l = {
            after: t.container
          };
        return s ? n : i ? e.$html.hasClass("is-vertical-tabs-exp") && !e.device.isMobile ? l : o : l
      },
      _onTitleClick: function (t) {
        var i = t.currentTarget,
          s = "sl-" + $(i).attr("data-idx");
        return e.backData.set(s, {
          sexp: e.searchExperiments.getBackButtonData()
        }), this.model.isAd ? adClick(this.model.source, this.container, t) : (window.organicClick(i, t), t.stopPropagation()), nrl(t, i)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ResultTitle = function (e) {
      t.call(this, e), this._cacheElems(".js-result-title", ["link"])
    }, e.Views.ResultTitle.prototype = $.extend({}, t.prototype, {
      template: "result_title",
      _render: function (e) {
        t.prototype._render.call(this, e), this.model.item.p && (this.views.adBadge = new DDG.Views.AdBadge({
          appendTo: this.$el
        }))
      },
      _wrapLinks: function () {
        $.noop()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ResultSnippet = function (e) {
      this.template = e.model.isAd ? "result_snippet_ad" : "result_snippet", t.call(this, e), e.model.isAd && this.$el.find("a").click((function (t) {
        return window.adClick(e.model.item.s, e.parentDiv, t), window.nrl(t, this)
      }))
    }, e.Views.ResultSnippet.prototype = $.extend({}, t.prototype, {})
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ResultExtras = function (e) {
      this.template = e.model.isAd ? "result_extras_ad" : "result_extras", this.parentDiv = e.parentDiv, t.call(this, e)
    }, e.Views.ResultExtras.prototype = $.extend({}, t.prototype, {
      _render: function (i) {
        $(this.parentDiv).data("protocol", this.model.link.protocol), e.$html.hasClass("is-link-breadcrumb-exp") && (this.template = this.template + "_uxexp", this.model.link.path = this.model.link.path.replace(/\/$/, "").split("/").join(" › ")), t.prototype._render.call(this, $.extend({}, i, {
          icon: this.model.icon,
          link: this.model.link
        })), this._cacheElems(".js-result-extras", ["site_search", "url"]), this.bindEvents([
          [this.$site_search, "click", this._onIconClick],
          [this.$url, "click", this._onUrlClick],
          [this.$close, "click", this._onCloseClick]
        ])
      },
      _onIconClick: function (e) {
        window.fl = 1
      },
      _wrapLinks: function () {
        $.noop()
      },
      _onUrlClick: function (e) {
        var t = this.$url[0];
        return this.model.isAd ? window.adClick(this.model.item.s, this.parentDiv, e) : window.organicClick(this.parentDiv, e), window.nrl(e, t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.SERPMessages = function (e) {
      this.ads = e.ads, this.searchbar = e.searchbar, this._pendingMessages = [], t.call(this, e), e.messages.spelling && this.showMessage("spelling", e.messages.spelling), e.messages.safeSearch && this.showMessage("safeSearch"), e.messages.siteSearch && this.showMessage("siteSearch")
    }, e.Views.SERPMessages.prototype = $.extend({}, t.prototype, {
      isReady: !1,
      ready: function () {
        this.isReady = !0, this._pendingMessages.forEach(function (e) {
          this.showMessage(e[0], e[1])
        }.bind(this)), this._pendingMessages = []
      },
      showMessage: function (e, t) {
        if (!this.isReady) return this._pendingMessages.push([e, t]);
        "spelling" === e ? this._showSpellingMessage(t) : "safeSearch" === e ? this._showSafeSearchMessage() : "siteSearch" !== e || this._showingMessage || this._showSiteSearchMessage()
      },
      _showSafeSearchMessage: function () {
        if (!e.page.isSafeDDG && e.settings.safeSearch.isStrict() && !this.$safeSearch) {
          var t = e.deep.getResultCount() ? 1 : 0;
          this.$safeSearch = e.exec_template("safe_search", {
            noResults: !t,
            searchTerm: "<b>" + rqd + "</b>"
          }), this.$el.prepend(this.$safeSearch), this.$(".js-safe-search-temp").on("click", (function (i) {
            i.preventDefault(), e.pixel.fire("sss", "m", {
              v: -1,
              p: 0,
              r: t
            }), e.settings.safeSearch.setTemporaryId("-1", (function () {
              e.search.requery()
            }))
          })), this.$(".js-safe-search-perm").on("click", (function (i) {
            i.preventDefault(), e.pixel.fire("sss", "m", {
              v: -1,
              p: 1,
              r: t
            }), e.settings.safeSearch.setId("-1", (function () {
              e.search.requery()
            }))
          })), this._showingMessage = !0, e.page.showingSafeSearch = 1, e.pixel.fire("ssi", {
            r: t
          }), t || (DDG.deep.hideNoResults = !0)
        }
      },
      _showSiteSearchMessage: function () {
        if (!this.$siteSearch && e.deep.getResultCount()) {
          var t = sfq,
            i = e.search.getSiteQuery(t);
          i.sites.length && (this.$siteSearch = DDG.$exec_template("site_query", {
            queryEncoded: encodeURIComponent(i.query),
            isExcluding: i.isExcluding,
            hasMultipleSites: i.sites.length > 1,
            sites: i.sites,
            forceBreak: e.device.isMobile && i.sites.length > 1
          }), this.$el.append(this.$siteSearch), this._showingMessage = !0)
        }
      },
      _showSpellingMessage: function (t) {
        this.$safeSearch || this.$spelling || !e.search.spelling.isValidType() || (this.$spelling = new e.Views.SpellingMessage({
          appendTo: this.$el.selector,
          model: e.search.spelling
        }), this._showingMessage = !0)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.SpellingMessage = function (e) {
      this.model = e.model, this.ia = e.ia, t.call(this, e)
    }, e.Views.SpellingMessage.prototype = $.extend({}, t.prototype, {
      template: "spelling_",
      _render: function (e) {
        this.template += this.model.type, t.prototype._render.call(this), this._showSpellingMessage()
      },
      _showSpellingMessage: function () {
        e.pixel.fire("spd", this.model.type), "nmrc" === this.model.type ? this.$el.find(".js-spelling-suggestion-link").html(this.model.suggestion) : this.$el.find(".js-spelling-suggestion-link").attr({
          href: this.model.makeSpellingURL(this.model.link, !1, this.ia),
          "data-query": this.model.query
        }).html(this.model.suggestion).click(this._onSpellingLinkClick.bind(this, this.model.query)), this.$el.find(".js-spelling-recourse-link").attr({
          href: this.model.makeSpellingURL(this.model.recourseLink, !0, this.ia),
          "data-query": this.model.recourseQuery
        }).html(this.model.recourseText).click(this._onSpellingLinkClick.bind(this, this.model.recourseQuery))
      },
      _onSpellingLinkClick: function (t, i) {
        DDG.pixel.fire("sp", this.model.type), e.settings.isDefault("kg") || (i.preventDefault(), e.page.searchbar.updateQuery(t))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.TwitterEasterEgg = function (e) {
      this.username = e.username, t.call(this, e), this._fetchImage()
    }, e.Views.TwitterEasterEgg.prototype = $.extend({}, t.prototype, {
      _fetchImage: function () {
        $.ajax({
          url: "/tw.js?o=json&user=" + this.username,
          dataType: "json",
          success: function (e) {
            this.image = e && e.profile_image, this._renderEasterEgg()
          }.bind(this)
        })
      },
      _renderEasterEgg: function () {
        this.image && (this.$el.append(e.exec_template("twitter_easter_egg", {
          image: this.image
        })), this._cacheElems(".js-logo", ["ddg", "praise", "avatar"]), this.$el.attr("href", "/spread"), setTimeout(this._animate.bind(this), 1e3))
      },
      _animate: function () {
        this.$ddg.hide(), this.$praise.show(), setTimeout(function () {
          this.$praise.hide(), this.$avatar.show()
        }.bind(this), 1e3), setTimeout(function () {
          this.$avatar.hide(), this.$ddg.show()
        }.bind(this), 3e3)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "set-header--floating";
    e.Views.Header = function (i) {
      t.call(this, i), this.views.headerLinks = new e.Views.HeaderLinks({
        appendTo: ".js-header-aside",
        hideSettingsIcon: i.hideSettingsIcon
      }), this.bindEvents([
        [e.device, "scroll", this._onScroll]
      ])
    }, e.Views.Header.prototype = $.extend({}, t.prototype, {
      _onScroll: function (t) {
        this.model.updateScrollPosition(e.device.scrollTop()), this.model.scrolledToTop ? this._reset() : (this.model.scrolledPastHeader && this.views.headerLinks.hide(), this.model.scrolledPastHeaderThreshold && !e.hasClass(this.$el[0].id, i) && (this._updateHeaderPosition(), setTimeout(function () {
          e.addClass(this.$el[0].id, e.$html, i)
        }.bind(this), 20)), this.model.canUpdateHeaderPosition && this._updateHeaderPosition())
      },
      _updateHeaderPosition: function () {
        this.$el.css("top", this.model.newHeaderPosition)
      },
      _reset: function () {
        this.$el.css("top", 0), e.removeClass(this.$el[0].id, e.$html, i)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Footer = function (i) {
      t.call(this, i), this._cacheElems(".js-footer", ["card", "link"]), this.bindEvents([
        [this.$card, "click", this._onItemClick],
        [this.$link, "click", this._onItemClick],
        [this.model, "change:visible", this._toggleVisibility]
      ]), e.settings.isDefault("kav") && this.model.set("visible", !0);
      var s = $(".js-footer-lazysvg");
      DDG.ImageLoader.registerAll(s, "scrollY")
    }, e.Views.Footer.prototype = $.extend({}, t.prototype, {
      template: e.device.isDesktop ? "footer" : "footer_mobile",
      _render: function (e) {
        t.prototype._render.call(this, e), this._showFeedbackBtn()
      },
      _showFeedbackBtn: function () {
        !this.views.feedback && e.device.isMobileDevice && e.duckbar && (this.views.feedback = new e.Views.Feedback.Button({
          appendTo: ".js-footer-feedback-btn-wrap",
          clickPixel: "fbpm"
        }))
      },
      _toggleVisibility: function (t) {
        t ? (e.$html.addClass("has-footer"), this.$el.show()) : (e.$html.removeClass("has-footer"), this.$el.hide()), this._hasShownFooter || (this._setContentMinHeight(), e.device.on("resize", this._setContentMinHeight.bind(this)), this._hasShownFooter = !0)
      },
      _onItemClick: function (t) {
        var i = $(t.currentTarget),
          s = i.data("id");
        e.pixel.fire("fic", s, {
          ic: +i.hasClass("footer__card")
        })
      },
      _setContentMinHeight: function () {
        this.$after.css("min-height", e.device.height)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ClickableItem = function (e) {
      t.call(this, e)
    }, e.Views.ClickableItem.prototype = $.extend({}, t.prototype, {
      _render: function (e) {
        t.prototype._render.call(this, e), this.bindEvents([
          [this.$el, "click", this._onClick],
          [this.$el, "mousedown", this._onMouseDown]
        ])
      },
      _onMouseDown: function (t) {
        if (!$(t.target).is("a")) {
          t.stopPropagation();
          var i = 0;
          e.device.isIE && (nkdc(t) || nkdm(t)) && (i = 1);
          var s = t.which && 2 == t.which,
            a = t.which && 3 == t.which;
          i || s || a ? (fm = 1, a || this._onClick(t, 1)) : fm = 0
        }
      },
      _onClick: function (t, i) {
        var s;
        if (t.stopPropagation(), this.answer.engaged(), t.target && "A" === t.target.nodeName ? s = t.target : (s = this.$el[0]).href = this.$el.attr("data-link"), s.href) return e.history.set({
          iai: this.answer.getQuerystringItemId(this.model)
        }, function () {
          DDG.isInternalURL(s.href) || this.answer.clickedExternalLink({}, t), i || "1" !== e.settings.get("kn") || (i = 1), nrg(null, null, t, i, s)
        }.bind(this)), t.preventDefault();
        this.model.select()
      },
      _onExternalLinkClick: function (i) {
        if (i.stopPropagation(), this.answer.engaged(), this.answer.clickedExternalLink({}, i), i.ctrlKey) return e.history.set({
          iai: this.answer.getQuerystringItemId(this.model)
        }), t.prototype._onExternalLinkClick.call(this, i);
        e.history.set({
          iai: this.answer.getQuerystringItemId(this.model),
          pn: this.model.pageNo
        }, function () {
          t.prototype._onExternalLinkClick.call(this, i)
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.ModuleImageHeader = function (i) {
      if (this.answer = i.answer, this.model = new e.Models.ModuleImageHeader({
          images: this._getImages(i.model),
          loadMoreImages: "About" === this.answer.answerItemModel,
          isMapExpanded: this.answer.isMapExpanded,
          query: this.answer.meta.requery,
          imagesVqd: i.imagesVqd,
          morePhotosText: i.model && i.model.morePhotosText
        }), this.model.imageURL = i.model.imageURL, this.answer.isMapExpanded) {
        var s = this.answer.meta.requery ? encodeURIComponent(this.answer.meta.requery) : this.answer.queryEncoded;
        this.model.imageIAURL = "/?q=" + s + "&ia=images&iax=images" + (w.kurl ? w.kurl : "")
      }
      var a = $.extend(!0, {}, i);
      a.model = this.model, t.call(this, a), this.bindEvents([
        [this.model, "change:imagesLoaded", this._onImagesLoaded]
      ])
    }, e.Views.ModuleImageHeader.prototype = $.extend({}, t.prototype, {
      template: "module_image_header",
      _render: function (e) {
        t.prototype._render.call(this, $.extend({}, this.model, {
          hideTitle: "applemaps" === this.answer.sourceId
        })), this.bindEvents([
          [this.$el, "click", this._onClick]
        ])
      },
      _getImages: function (e) {
        var t = [],
          i = e.image || e.imageURL;
        if (i && t.push({
            url: i
          }), e.thumbnails)
          for (var s = 0; s < e.thumbnails.length; s++) t.push({
            url: e.thumbnails[s]
          });
        return t
      },
      _onImagesLoaded: function () {
        this._rerender()
      },
      _onClick: function (t) {
        "about" !== this.answer.nameId || this.answer.isMapExpanded || (t.preventDefault(), e.duckbar.open("images"), this.answer.set("isMapExpanded", !1))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.WebAttribution = function (e) {
      t.call(this, e)
    }, e.Views.WebAttribution.prototype = $.extend({}, t.prototype, {
      template: "web_attribution",
      _render: function (e) {
        t.prototype._render.call(this, {
          src: this.model.getAttributionSource()
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.NoResults = function (e) {
      this.vertical = e.vertical || "web", this.resultType = e.resultType || l("Results"), this.skipPixel = e.skipPixel, this.resetFilters = e.resetFilters, t.call(this, e)
    }, e.Views.NoResults.prototype = $.extend({}, t.prototype, {
      template: "no_results",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        var i = !e.deep.bn || e.deep.bn.ivc ? 1 : 0,
          s = e.deep.is506 && Math.random() < .1,
          a = !e.history.get("norrc") && (!i || s) || this.resetFilters;
        t.prototype._render.call(this, {
          query: rqd,
          resultType: this.resultType.toLowerCase(),
          showWebLink: "web" !== this.vertical,
          showRetryMessage: a,
          resetFilters: this.resetFilters,
          minHeight: e.device.height - 160
        }), this._pixelData = {
          r: a ? 1 : 0,
          i506: e.deep.is506 ? 1 : 0,
          ivc: i,
          irt: e.history.get("norrc") ? 1 : 0,
          v: this.vertical
        }, this.skipPixel || e.pixel.fire("nor", this._pixelData), this.bindEvents([
          [".js-no-results-retry", "click", this._onRetryClick],
          [".js-no-results-web", "click", this._onWebClick]
        ])
      },
      _onRetryClick: function () {
        this._pixelData.age = e.vqd.age(), e.pixel.fire("norrc", this._pixelData), e.history.set("norrc", 1), setTimeout((function () {
          window.location.reload()
        }), 250)
      },
      _onWebClick: function (t) {
        t.preventDefault(), e.pixel.fire("norwc", this._pixelData), e.duckbar.open("web")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.NoMoreResults = function (e) {
      t.call(this, e)
    }, e.Views.NoMoreResults.prototype = $.extend({}, t.prototype, {
      template: "no_more_results",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        t.prototype._render.call(this, {
          query: rqd
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = {
        euandroid: {
          template: "welcome_message_eu",
          pixels: {
            impression: "wceui",
            dismiss: "wceud",
            cta: "wceuo"
          },
          dismissCookieCallback: function () {
            e.settings.set("kea", "1")
          }
        },
        extensionInstall: {
          template: "welcome_message",
          pixels: {
            impression: "wcmi",
            dismiss: "wcmd"
          }
        }
      };
    e.Views.WelcomeMessage = function (e) {
      t.call(this, e)
    }, e.Views.WelcomeMessage.prototype = $.extend({}, t.prototype, {
      _render: function (s) {
        this.config = i[s.type || "extensionInstall"], this.template = this.config.template, e.pixel.fire(this.config.pixels.impression), setTimeout(function () {
          this.$parent.addClass("is-showing")
        }.bind(this), 1e3), t.prototype._render.call(this, $.extend(s, {
          queryString: e.get_query_encoded()
        })), this._cacheElems(".js-welcome", ["dismiss", "cta"]), this.bindEvents([
          [this.$dismiss, "click", this._onClick.bind(this, "dismiss")],
          [this.$cta, "click", this._onClick.bind(this, "cta")]
        ])
      },
      _onClick: function (t) {
        t && this.config.pixels[t] && e.pixel.fire(this.config.pixels[t]), this.config.dismissCookieCallback && this.config.dismissCookieCallback(), this.$el.hide()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Tooltip = function (e) {
      e.isAlignedLeft = "left" === e.align, this.preventHide = !1, this.content = e.content, t.call(this, e)
    }, e.Views.Tooltip.prototype = $.extend({}, t.prototype, {
      template: "tooltip",
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-tooltip", ["triangle-outer", "triangle-inner"]), this.bindEvents([
          [this.$el, "mouseenter", this._onMouseEnter],
          [this.$el, "mouseleave", this._onMouseLeave],
          [e.device, "resize", this._onResize]
        ]), this.content && this.content.$el.appendTo(this.$el)
      },
      show: function (t) {
        var i = t.tooltipLeft,
          s = t.tooltipTop;
        this.$el.addClass("tooltip--" + t.position), this.$el.removeClass("is-hidden"), "right" === t.position && (s -= this.$el.outerHeight() / 2), "below" === t.position && t.centerTriangleOnTriggerElement && ("right" === t.align ? (i -= this.$el.outerWidth(), this._setTrianglePosition({
          right: t.triggerElementDimensions.width / 2
        })) : this._setTrianglePosition({
          left: t.triggerElementDimensions.width / 2
        })), "mobile" === t.position && (this.$el.width(e.device.width - 40), this._setTrianglePosition({
          left: i - (e.device.width - this.$el.outerWidth()) / 2
        }), i = (e.device.width - this.$el.outerWidth()) / 2), this.$el.css({
          top: s,
          left: i
        })
      },
      _setTrianglePosition: function (e) {
        this.$triangleouter.css(e), this.$triangleinner.css(e)
      },
      hide: function () {
        this.preventHide || (this.$el.css({
          top: "",
          left: "",
          width: ""
        }), this._setTrianglePosition({
          top: "",
          left: ""
        }), this.$el.removeClass((function (e, t) {
          return (t.match(/tooltip--.*/g) || []).join(" ")
        })), this.$el.addClass("is-hidden"))
      },
      _onMouseEnter: function (t) {
        this.tooltipHoverable || (this.preventHide = !e.device.isMobileDevice)
      },
      _onMouseLeave: function (e) {
        this.preventHide = !1, this.hide()
      },
      _onResize: function () {
        this.preventHide = !1, this.hide()
      }
    })
  }(DDG),
  function (e) {
    var t = ["xs", "s", "m"],
      i = {
        darkerBackgroundDarkTheme: !1,
        align: "right",
        tooltipHoverable: !0,
        centerTriangleOnTriggerElement: !0
      };
    e.Views.TooltipMixin = function (e) {
      this.view = e, this.mouseLeaveTimeout, this.position
    }, e.Views.TooltipMixin.prototype = $.extend({}, {
      setup: function (t) {
        var s = $.extend({}, i, t);
        $.extend(this, s), e.device.isMobileDevice ? this.view.bindEvents([
          [this.$triggerElement, "click", this._onTriggerElementClick.bind(this)]
        ]) : this.view.bindEvents([
          [this.$triggerElement, "mouseenter", this._onTriggerElementMouseEnter.bind(this)],
          [this.$triggerElement, "mouseleave", this._onTriggerElementMouseLeave.bind(this)]
        ]), this.tooltip || (this.tooltip = new DDG.Views.Tooltip($.extend(s, {
          appendTo: $(".js-site-wrapper")
        })))
      },
      _triggerTooltip: function () {
        var i, s, a = {
          offset: this.$triggerElement.offset(),
          height: this.$triggerElement.outerHeight(),
          width: this.$triggerElement.outerWidth()
        };
        if (-1 !== t.indexOf(e.device.widthBreakpoint())) this.position = "mobile";
        else {
          var o = 1 === this.$triggerElement.parents(".js-sidebar-ads").length || 1 === this.$triggerElement.parents(".js-vertical-sidebar").length,
            n = 1 === this.$triggerElement.parents(".js-metabar").length;
          this.position = o || n ? "below" : "right"
        }
        "mobile" === this.position ? (i = a.offset.top + a.height, s = a.offset.left) : "below" === this.position ? (i = a.offset.top + a.height, s = "right" === this.align ? a.offset.left + a.width : a.offset.left) : (i = a.offset.top + a.height / 2, s = a.offset.left + a.width), this.tooltip.show({
          tooltipTop: i,
          tooltipLeft: s,
          triggerElementDimensions: a,
          position: this.position,
          align: this.align,
          centerTriangleOnTriggerElement: this.centerTriangleOnTriggerElement
        })
      },
      _onTriggerElementClick: function (e) {
        e.stopPropagation(), this._triggerTooltip(), window.addEventListener("touchstart", this._onWindowTouchStart.bind(this))
      },
      _onWindowTouchStart: function (e) {
        var t = $(e.target);
        t.is(".tooltip") || t.parents(".tooltip").length > 0 || this.tooltip.hide()
      },
      _onTriggerElementMouseEnter: function () {
        this.mouseLeaveTimeout && clearTimeout(this.mouseLeaveTimeout), this._triggerTooltip()
      },
      _onTriggerElementMouseLeave: function () {
        this.mouseLeaveTimeout = setTimeout(function () {
          this.tooltip.hide()
        }.bind(this), 100)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.AdBadge = function (i) {
      i = $.extend({}, {
        context: "default",
        label: l("Ad")
      }, i), this.tooltip = new e.Views.TooltipMixin(this), t.call(this, i)
    }, e.Views.AdBadge.prototype = $.extend({}, t.prototype, {
      template: "ad_badge",
      _render: function (e) {
        t.prototype._render.call(this, e), this.tooltip.setup({
          $triggerElement: this.$(".js-badge--ad"),
          content: new DDG.Views.AdBadgeTooltip({})
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = ["bg_BG", "cs_CZ", "da_DK", "de_DE", "el_GR", "es_ES", "et_EE", "fi_FI", "fr_FR", "hr_HR", "hu_HU", "is_IS", "it_IT", "lt_LT", "lv_LV", "nb_NO", "nl_NL", "pl_PL", "pt_PT", "ro_RO", "ru_RU", "sk_SK", "sl_SI", "sv_SE", "tr_TR"];
    e.Views.AdBadgeTooltip = function (e) {
      this.helpPageURL = this._getHelpPageURL(), t.call(this, e)
    }, e.Views.AdBadgeTooltip.prototype = $.extend({}, t.prototype, {
      template: "ad_badge_tooltip",
      _render: function () {
        t.prototype._render.call(this, {
          helpPageURL: this.helpPageURL
        })
      },
      _getHelpPageURL: function () {
        var e = this._getHelpPageLocaleSuffix();
        return "https://help.duckduckgo.com/" + (e ? "translated" : "company") + "/ads-by-microsoft-on-duckduckgo-private-search" + e
      },
      _getHelpPageLocaleSuffix: function () {
        var e = window.locale,
          t = "",
          s = i.indexOf(e);
        return s >= 0 && (t = "-" + i[s]), t
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.AutoAdsTooltip = function (e) {
      t.call(this, e)
    }, e.Views.AutoAdsTooltip.prototype = $.extend({}, t.prototype, {
      template: "auto_ads_tooltip"
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Meta,
      s = {
        expandModeIcon: "G",
        exitModeIcon: "×",
        minTopicsForMenu: 3
      };
    i.MetaBar = function (i) {
      i.heading && (i.primaryText = i.heading), i.altMeta && (i.secondaryText = i.altMeta), $.extend(this, s, i), this.parent = i.parent, this.notFixed = i.notFixed, this.showParams = this._shouldShowParams(), this.showSources = this.model.sources && this.model.sources.values.length > 1, this.showAdBadge = this.model.meta && this.model.meta.hasAdBadge, t.call(this, i);
      var a = this.model;
      this.bindEvents([
        [a, "change:items", this._onItemsChanged],
        [a, "change:expanded", this._onExpandedChanged],
        [a, "change:canExpand", this._onExpandedChanged],
        [a, "change:topics", this._createTopicMenu],
        [a, "change:parameters", this._onParametersChanged],
        [e.device, "scroll", this._onScroll]
      ])
    }, i.MetaBar.prototype = $.extend({}, t.prototype, {
      template: "metabar",
      show: function () {
        this.$el.removeClass("is-hidden"), this._height = this.$el.outerHeight(!0)
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      getHeight: function () {
        return 44
      },
      isStuck: function () {
        return DDG.hasClass(this.id, "is-stuck")
      },
      _render: function () {
        t.prototype._render.call(this, $.extend({}, {
          showMoreAt: this.sourceName,
          showDropdowns: this.showParams || this.showSources,
          searchTerm: this.model.query,
          itemType: l("Results")
        }, this)), (Modernizr.touch || is_mobile) && this.$el.removeClass("metabar--fixed").addClass("metabar--unsticky"), this._cacheElems(".js-metabar", ["primary", "secondary", "loading", "mode", "dropdowns"]), this.$mode.on("click", this._onModeClick.bind(this)), this.clickableSecondaryText && this.$secondary.on("click", this._onSecondaryClick.bind(this)), this._updateMode(), this._updateLoadingState(), this._createTopicMenu(), this._createAttribution(), this._createSourceDropdown(), this._createParameterDropdowns(), this._createAdBadge(), this.linkPrimaryText && (this.$primary.addClass("metabar__primary-text--linked"), this.$primary.on("click", this._onModeClick.bind(this)))
      },
      _createTopicMenu: function () {
        var t = this.views,
          i = this.model,
          s = this.model.topics;
        !t.topicMenu && s.length && s.length >= this.minTopicsForMenu && (t.topicMenu = new e.Views.AnswerBar.Meta.TopicMenu({
          model: i,
          appendTo: this.$(".js-metabar")
        }), this.$primary.hide())
      },
      _createAttribution: function () {
        if (!this.model.meta.hasAttribution() || this.model.meta.hideAttribution) return !1;
        var t = this.$(".js-attribution");
        this.views.attribution = new e.Views.Attribution({
          answer: this.model,
          direction: this.sourceName ? "bottom" : "bottom-left",
          appendTo: t
        }), t.removeClass("is-hidden")
      },
      _createParameterDropdowns: function () {
        this.showParams && (this.views.parameters = new e.Views.Dropdowns.FilterContainer({
          $el: this.$dropdowns,
          answer: this.model
        }))
      },
      _createSourceDropdown: function () {
        this.showSources && (this.views.source = new i.FilterDropdown({
          model: this.model.sources,
          answer: this.model,
          appendTo: this.$dropdowns
        }))
      },
      _createAdBadge: function () {
        this.showAdBadge && (this.views.source = new e.Views.AdBadge({
          label: l("Ads"),
          appendTo: this.$(".js-metabar"),
          context: "shopping-vertical"
        }))
      },
      _shouldShowParams: function () {
        var e = this.model;
        return (e.parameters && e.parameters.length || e.hasDynamicFilters) && !e.canShowSidebarFilters
      },
      _updateLoadingState: function () {
        !this._isLoaded && this.model.items.length && (this.$loading.hide(), this.$primary.removeClass("is-loading"), this.$dropdowns.removeClass("is-loading"), this.$secondary.removeClass("is-loading"), this._isLoaded = !0)
      },
      _updateMode: function () {
        var t = this,
          i = t.model,
          s = i.expanded,
          a = t.$mode,
          o = e.device.isMobile,
          n = i.meta,
          r = t.exitModeIcon,
          d = function () {
            n.useExpandTextButton() ? (a.removeClass("btn--icon"), a.addClass("metabar__grid-btn"), a.text(l("More " + t.model.name))) : (a.addClass("btn--icon"), a.removeClass("metabar__grid-btn"), a.text(t.expandModeIcon))
          };
        n.hideModeSwitch || e.duckbar.tabIsActiveFullPage(t) ? a.addClass("is-hidden") : o || s ? (t._modeSwitchEnabled = !0, a.removeClass("is-disabled"), a.removeClass("btn--icon"), a.addClass("metabar__grid-btn"), a.text(r), a.attr("title", l("Click to collapse"))) : i.canExpand ? (t._modeSwitchEnabled = !0, a.removeClass("is-disabled"), d(), a.attr("title", l("Click to expand"))) : (t._modeSwitchEnabled = !1, a.addClass("is-disabled"), d(), a.attr("title", l("Grid mode disabled for this answer")))
      },
      _onScroll: function () {
        if (!Modernizr.touch && !e.device.isMobile && this.parent && this.model.active && !this.notFixed) {
          var t = DDG.hasClass(this.id, "is-stuck"),
            i = DDG.hasClass(this.id, "at-bottom");
          if (!this.model.expanded) return t && (DDG.removeClass(this.id, this.$el, "is-stuck"), this.emit("stuck", !1)), void(i && DDG.removeClass(this.id, this.$el, "at-bottom"));
          var s = e.device.scrollTop(),
            a = 0,
            o = this.parent.getHeight() - 44,
            n = DDG.get_header_height();
          o += a += DDG.isHeaderFixed ? 0 : n, s > a && !t ? (DDG.addClass(this.id, this.$el, "is-stuck"), this.emit("stuck", !0)) : s <= a && t && (DDG.removeClass(this.id, this.$el, "is-stuck"), this.emit("stuck", !1)), !i && s > o ? DDG.addClass(this.id, this.$el, "at-bottom") : i && s < o && DDG.removeClass(this.id, this.$el, "at-bottom")
        }
      },
      _onModeClick: function (t) {
        if (t.preventDefault(), t.stopPropagation(), this._modeSwitchEnabled) {
          if (e.device.isMobile) return this.emit("close");
          this.model.allowModuleIA ? e.duckbar.open("web") : this.model.set("expanded", !this.model.expanded), this.model.engaged(), this.model.fire("iacg", {
            ex: this.model.expanded ? 1 : 0
          })
        }
      },
      _onSecondaryClick: function () {
        "products" === this.model.id && this.model.bing && (e.pixel.fire("iafi", "sv", "clear"), setTimeout((function () {
          window.location.reload()
        }), 100))
      },
      _onItemsChanged: function () {
        this._updateLoadingState(), this._updateMode()
      },
      _onExpandedChanged: function () {
        this._updateMode()
      },
      _onParametersChanged: function () {
        this.views && this.views.parameters && (this.views.parameters.destroyChildViews(), delete this.views.parameters), this._createParameterDropdowns()
      },
      _onExternalLinkClick: function (e) {
        this.model.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Meta;
    i.TopicMenu = function (e) {
      this.views = {
        topics: {}
      }, t.call(this, e), this.bindEvents([
        [this.model, "change:topics", this._updateTopics],
        [this.model, "change:selectedTopic", this._onSelectedTopicChanged]
      ])
    }, i.TopicMenu.prototype = $.extend({}, t.prototype, {
      template: "topic_menu",
      destroy: function () {
        t.prototype.destroy.call(this), this._removeDocHandler()
      },
      _render: function () {
        t.prototype._render.call(this), this.$menu = this.$(".js-topic-menu"), this._updateTopics()
      },
      _updateTopics: function () {
        var e, t = this.model.topics,
          s = this.views.topics;
        for (var a in s) t[a] || (s[a].destroy(), delete s[a]);
        for (var o = 0; o < t.length; o++) s[(e = t[o]).id] || (this.views.topics[e.id] = new i.TopicMenuItem({
          model: e,
          appendTo: this.$menu
        }))
      },
      _addDocHandler: function () {
        DDG.$doc.on("click.topicmenu", this._onDocClick.bind(this)), this._boundToDoc = 1
      },
      _removeDocHandler: function () {
        DDG.$doc.off("click.topicmenu"), this._boundToDoc = 0
      },
      _onSelectedTopicChanged: function () {
        this.model.selectedTopic && !this._boundToDoc ? this._addDocHandler() : this._removeDocHandler()
      },
      _onDocClick: function () {
        this.model.selectedTopic && this.model.selectedTopic.unselect()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Meta;
    i.TopicMenuItem = function (e) {
      t.call(this, e), this.bindEvents([
        [this.$link, "click", this._onClick],
        [this.model, "change:highlighted", this._onHighlightedChanged],
        [this.model, "change:selected", this._onSelectedChanged],
        [this.model, "change:count", this._onCountChanged]
      ])
    }, i.TopicMenuItem.prototype = $.extend({}, t.prototype, {
      template: "topic_menu_item",
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-topic-menu", ["link", "count"])
      },
      _onHighlightedChanged: function () {
        this.$link.toggleClass("is-highlighted", !!this.model.highlighted)
      },
      _onSelectedChanged: function () {
        this.$link.toggleClass("is-selected", !!this.model.selected)
      },
      _onCountChanged: function () {
        this.model.hideCount || this.$count.text(this.model.items.length)
      },
      _onClick: function (e) {
        e.preventDefault(), e.stopPropagation(), this.model.select(), $.isFunction(this.model.engaged) && this.model.engaged()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns.SelectListDropdown,
      i = e.Views.AnswerBar.Meta;
    i.FilterDropdown = function (e) {
      (e = e || {}).showSelected = !0, this.answer = e.answer, t.call(this, e)
    }, i.FilterDropdown.prototype = $.extend({}, t.prototype, {
      _render: function (i) {
        if (t.prototype._render.call(this, i), this.model.bing) this.$el.toggleClass("is-active", this.model.selectedId);
        else {
          var s = e.history.getComposite("iaf", this.model.key);
          s && this.model.select(s)
        }
      },
      _updateHidden: function () {
        var t = e.history.get("iaf");
        t ? e.hidden.set("iaf", t) : e.hidden.clear("iaf")
      },
      _onSelectedChange: function () {
        var i = this.model.selected.id;
        t.prototype._onSelectedChange.call(this), i ? (e.history.setComposite("iaf", this.model.key, i), this.$el.addClass("is-active")) : (e.history.clearComposite("iaf", this.model.key), this.$el.removeClass("is-active")), this._updateHidden()
      },
      _onItemClick: function (i) {
        t.prototype._onItemClick.call(this, i), this.model.bing && this.$el.toggleClass("is-active", $.isNumeric(i) && i > 0), e.pixel.fire("iafi", this.model.pixelName ? this.model.pixelName : this.model.key, {
          fv: this.model.selected.id.toLowerCase()
        }), this.answer.engaged(), this.answer.requery()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Meta,
      s = {
        Price: !0,
        Color: !0,
        Size: !0
      };
    i.SidebarFilter = function (e) {
      e = e || {}, this.answer = e.answer, this._canHaveHiddenOptions(e) && (this.lastSelected = e.lastSelected = this._getLastSelected(e.model.values), e.hasHiddenOptions = this._getHasHiddenOptions(e), e.numHiddenOptions = this._getNumHiddenOptions(e), e.hasOneHiddenOption = 1 === e.numHiddenOptions), t.call(this, e), this._cacheElems(".js-sidebar-filters", ["options", "show-more"]), this._createOptions(), this.bindEvents([
        [this.$showmore, "click", this._onShowMoreClick]
      ])
    }, i.SidebarFilter.prototype = $.extend({}, t.prototype, {
      template: "sidebar_filter",
      _createOptions: function () {
        this.views.options = [];
        for (var e = 1; e < this.model.values.length; e++) {
          var t = this.model.values[e];
          this.views.options.push(new i.SidebarFilterOption({
            model: this.model,
            optionName: t.name,
            optionId: t.id,
            selected: t.selected,
            appendTo: this.$options,
            answer: this.answer,
            hidden: this._canHaveHiddenOptions(this) && this._optionIsHidden(e, this.lastSelected)
          }))
        }
      },
      _getLastSelected: function (e) {
        for (var t = 0, i = 1; i < e.length; i++) e[i].selected && (t = i);
        return t
      },
      _optionIsHidden: function (e, t) {
        return e > 5 && e > t
      },
      _getNumHiddenOptions: function (e) {
        return e.model.values.length - (e.lastSelected > 5 ? e.lastSelected : 5) - 1
      },
      _getHasHiddenOptions: function (e) {
        return this._canHaveHiddenOptions(e) && this._optionIsHidden(e.model.values.length - 1, e.lastSelected)
      },
      _canHaveHiddenOptions: function (e) {
        return !s[e.model.type]
      },
      _onShowMoreClick: function (e) {
        this.$options.find(".sidebar-filter__option").removeClass("is-hidden"), this.$(e.target).addClass("is-hidden")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Meta,
      s = {
        black: "#222222",
        white: "#ffffff",
        red: "#ff0000",
        brown: "#996633",
        blue: "#00278e",
        gray: "#c4c4c4",
        green: "#5b9e4d",
        orange: "#de5833",
        yellow: "#ffc649",
        pink: "#efa4b2",
        purple: "#933393"
      };
    i.SidebarFilterOption = function (e) {
      if ((e = e || {}).model && "Color" === e.model.type) {
        var i = e.optionName.toLowerCase();
        e.isColor = !0, e.presetColor = !!s[i] && i, e.color = s[i] || i, e.hideText = !0
      }
      e.model && "Size" === e.model.type && (e.isSize = !0, e.hideIcon = !0), e.model && "Price" === e.model.type && (e.isRadio = !0), this.answer = e.answer, t.call(this, e), this.bindEvents([
        [this.$el, "click", this._onItemClick]
      ])
    }, i.SidebarFilterOption.prototype = $.extend({}, t.prototype, {
      template: "sidebar_filter_option",
      _onItemClick: function (t) {
        var i = $(t.currentTarget),
          s = i.data("id"),
          a = this.model.selectedId === s,
          o = $.isArray(this.model.selectedId) && -1 !== this.model.selectedId.indexOf(s),
          n = a || o,
          l = i.find("input");
        this.model.singleChoice && n || (l.length > 0 ? l.prop("checked", !n) : i.toggleClass("is-selected", !n), this.answer.sources.selected.requeryURL = s, e.pixel.fire("iafi", this.model.pixelName), this.answer.engaged(), this.answer.requery())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar;
    i.InfoBox = function (i) {
      t.call(this, i), this.$tile = this.$(".js-infobox-tile"), this.$expand = this.$(".js-tile-expand"), this.$lastInfo = this.$(".info:last"), this.model.expanded && this._expand(), this.bindEvents([
        [this.model, "change:expanded", this._onAnswerExpandedChanged],
        [this.model, "change:active", this._onAnswerActiveChanged],
        [this.$expand, "click", this._onExpandClick],
        ["a", "click", function () {
          e.pixel.fire("ibc")
        }],
        [e.device, "resize", this._onResize]
      ])
    }, i.InfoBox.prototype = $.extend({}, t.prototype, {
      template: "infobox",
      _expand: function () {
        this._canExpand() && this.$tile.addClass("is-open")
      },
      _collapse: function () {
        this._canExpand() && this.$tile.removeClass("is-open")
      },
      _canExpand: function () {
        if (!this.$lastInfo || "boolean" == typeof this._isExpandable) return this._isExpandable;
        if (this.model.expanded) return this._isExpandable = !0;
        var e = this.$lastInfo.position().top + this.$lastInfo.outerHeight(!0),
          t = this.$tile.outerHeight();
        return this._isExpandable = e > t
      },
      _showHideExpandLink: function () {
        this._canExpand() ? this.$expand.removeClass("is-hidden") : this.$expand.addClass("is-hidden")
      },
      _onExpandClick: function () {
        this.model.set("expanded", !this.model.expanded), this.model.engaged(), this.model.fire("iasm")
      },
      _onResize: function () {
        delete this._isExpandable, this._showHideExpandLink()
      },
      _onAnswerActiveChanged: function () {
        this.model.active && (delete this._isExpandable, this._showHideExpandLink())
      },
      _onAnswerExpandedChanged: function () {
        this.model.expanded ? this._expand() : this._collapse()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.ClickableItem,
      i = "is-hidden";
    e.Views.AnswerBar.Tile = function (i) {
      this.answer = i.answer, this.noDetail = i.noDetail, t.call(this, i), this.bindEvents([
        [this.model, "change:visible", this._updateVisible],
        [this.model, "change:partiallyVisible", this._updateVisible],
        [this.model, "change:selected", this._onSelectedChanged],
        [this.model, "change:highlighted", this._onHighlightedChanged],
        [this.answer, "change:active", this._onAnswerActiveChanged],
        [this.answer, "change:expanded", this._onAnswerExpandedChanged],
        [e.device, "resize", this._onResize]
      ]);
      var s = this.answer.meta.rerender;
      s && this.bindEvents(s.map(function (e) {
        return [this.model, "change:" + e, this._rerender]
      }.bind(this)))
    }, e.Views.AnswerBar.Tile.prototype = $.extend({}, t.prototype, {
      show: function () {
        this.$el.removeClass(i)
      },
      hide: function () {
        this.$el.addClass(i)
      },
      getMargins: function () {
        return {
          x: parseFloat(this.$el.css("margin-left"), 10),
          top: parseFloat(this.$el.css("margin-top"), 10),
          bottom: this._tileMarginBottom() || 8
        }
      },
      _render: function () {
        this.template = this.model.getItemTemplate(), t.prototype._render.call(this, this.model.toTemplateObject()), e.ImageLoader.registerAll(this.$(".js-lazyload"), this.model.id), e.ImageLoader.registerAll(this.$(".js-lazysvg"), this.model.id, {
          svg: !0
        }), this.$ellipsis = this.$(".js-ellipsis");
        var i = this.$("a");
        i.length && i.on("touchstart touchend", (function (e) {
          e.stopPropagation()
        })), !1 === this.answer.meta.itemsHighlight || e.device.isIDevice || (this.$el.on("mouseenter", this._onMouseEnter.bind(this)), this.$el.on("mouseleave", this._onMouseLeave.bind(this))), this._updateEllipsis({
          force: !0
        })
      },
      _updateEllipsis: function (t) {
        (t = t || {}).force && (this._hasBeenEllipsized = !1), !this._hasBeenEllipsized && this.answer.active && this.model.visible && this.$ellipsis.length && !e.device.isMobile && (this.$ellipsis.ellipsis({
          id: this.model.id
        }), this._hasBeenEllipsized = !0)
      },
      _updateVisible: function () {
        (this.model.visible || this.model.partiallyVisible) && (e.ImageLoader.trigger(this.model.id), this._updateEllipsis())
      },
      _updateMargin: function () {
        if (!e.device.isMobile) {
          var t = this._tileMarginBottom() || 8;
          if (!this.noDetail && this.model.canShowItemDetail() && this.answer.expanded && this.model.selected) {
            var i = this.answer.items[this.answer.items.length - 1].gridRow;
            t = i && i === this.model.gridRow ? (this._tileMarginBottom() + 9 || t) - 1 : 2 * (e.getProperty(this, "answer.detailScrollOffset") || t), t += this.answer.getDetailHeight()
          }
          t += "px", this._marginBottom !== t && (this._marginBottom = t, this.$el.css({
            marginBottom: t
          }))
        }
      },
      _tileMarginBottom: function () {
        return e.getProperty(this, "answer.tileMarginBottom")
      },
      _rerender: function () {
        t.prototype._rerender.call(this), this._onHighlightedChanged(), this._onSelectedChanged()
      },
      _onHighlightedChanged: function () {
        this.$el.toggleClass("highlight", !!this.model.highlighted)
      },
      _onSelectedChanged: function () {
        this.model.selected && e.history.set({
          iai: this.answer.getQuerystringItemId(this.model)
        }), this.$el.toggleClass("is-selected", !!this.model.selected), this._updateMargin()
      },
      _onAnswerActiveChanged: function () {
        this._updateEllipsis()
      },
      _onAnswerExpandedChanged: function () {
        this._updateMargin(), this._updateEllipsis({
          force: !0
        })
      },
      _onClick: function (e, i) {
        return "images" !== this.answer.id && "videos" !== this.answer.id || this.answer.set("expanded", 1), "products" === this.answer.id && this.answer.bing && (i = 1, this.answer.clickedExternalLink({}, e)), "products" === this.answer.id && this.answer.bing && this.answer.clickedExternalLink({}, e), this.answer.fire("iatc"), this.model.selected ? (this.answer.engaged(), this.model.unselect()) : !this.noDetail && this.model.canShowItemDetail() ? (e.preventDefault(), this.answer.engaged(), this.model.select()) : t.prototype._onClick.call(this, e, i)
      },
      _onMouseEnter: function (t) {
        e.keyboard.active || this.model.highlight()
      },
      _onMouseLeave: function (e) {
        this.model.unhighlight()
      },
      _onResize: function (e) {
        this._updateEllipsis({
          force: !0
        }), this._updateMargin()
      },
      _onExternalLinkClick: function (e) {
        return this.answer.fire("iatc"), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t, i = e.Views.AnswerBar.Tile,
      s = "is-loading",
      a = "is-paused",
      o = "is-unavailable",
      n = 0;
    e.Views.AnswerBar.AudioTile = function (t) {
      i.call(this, t), this.bindEvents([
        [e.keyboard, "space." + this.answer.id, this._onSpace]
      ])
    }, e.Views.AnswerBar.AudioTile.prototype = $.extend({}, i.prototype, {
      play: function () {
        n ? this.showError("Playback Unavailable") : (this.$el.addClass(s), this.$action || (this.$action = this.$(".audio-controls__action"), this.$time = this.$(".audio-controls__time"), this.$progress = this.$(".audio-controls__progress"), this.$loadProgress = this.$(".audio-controls__progress-loading"), this.$loadProgressFill = this.$(".audio-controls__progress-loading .rotated-fill"), this.$playProgress = this.$(".audio-controls__progress-playback"), this.$playProgressFill = this.$(".audio-controls__progress-playback .rotated-fill")), t ? (this.$el.removeClass(a), this.$action.text("║"), this.isPlaying = 1, this.hasStartedPlaying = 0, this.sound ? (t.play(this.model.id), this._onLoadProgress()) : this.sound = t.play(this.model.id, this.model.streamURL, {
          autoPlay: !0,
          whileloading: this._onLoadProgress.bind(this),
          whileplaying: this._onPlayProgress.bind(this),
          onload: this._onLoadFinished.bind(this),
          onfinish: this._onPlayFinished.bind(this)
        })) : e.require("audio", function (i) {
          if ((t = i) && t.ready) {
            if (e.device.isIDevice || e.device.isAndroid) return void this.$el.removeClass(s)
          } else n = 1;
          this.play()
        }.bind(this)))
      },
      pause: function () {
        t && t.ready && (t.pause(this.model.id), this.$el.removeClass(s), this.$el.addClass(a), this.$action.text("►"), this.isPlaying = 0)
      },
      stop: function () {
        t && t.ready && (t.stop(this.model.id), this.$el.removeClass(s), this.$el.removeClass(a), this.$action.text("►"), this.$el.hasClass(o) || this.$time.text(""), this.$loadProgress.removeClass("gt50"), this.$playProgress.removeClass("gt50"), l(this.$loadProgressFill, 0), l(this.$playProgressFill, 0), this.isPlaying = 0)
      },
      showError: function (e) {
        this.$time.text(e), this.$el.addClass(o)
      },
      _onSelectedChanged: function () {
        !1 !== this.answer.meta.autoplay || this._userSelected ? (i.prototype._onSelectedChanged.call(this), this.model.selected ? this.play() : this.stop()) : this.model.selected && this.model.unselect()
      },
      _onClick: function (e) {
        this._userSelected = !0, e.preventDefault(), this.answer.fire("iatc"), this.model.selected ? this.isPlaying ? this.pause() : this.play() : this.model.select()
      },
      _onSpace: function (e) {
        this._userSelected = !0, this.model.selected && (this.isPlaying ? (e.preventDefault(), this.pause()) : this.answer.active && (e.preventDefault(), this.play()))
      },
      _onLoadProgress: function () {
        var e = this.sound.bytesLoaded / this.sound.bytesTotal * 100;
        if (e > 50) return this.$loadProgress.addClass("gt50"), l(this.$loadProgressFill, 100);
        l(this.$loadProgressFill, e)
      },
      _onLoadFinished: function (e) {
        e || (this.showError("Stream Unavailable"), t.stop(), this.answer.autoplaying && this.answer.selectNextItem())
      },
      _onPlayProgress: function () {
        if (this.sound && this.model.duration) {
          this.hasStartedPlaying || (this.$el.removeClass(s), this.hasStartedPlaying = 1);
          var e = this.model.duration - this.sound.position,
            t = this.sound.position / this.model.duration * 100;
          this.$time.text("-" + DDG.formatDuration(e)), t > 50 && this.$playProgress.addClass("gt50"), l(this.$playProgressFill, t)
        }
      },
      _onPlayFinished: function () {
        this.stop(), !1 !== this.answer.meta.autoplay && (this.answer.autoplaying = 1, this.answer.selectNextItem())
      }
    });
    var l = function (e, t) {
      var i = 3.6 * t + "deg";
      e.css({
        "-moz-transform": "rotate(" + i + ")",
        "-webkit-transform": "rotate(" + i + ")",
        "-o-transform": "rotate(" + i + ")",
        transform: "rotate(" + i + ")"
      })
    }
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "can-expand",
      s = "has-chomp-expanded";
    e.Views.AnswerBar.Detail = function (i) {
      this.answer = i.answer, this.template = i.template, this.canExpand = i.canExpand, this.canWrap = i.canWrap, this.hasInfobox = i.hasInfobox, t.call(this, i), this.canExpand && this.bindEvents([
        [this.answer, "change:expanded", this._updateExpandableContent],
        [this.answer, "change:active", this._updateExpandableContent],
        [e.device, "resize", this._updateExpandableContent]
      ]);
      var s = this.answer.meta.rerender;
      s && this.bindEvents(s.map(function (e) {
        return [this.model, "change:" + e, this._rerender]
      }.bind(this)))
    }, e.Views.AnswerBar.Detail.prototype = $.extend({}, t.prototype, {
      _render: function (i) {
        var s = this.model.toTemplateObject(),
          a = $.extend({}, s, i),
          o = this.model.templates.wrap_detail,
          n = this.template;
        this.canWrap && o && (a = {
          content: e.exec_template(n, s)
        }, this.template = o), t.prototype._render.call(this, a), this.template = n;
        var l = this.$(".js-sized-img");
        l.length && l.on("load error", (function () {
          $(this).css({
            height: "auto",
            width: "auto"
          })
        }));
        var r = this.$("img");
        if (r.length && r.error((function () {
            $(this).hide()
          })), this.canExpand && (this.$expandContent = this.$(".js-ellipsis,.js-chomp"), this.$expandContent.length)) {
          this.expandContent = this.$expandContent.html(), this.expandUseEllipsis = this.$(".js-ellipsis").length, this.$expandLink = this.$(".js-chomp-link"), this._updateExpandableContent(), this.$expandLink.length && this.$expandLink.on("click", function () {
            this.answer.set("expanded", !this.answer.expanded), this.answer.fire("iasm")
          }.bind(this));
          var d = this.$(".js-detail-img");
          d.length && !d.width() && d.load(function () {
            this._updateExpandableContent()
          }.bind(this))
        }
      },
      _updateExpandableContent: function () {
        if (this.answer.active && this.expandContent) {
          var t;
          if (this.$expandContent.html(this.expandContent), this._hasCode(), this.answer.expanded)(is_mobile || this.$expandContent.outerHeight() < this.$expandContent.prop("scrollHeight") - 1) && this.$expandLink.addClass(i), this.$el.addClass(s);
          else this.$el.removeClass(s), this.expandUseEllipsis ? t = this.$expandContent.ellipsis(this._getEllipsisOptions()) : this.$expandContent.outerHeight() < this.$expandContent.prop("scrollHeight") - 1 && (t = !0), e.device.isMobile && this.hasInfobox && (t = !0), this.$expandLink.toggleClass(i, t);
          this._highlightSyntaxCheck()
        }
      },
      _hasCode: function () {
        this.model.meta && this.model.meta.topic && (this.isReference = this.model.meta.topic.indexOf("reference") > -1, this.isProgramming = this.model.meta.topic.indexOf("programming") > -1, this.isStackExchange = this.model.id.indexOf("stackexchange") > -1, (this.isReference || this.isProgramming || this.isStackExchange) && this.$el.addClass("has-code"))
      },
      _highlightSyntaxCheck: function () {
        if (this.isReference || this.isProgramming) {
          var e = this.$el.find("pre");
          e.length && DDG.require("prettify", (function () {
            e.addClass("prettyprint"), window.prettyPrint()
          }))
        }
      },
      _getEllipsisOptions: function () {
        var e = {
          firstParagraph: !0
        };
        return this.$el.find("code").length && (e.maxHeight = 200), "lyrics" === this.model.parentId && (e.maxHeight = 150), e
      },
      _onExternalLinkClick: function (e) {
        this.answer.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Detail;
    e.Views.AnswerBar.ImageDetail = function (i) {
      this.parentPadding = i.parentPadding, t.call(this, i), this.bindEvents([
        [this.model, "change:selected", this._onSelectedChanged],
        [e.device, "resize", this._onResize]
      ])
    }, e.Views.AnswerBar.ImageDetail.prototype = $.extend({}, t.prototype, {
      _zoom: 1,
      _panX: 0,
      _panY: 0,
      setZoom: function (e, t) {
        this._zoom = e, this._updateTransform(t)
      },
      setPan: function (e, t, i) {
        this._panX = e / this._zoom, this._panY = t / this._zoom, this._updateTransform(i)
      },
      getPanDimensions: function () {
        return {
          width: this._width * this._zoom,
          height: this._height * this._zoom
        }
      },
      _reportImage: function (t) {
        t.preventDefault(), this.views.modal || (this.views.modal = new e.Views.ReportImageModal({
          thumbnail: this.model.thumbnail,
          image: this.model.image
        })), this.views.modal.show()
      },
      _render: function () {
        t.prototype._render.call(this, {
          detail: this._getDimensions(),
          isMobile: e.device.isMobile,
          linkImage: !e.device.isMobile
        }), this.$imgWrapper = this.$(".js-image-detail-wrapper"), this.$transBg = this.$(".js-detail-image-bg"), this.model.selected && this._onSelectedChanged(), this._cacheElems(".js-image-report", ["link"]), this.bindEvents([
          [this.$link, "click", this._reportImage]
        ])
      },
      _getDimensions: function () {
        var t = e.device,
          i = t.isMobile,
          s = i ? t.width : .55 * t.width,
          a = i ? t.height : this.answer.getDetailHeight() - 2 * this.parentPadding,
          o = this.model,
          n = Math.min(o.width, s),
          l = n / o.width * o.height;
        return l > a && (n = (l = a) / o.height * o.width), this._width = n, this._height = l, {
          width: n + "px",
          height: l + "px",
          transBgWidth: Math.floor(n - 1) + "px",
          transBgHeight: Math.floor(l - 1) + "px"
        }
      },
      _loadHighRes: function () {
        if (!this.$highRes) {
          var t = e.getImageProxyURL(this.model.image_mobile || this.model.image, {
            noFallback: !0
          });
          this.$highRes = this.$(".js-detail-img-high"), this.$highRes.attr("src", t).css({
            display: "block"
          }).on("load", this._onHighResLoaded.bind(this))
        }
      },
      _animateTransform: function () {
        if (!$.Velocity) return this._updateTransform();
        this.$imgWrapper.velocity("stop").velocity({
          scale: this._zoom,
          translateX: this._panX,
          translateY: this._panY
        }, {
          easing: "ease-out",
          duration: e.animation_speed
        })
      },
      _updateTransform: function (e) {
        if (e) return this._animateTransform();
        if ($.Velocity) this.$imgWrapper.velocity("stop"), this._zoom && $.Velocity.hook(this.$imgWrapper, "scale", this._zoom), this._panX && $.Velocity.hook(this.$imgWrapper, "translateX", this._panX + "px"), this._panY && $.Velocity.hook(this.$imgWrapper, "translateY", this._panY + "px");
        else {
          var t = "";
          this._zoom && (t += "scale(" + this._zoom + ") "), (this._panX || this._panY) && (t += "translate(" + (this._panX || 0) + "px," + (this._panY || 0) + "px) "), this.$imgWrapper.css({
            transform: t,
            "-webkit-transform": t,
            "-moz-transform": t,
            "-ms-transform": t,
            "-o-transform": t
          })
        }
      },
      _onSelectedChanged: function () {
        this.model.selected ? this._loadHighResTimeout = setTimeout(this._loadHighRes.bind(this), e.device.isMobileDevice ? 500 : 0) : clearTimeout(this._loadHighResTimeout)
      },
      _onResize: function () {
        this.$imgs || (this.$imgs = this.$(".js-detail-img"));
        var e = this._getDimensions();
        this.$imgs.css({
          height: e.height,
          width: e.width
        }), this.$transBg.css({
          width: e.transBgWidth,
          height: e.transBgHeight
        })
      },
      _onHighResLoaded: function () {
        this.$(".js-detail-img-thumb").fadeOut()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Detail;
    e.Views.AnswerBar.VideoDetail = function (i) {
      this.parentPadding = i.parentPadding, t.call(this, i), this.bindEvents([
        [this.model, "change:selected", this._updateContent],
        [e.settings, "change:k5", this._updateContent],
        [e.device, "resize", this._onResize]
      ])
    }, e.Views.AnswerBar.VideoDetail.prototype = $.extend({}, t.prototype, {
      template: "videos_detail",
      destroy: function () {
        clearTimeout(this._embedTimeout), t.prototype.destroy.call(this)
      },
      _render: function () {
        t.prototype._render.call(this), this.$videoWrap = this.$(".js-video"), this.$video = this.$(".js-video-media"), this._updateSize(), this._updateContent()
      },
      _renderEmbed: function () {
        if (this.model.selected) {
          var e = DDG.exec_template(DDG.templates.videos_detail_embed, this.model);
          this.$video.empty().append(e)
        }
      },
      _renderPrivacy: function () {
        this.views && !this.views.privacy && (this.views.privacy = new e.Views.AnswerBar.VideoDetailOverlay({
          model: this.model,
          appendTo: this.$video
        }))
      },
      _shouldShowPrivacy: function () {
        return this.model.isBing ? e.settings.isDefault("k5") || !this.model.embedURL : !e.device.isMobile && this.model.selected && e.settings.isDefault("k5")
      },
      _shouldShowEmbed: function () {
        return this.model.selected && this.model.isEmbeddable() && 1 == e.settings.get("k5")
      },
      _updateSize: function () {
        var t = e.device,
          i = t.widthBreakpoint(),
          s = t.gutterSize(),
          a = s ? s + 110 : 2 * this.parentPadding,
          o = s ? 2 * this.parentPadding : 2 * this.parentPadding + 76,
          n = t.width - a,
          l = t.isMobileLandscape() || "m" !== i && "s" !== i && "xs" !== i ? .75 * n : n,
          r = this.answer.getDetailHeight() - o,
          d = 16 / 9,
          c = l,
          h = l / d;
        h > r && (c = (h = r) * d), this.$videoWrap.css({
          width: c + "px"
        }), this.$video.css({
          height: h + "px",
          width: c + "px"
        })
      },
      _updateContent: function () {
        this._shouldShowPrivacy() ? this._renderPrivacy() : this._shouldShowEmbed() ? e.device.isMobile ? this._embedTimeout = setTimeout(this._renderEmbed.bind(this), e.animation_speed + 100) : this._renderEmbed() : this.$video.empty()
      },
      _onResize: function () {
        this._updateSize()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.AnswerBar.VideoDetailOverlay = function (e) {
      t.call(this, e)
    }, e.Views.AnswerBar.VideoDetailOverlay.prototype = $.extend({}, t.prototype, {
      template: "videos_detail_privacy",
      shouldShow: function () {
        return DDG.settings.isDefault("k5")
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-video-privacy", ["watch", "leave", "remember", "remember-label"]), this.bindEvents([
          [this.$watch, "click", this._onWatchClick],
          [this.$leave, "click", this._onLeaveClick],
          [this.$remember, "touchstart", this._onRememberTouchStart],
          [this.$rememberlabel, "touchstart", this._onRememberTouchStart]
        ])
      },
      _shouldRemember: function () {
        return this.$remember[0].checked
      },
      _updateSetting: function (e) {
        var t = this._shouldRemember();
        DDG.settings.set("k5", e, {
          saveToCloud: t,
          saveToCookie: t
        })
      },
      _onWatchClick: function (e) {
        e.preventDefault(), this._updateSetting("1"), this.destroy()
      },
      _onLeaveClick: function (e) {
        e.preventDefault(), this.model.isEmbeddable() && (this._updateSetting("2"), this.destroy()), nug(this.model.url)
      },
      _onRememberTouchStart: function (e) {
        e.stopPropagation()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "is-hidden",
      s = "has-open-detail",
      a = "can-scroll",
      o = {
        images_detail: "ImageDetail",
        videos_detail: "VideoDetail"
      },
      n = {
        images_detail: 1,
        videos_detail: 1
      };
    e.Views.AnswerBar.DetailSlider = function (i) {
      t.call(this, i), this.bindEvents([
        [this.model, "change:active", this._onActiveChanged],
        [this.model, "change:selectedItem", this._onSelectedItemChanged],
        [e.device, "resize", this._onResize]
      ])
    }, e.Views.AnswerBar.DetailSlider.prototype = $.extend({}, t.prototype, {
      template: "detail_slider",
      _zoom: 1,
      _panX: 0,
      _panY: 0,
      _focused: !1,
      destroy: function () {
        this._hide(), t.prototype.destroy.call(this)
      },
      position: function (t) {
        e.device.isMobile || this._top !== t && (this._top = t, this.$el.css({
          top: t
        }))
      },
      _show: function () {
        this._isShowing || (this.$el.removeClass(i), this._updateSelectedItem(), e.$html.addClass(s), e.device.isMobile && this._focus(), this._isShowing = 1)
      },
      _hide: function () {
        this._isShowing && (this.$el.addClass(i), e.$html.removeClass(s), this.gestures.reset(), this.destroyChildViews(), this.views = {}, this._isShowing = 0)
      },
      _focus: function () {
        this.$el.addClass("has-focus"), this._focused = 1
      },
      _unfocus: function () {
        this.$el.removeClass("has-focus"), this._focused = 0
      },
      _render: function () {
        var i = $.extend({}, this.model),
          s = e.device.isMobile;
        s || (i.detailHeight = this.model.getDetailHeight() + "px"), s && !Modernizr.touch && (i.mobileAndNoTouch = 1), t.prototype._render.call(this, i);
        var a = this.model.meta.detailOverlay;
        if (s && a && (this.overlayClass = e.Views.AnswerBar[a]), this.model.items.length) {
          var o = this.model.items[0].getItemDetailTemplate();
          n[o] && this.$el.addClass("detail--xd")
        }
        this._cacheElems(".js-detail", ["panes", "close", "next", "prev"]), this.gestures = new e.Utils.GestureRecognizer({
          el: this.$el
        }), this.gestures.on("tap", this._onTap.bind(this)), this.gestures.on("double-tap", this._onDoubleTap.bind(this)), this.gestures.on("swipe", this._onSwipe.bind(this)), this.gestures.on("panmove", this._onPanMove.bind(this)), this.gestures.on("panend", this._onPanEnd.bind(this)), this.gestures.on("pinchmove", this._onPinchMove.bind(this)), this.gestures.on("pinchend", this._onPinchEnd.bind(this)), this.bindEvents([
          [this.$close, "click", this._onCloseClick],
          [this.$next, "click", this._onNextClick],
          [this.$prev, "click", this._onPrevClick]
        ]), this.model.selectedItem && this._show()
      },
      _createPane: function (t, i) {
        if (t) {
          var s = t.getItemDetailTemplate(),
            a = o[s] || "Detail";
          return new e.Views.AnswerBar.DetailSliderPane({
            answer: this.model,
            model: t,
            pos: i,
            detailView: a,
            appendTo: this.$panes
          })
        }
      },
      _swipeToItem: function (e, t) {
        this._swipeVelocity = t, "prev" === e ? this.model.selectPrevItem() : this.model.selectNextItem()
      },
      _setZoom: function (e, t) {
        this._zoom = e, this._zoom <= 1 && this._setPan(0, 0), this.views.cur && this.views.cur.setZoom(e, t)
      },
      _setPan: function (t, i, s) {
        if (this._zoom < 1 ? (this._panX = 0, this._panY = 0) : (this._panX = t, this._panY = i), this.views.cur && this._zoom > 1 && s) {
          var a = this.views.cur.getPanDimensions();
          if (a) {
            var o = Math.abs(a.width - e.device.width) / 2,
              n = Math.abs(a.height - e.device.height) / 2;
            this._panX - o > 0 ? this._panX = o : this._panX + o < 0 && (this._panX = -1 * o), this._panY - n > 0 ? this._panY = n : this._panY + n < 0 && (this._panY = -1 * n)
          }
        }
        this.views.cur && this.views.cur.setPan(this._panX, this._panY, s)
      },
      _updateDOM: function () {
        var e = this.views,
          t = this._swipeVelocity;
        e.prev && e.prev.resetPosition(-1, t), e.cur && e.cur.resetPosition(0, t), e.next && e.next.resetPosition(1, t), delete this._swipeVelocity, this.$prev.toggleClass(a, !!e.prev), this.$next.toggleClass(a, !!e.next && !e.next.model.hidden)
      },
      _updateSelectedItem: function () {
        this.views.prev && this.views.prev.model === this.model.selectedItem ? (this.views.next && this.views.next.destroy(), this.views.next = this.views.cur, this.views.cur = this.views.prev, this.views.prev = this._createPane(this.model.getPrevItem(), -1)) : this.views.next && this.views.next.model === this.model.selectedItem ? (this.views.prev && this.views.prev.destroy(), this.views.prev = this.views.cur, this.views.cur = this.views.next, this.views.next = this._createPane(this.model.getNextItem(), 1)) : (this.destroyChildViews(), this.views = {
          prev: this._createPane(this.model.getPrevItem(), -1),
          cur: this._createPane(this.model.selectedItem),
          next: this._createPane(this.model.getNextItem(), 1)
        }), this._updateDOM(), this.overlayClass && this.overlayClass.prototype.shouldShow() && (this.views.overlay && this.views.overlay.destroy(), this.views.overlay = new this.overlayClass({
          model: this.model.selectedItem,
          appendTo: this.$el
        })), e.device.isMobile && this.model.indexOfSelectedItem() >= this.model.items.length - 1 && this.model.loadMore(), this._setZoom(1, !0), this._setPan(0, 0)
      },
      _clearVerticalPan: function () {
        this.$el.removeClass("is-closing"), this._setPan(0, 0, !0), this._focus()
      },
      _onPanMove: function (e) {
        if (this._zoom > 1) {
          var t = this._panX + e.deltaX,
            i = this._panY + e.deltaY;
          this._setPan(t, i)
        } else "x" === e.axis ? ("x" !== this._panAxis && ("y" === this._panAxis && this._clearVerticalPan(), this._panAxis = "x"), this._prevDirection && this._prevDirection !== e.direction ? this._updateDOM() : (this.views.prev && this.views.prev.translateX(e.distX), this.views.next && this.views.next.translateX(e.distX), this.views.cur && this.views.cur.translateX(e.distX)), this._prevDirection = e.direction) : "y" === e.axis && ("y" !== this._panAxis && (this.$el.addClass("is-closing"), this._panAxis = "y", this._unfocus(), this._updateDOM()), this._setPan(0, this._panY + e.deltaY))
      },
      _onPanEnd: function (t) {
        if ("y" === this._panAxis && this._clearVerticalPan(), delete this._panAxis, delete this._prevDirection, this._zoom <= 1 && !t.multitouch && !t.swiped && this._updateDOM(), this._zoom > 1 && (Math.abs(t.velocityX) > .1 || Math.abs(t.velocityY) > .1)) {
          var i = this._panX + t.velocityX * e.animation_speed,
            s = this._panY + t.velocityY * e.animation_speed;
          this._setPan(i, s, !0)
        }
      },
      _onPinchMove: function (e) {
        this._setZoom(e.pinchDelta * this._zoom)
      },
      _onPinchEnd: function () {
        this._zoom < 1 && this._setZoom(1, !0)
      },
      _onTap: function (e) {
        var t = e.e;
        this._updateDOM(), this._zoom > 1 || (this._focused ? t.target && "A" === t.target.nodeName || this._unfocus() : (t.preventDefault(), t.stopPropagation(), this._focus()))
      },
      _onDoubleTap: function (e) {
        this._zoom > 1 ? (this._setZoom(1, !0), this._focus()) : (this._setZoom(2, !0), this._unfocus())
      },
      _onSwipe: function (e) {
        this._zoom > 1 || ("x" === this._panAxis && "x" === e.axis ? "right" === e.direction && this.model.getPrevItem() ? this._swipeToItem("prev", e.velocityX) : "left" === e.direction && this.model.getNextItem() ? this._swipeToItem("next", e.velocityX) : this._updateDOM() : "y" === this._panAxis && "y" === e.axis && this._closePane())
      },
      _onCloseClick: function (e) {
        e.stopPropagation(), e.preventDefault(), this._closePane()
      },
      _onNextClick: function () {
        this.model.selectNextItem()
      },
      _onPrevClick: function () {
        this.model.selectPrevItem()
      },
      _onActiveChanged: function () {
        this.model.active ? this.model.selectedItem && this._show() : this._hide()
      },
      _onSelectedItemChanged: function () {
        this.model.selectedItem ? (this._updateSelectedItem(), this._show()) : this._hide()
      },
      _onResize: function () {
        e.device.isMobile || this.$el.css({
          height: this.model.getDetailHeight() + "px"
        })
      },
      _closePane: function () {
        this.model.selectedItem && this.model.selectedItem.unselect(), e.device.isMobile && this.model.allowModuleIA && this.model.openedFromModule && (e.duckbar.open("web", {
          skipPixel: !0
        }), this.model.set("openedFromModule", !1))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.AnswerBar.DetailSliderPane = function (i) {
      this.answer = i.answer, this._pos = i.pos, this.detailView = i.detailView, t.call(this, i), this.bindEvents([
        [this.answer, "change:expanded", this._onExpandedChanged],
        [e.device, "resize", this._onResize]
      ])
    }, e.Views.AnswerBar.DetailSliderPane.prototype = $.extend({}, t.prototype, {
      template: "detail_slider_pane",
      resetPosition: function (t, i) {
        (this._pos !== t || this._translateX) && (this._prevX = this._getLeft(), this._translateX = 0, this._pos = t, e.device.isMobile && $.Velocity ? this._transitionPosition(i) : this._updatePosition())
      },
      translateX: function (e) {
        this._translateX !== e && (this._prevX = this._getLeft(), this._translateX = e, this._updatePosition())
      },
      setZoom: function (e, t) {
        this.views.detail && this.views.detail.setZoom && this.views.detail.setZoom(e, t)
      },
      setPan: function (e, t, i) {
        this.views.detail && this.views.detail.setPan && this.views.detail.setPan(e, t, i)
      },
      getPanDimensions: function () {
        if (this.views.detail && this.views.detail.getPanDimensions) return this.views.detail.getPanDimensions()
      },
      _render: function () {
        t.prototype._render.call(this, this._getMeasurements());
        var i = this.model.getItemDetailTemplate();
        this.views.detail = new e.Views.AnswerBar[this.detailView]({
          model: this.model,
          answer: this.answer,
          template: i,
          parentPadding: 16,
          appendTo: this.$el
        }), this._prevX = this._getLeft(), this._updatePosition(), this.$el.css({
          display: "block"
        }), $.Velocity || e.require("velocity", function () {
          this._updatePosition()
        }.bind(this))
      },
      _updateDOM: function () {
        this.$el.css(this._getMeasurements())
      },
      _updatePosition: function () {
        var e = this._getLeft();
        if ($.Velocity) this.$el.velocity("stop"), $.Velocity.hook(this.$el, "translateX", e + "px");
        else {
          var t = "translateX(" + e + "px)";
          this.$el.css({
            transform: t,
            "-webkit-transform": t,
            "-moz-transform": t,
            "-ms-transform": t,
            "-o-transform": t
          })
        }
      },
      _transitionPosition: function (t) {
        t = t || 1;
        var i = this._getLeft(),
          s = this._prevX,
          a = i - s,
          o = t ? Math.abs(a) / (100 * t) * 100 : e.animation_speed;
        o = Math.max(Math.min(o, 500), 200), this.$el.velocity("stop").velocity({
          translateX: [i, s]
        }, {
          easing: "ease-out",
          duration: Math.round(o)
        })
      },
      _getLeft: function () {
        var t = (this._pos || 0) * e.device.width;
        return this._translateX && (t += this._translateX), t
      },
      _getMeasurements: function () {
        var t = e.device,
          i = t.isMobile,
          s = t.isMobilePortrait(),
          a = i ? e.device.height : this.answer.getDetailHeight(),
          o = 16,
          n = 2 * o,
          l = t.isMobile || this.answer.expanded ? o : o + t.gutterSize(),
          r = s ? n : o,
          d = a - r - o,
          c = e.device.width;
        return {
          lineHeight: d + "px",
          height: d + "px",
          width: (c -= o + l) + "px",
          padding: [r, o, o, l].join("px ") + "px"
        }
      },
      _onExpandedChanged: function () {
        this._updateDOM()
      },
      _onResize: function () {
        this._updateDOM(), this._updatePosition()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = e.Views.AnswerBar.Answers,
      s = "is-expanded";
    i.Base = function (i) {
      this.views = {
        items: [],
        itemsById: {}
      }, i.id = i.model.id, t.call(this, i), this._deferShow = i.deferShow;
      var s = this.model;
      this.bindEvents([
        [e.device, "resize", this._onResize],
        [e.keyboard, "escape." + this.model.id, this._onEscape],
        [s, "change:active", this._onActiveChanged],
        [s, "change:expanded", this._onExpandedChanged],
        [s, "change:items", this._onItemsChanged],
        [s, "change:isRequerying", this._onRequeryingChanged]
      ]), this.isValid() && (s.active && this.show(), s.expanded && this._expand(), s.items.length && this._updateItems())
    }, i.Base.prototype = $.extend({}, t.prototype, {
      template: "base",
      isValid: function () {
        if (this.requiredTemplates)
          for (var e = 0; e < this.requiredTemplates.length; e++)
            for (var t = this.requiredTemplates[e], i = t + "_mobile", s = 0; s < this.model.items.length; s++) {
              var a = this.model.items[s];
              if (!a.templates || !a.templates[t] && !a.templates[i]) return !1
            }
        return !(this.maxItems && this.model.items.length > this.maxItems)
      },
      show: function () {
        this.$el.addClass("is-active"), e.keyboard.set("namespace", this.model.id), this.shouldExpandOnShow() && this.model.set("expanded", 1), this.model.expanded && e.history.set({
          iax: this.model.nameId
        }), this._showingNoResults && this._fireNoResultsPixel()
      },
      hide: function () {
        this.$el.removeClass("is-active"), e.keyboard.set("namespace")
      },
      getHeight: function () {
        return this._height ? this._height : this.$el && (this._height = this.$el.outerHeight())
      },
      getWidth: function () {
        return this._width ? this._width : this.$el && (this._width = this.$el.width())
      },
      showNoResults: function (t) {
        this.model && "products" === this.model.id && this.model.bing ? (this.views.noResults || (this.views.noResults = new e.Views.NoResults({
          vertical: this.model.pixelId,
          resultType: this.model.meta.itemType,
          appendTo: this.$jsTiles,
          skipPixel: !0,
          resetFilters: this.model.hasRequeried && this.model.hasDynamicFilters
        })), this.views.noResults.show()) : this.$noResults || (this.$noResults = e.$exec_template("no_ia_results", t), this.$el.append(this.$noResults), this.$noResults.show()), this._fireNoResultsPixel(), this._showingNoResults = 1
      },
      hideNoResults: function () {
        this.$noResults.hide(), this._showingNoResults = 0
      },
      shouldExpandOnShow: function () {
        var e = this.model.meta.autoExpand && this.model.meta.autoExpandRows;
        return this._isQuerystringIAX() && !e
      },
      calculateIAHeight: function () {
        var t = viewport_height - e.get_header_height(),
          i = viewport_height < 800 ? 1 : .8;
        return Math.round(t * i)
      },
      _render: function (e) {
        t.prototype._render.call(this, e), this.$el.click(function () {
          this.model.engaged()
        }.bind(this))
      },
      _updateItems: function () {},
      _expand: function () {
        this.$el.addClass(s), e.history.set({
          iax: this.model.nameId
        })
      },
      _collapse: function () {
        this.$el.removeClass(s), e.history.clear("iax")
      },
      _fireNoResultsPixel: function () {
        if (this.model.active) {
          var t = {};
          "products" === this.model.id && this.model.hasRequeried && (t.hruf = 1), e.pixel.fire("iafd", this.model.pixelId, e.duckbar.activeTabOpenType, t)
        }
      },
      _isQuerystringIAX: function () {
        var t = e.history.get("iax"),
          i = 1 == t || 0 == t ? e.history.get("ia") : t;
        return this.model.id === i || this.model.nameId === i
      },
      _onActiveChanged: function () {
        this.model.active && !this._deferShow ? this.show() : this.hide()
      },
      _onExpandedChanged: function () {
        this.model.expanded ? (this.model.isFullPage && e.duckbar.setOrganicsVisibility(!1, this.model.id), this._expand()) : this._collapse()
      },
      _onRequeryingChanged: function (e) {
        if (this.$el.toggleClass("is-requerying", e), !e) {
          for (var t = 0; t < this.views.items.length; t++) this.views.items[t].destroy();
          this.views.items = [], this.views.itemsById = {}
        }
      },
      _onItemsChanged: function () {
        this.isValid() && this._updateItems()
      },
      _onResize: function () {
        this._height = null, this._width = null
      },
      _onEscape: function () {
        this.model.isFullPage || this.model.set("expanded")
      },
      _onExternalLinkClick: function (e) {
        this.model.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.Base;
    t.Detail = function (e) {
      i.call(this, e)
    }, t.Detail.prototype = $.extend({}, i.prototype, {
      template: "base",
      maxItems: 1,
      requiredTemplates: ["detail"],
      show: function () {
        i.prototype.show.call(this), this.model.items.length && this.emit("item-shown", this.model.items[0])
      },
      _updateItems: function () {
        if (!this.views.items.length && this.model.items.length) {
          var t = this.model.items[0];
          this.views.items.push(new e.Views.AnswerBar.Detail({
            model: t,
            answer: this.model,
            template: t.getDetailTemplate(),
            canExpand: !0,
            canWrap: !0,
            hasInfobox: !!t.infoboxData,
            appendTo: this.$el
          })), t.infoboxData && (this.views.infobox = new e.Views.AnswerBar.InfoBox({
            model: this.model,
            data: t.infoboxData,
            appendTo: this.$el
          })), this.model.meta.hasAttribution() && (this.views.attribution = new e.Views.Attribution({
            answer: this.model,
            className: t.infoboxData ? "attribution-wrap--infobox" : "attribution-wrap--top",
            direction: "bottom-left",
            appendTo: this.$el
          }))
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.Base,
      s = {
        audio_item: "AudioTile",
        places_item: "PlaceTile"
      };
    t.Tiles = function (t) {
      var s = t.model,
        a = s.id;
      this._scrollLeft = 0, this.noDetail = t.noDetail, this.bindEvents([
        [s, "change:isLoading", this._onIsLoadingChanged],
        [s, "change:failed", this._onLoadFailed],
        [s, "change:selectedItem", this._onSelectedItemChanged],
        [s, "change:isRequerying", this._onIsRequeryingChanged],
        [s, "no-results", this.removeLoadMore],
        [e.keyboard, "left." + a, this.selectPrevItem],
        [e.keyboard, "right." + a, this.selectNextItem]
      ]), i.call(this, t), this._updateLoadingMore(), this.model.failed && this._onLoadFailed()
    }, t.Tiles.prototype = $.extend({}, i.prototype, {
      template: "tiles",
      requiredTemplates: ["item"],
      destroy: function () {
        clearTimeout(this._expandTimeout), clearTimeout(this._flickTimeout), i.prototype.destroy.call(this)
      },
      _updateItems: function () {
        if (!this.model.items.length) return this.showNoResults();
        this._showingNoResults && this.hideNoResults(), this.removeLoadMore();
        for (var e = 0; e < this.model.items.length; e++) {
          var t = this.model.items[e];
          t.num = t.num || e + 1, this.views.itemsById[t.id] || t.pixelated || this._appendItem(t)
        }
        this.model.meta.next && this.addLoadMore(), this._updateFooterVisibility(), delete this._height, this._updateScrollNav(), this._selectItemFromQuerystring()
      },
      _updateFooterVisibility: function () {
        "videos" === this.model.id && e.footer && e.footer.set("visible", !e.settings.isDefault("kc") || !this.model.meta.next)
      },
      _appendItem: function (t) {
        if (!(t.fromDeep && this.model.active && e.history.get("iaf"))) {
          var i = t.getItemTemplate(),
            a = s[i] || "Tile",
            o = new e.Views.AnswerBar[a]({
              model: t,
              answer: this.model,
              noDetail: this.noDetail,
              appendTo: this.$jsTiles
            });
          this.views.items.push(o), this.views.itemsById[t.id] = o, o.width = this.getTileWidth(o)
        }
      },
      show: function () {
        i.prototype.show.call(this), this._updateFooterVisibility();
        var t = this.model;
        this._updateWidths(), t.selectedItem && e.history.set({
          iai: t.getQuerystringItemId(t.selectedItem)
        }), this._onResize(), this.views.items.length && (this._selectItemFromQuerystring(), this._selectItemFromMeta()), this.model.items.map(function (e) {
          e.visible && this.emit("item-shown", e)
        }.bind(this))
      },
      hide: function () {
        clearTimeout(this._flickTimeout), clearTimeout(this._expandTimeout), i.prototype.hide.call(this)
      },
      shouldExpandOnShow: function () {
        return !1
      },
      selectNextItem: function () {
        this.model.selectNextItem(), this.model.indexOfSelectedItem() >= this.model.items.length - 1 && this.model.loadMore()
      },
      selectPrevItem: function () {
        this.model.selectPrevItem()
      },
      getTileWidth: function (e) {
        if (e.$el) {
          var t = this.model.meta;
          if (t.variableTileWidth || t.itemsWidthVaries || t.itemsExpand) return e.$el.outerWidth() + 2 * this.getTileMargins().x;
          this.tileWidth || (this.tileWidth = e.$el.outerWidth() + 2 * this.getTileMargins().x)
        }
        return this.tileWidth
      },
      getSelectedTileWidth: function () {
        return this.model.selectedItem && this.getTileWidth(this.views.itemsById[this.model.selectedItem.id])
      },
      getTileMargins: function () {
        return this._tileMargins ? this._tileMargins : this.views.items.length ? this._tileMargins = this.views.items[0].getMargins() : {
          x: 0,
          top: 0,
          bottom: 0
        }
      },
      getLoadMoreWidth: function () {
        return this._showingLoadMore ? this.views.items.length && this.getTileWidth(this.views.items[0]) : 0
      },
      _render: function () {
        i.prototype._render.call(this, {
          id: this.model.id,
          meta: this.model.meta,
          bing: "Bing" === this.model.meta.sourceName,
          isFullPage: this.model.isFullPage,
          canShowSidebarFilters: this.model.canShowSidebarFilters,
          hasFeedbackButton: this.model.hasFeedbackButton
        }), this.$tileview = this.$(".tileview"), this.$tileWrap = this.$(".tile-wrap"), this.$jsTiles = this.$(".js-tiles"), this.$jsTiles.on("mousewheel", this._onMouseWheel.bind(this)), window.addEventListener && this.$jsTiles[0].addEventListener("wheel", this._onMouseWheel.bind(this)), this.$jsTiles.addClass("tileview__" + this.model.id), this.$jsTiles.bind("touchend", this._onJsTilesTouchEnd.bind(this)), this.$loadMore = e.$exec_template("tiles_load_more", {
          id: this.model.id,
          name: this.model.name
        }), this._onResize()
      },
      _createDetailSlider: function () {
        this.views.detail || this.noDetail || (this.views.detail = new e.Views.AnswerBar.DetailSlider({
          model: this.model,
          appendTo: this.$el
        }))
      },
      _updateVisibleItems: function () {
        var t, i, s, a = this._scrollLeft - e.device.gutterSize(),
          o = a + viewport_width,
          n = 0,
          l = {
            offscreenRight: [],
            offscreenLeft: [],
            visible: []
          };
        for (t = 0; i = this.views.items[t]; t++) {
          var r = n,
            d = n + i.width,
            c = 0,
            h = 0;
          r < a ? (l.offscreenLeft.push(i), d > a && (h = 1)) : d > o ? (l.offscreenRight.push(i), r < o && (h = 1)) : (c = 1, l.visible.push(i)), s = (c || h) && this.model.active && !i.model.visible, i.model.set({
            visible: c,
            partiallyVisible: h
          }), n += i.width, s && this.emit("item-shown", i.model)
        }
        if (this._showingLoadMore) {
          var p = {
            width: this.getLoadMoreWidth()
          };
          n + p.width > o ? (p.visible = 0, l.offscreenRight.push(p)) : (p.visible = 1, l.visible.push(p))
        }
        return l
      },
      _selectItemFromQuerystring: function () {
        var t, i = this.model,
          s = e.history.get("iai"),
          a = e.history.get("ia");
        i.active && !i.selectedItem && a === i.nameId && void 0 !== s && (!(t = i.itemsById[s]) && $.isNumeric(s) && (t = i.items[s]), t ? (this._rowsToShow && !t.visible && this._loadMore(), t.select(), this._scrollToTile(this.views.itemsById[t.id], {
          animated: !1
        })) : i.meta.next && this._loadMore())
      },
      _selectItemFromMeta: function () {
        var e = this.model,
          t = e.meta;
        if (e.active && !e.selectedItem && !e.selectedItem && t.selectedItem) {
          var i = e.itemsById[t.selectedItem];
          i || (i = e.items[t.selectedItem]), i && i.select(), this._scrollToTile(this.views.itemsById[i.id], {
            animated: !1
          })
        }
      },
      _updateScrollNav: function () {
        if (this.views.items.length && this.model.active) {
          this.$leftScrollNav || (this.$leftScrollNav = e.$exec_template("tiles_scroll_nav", {
            dir: "prev"
          }), this.$rightScrollNav = e.$exec_template("tiles_scroll_nav", {
            dir: "next"
          }), this.$jsTiles.prepend(this.$leftScrollNav), this.$jsTiles.prepend(this.$rightScrollNav), this.$leftScrollNav.bind("click", this._onLeftScrollClick.bind(this)), this.$rightScrollNav.bind("click", this._onRightScrollClick.bind(this)));
          var t = this._updateVisibleItems(),
            i = t.offscreenLeft.length,
            s = t.offscreenRight.length;
          this.$leftScrollNav.attr("data-items", i), this.$rightScrollNav.attr("data-items", s), this.$leftScrollNav.removeClass("can-scroll"), this.$rightScrollNav.removeClass("can-scroll"), i > 0 && this.$leftScrollNav.addClass("can-scroll"), s > 0 && this.$rightScrollNav.addClass("can-scroll"), this.model.active && this.model.meta.next && !this.model.expanded && s < 3 && this._loadMore(), this.emit("scrolled", t)
        }
      },
      _scrollHorizontal: function (t) {
        var i, s = this._scrollLeft,
          a = e.device.gutterSize(),
          o = this._getTotalTileWidth(),
          n = viewport_width - a;
        i = "right" === t ? Math.min(s + n, o + a) : Math.max(s - n, 0);
        for (var l, r, d = 0, c = 0; r = this.views.items[c]; c++) i >= d && i <= d + r.width && (l = r), d += r.width;
        !l && this._showingLoadMore && this.$loadMore && (l = {
          $el: this.$loadMore
        }), this._scrollToTile(l)
      },
      _scrollToTile: function (t, i) {
        if (t && t.$el) {
          for (var s, a = !i || void 0 === i.animated || i.animated, o = this.model.meta, n = 0, l = 0, r = this._getTotalTileWidth() + e.device.gutterSize() + 100 - e.device.width;
            (s = this.views.items[l]) && s !== t; l++) n += s.width;
          o.itemsExpand && l > this._lastExpandedTileIndex && (n -= this._lastExpandedTileDiff), n = Math.min(n, r), this._scrollLeft !== n && (this._scrollLeft = n, a ? (this._autoScrolling = !0, this.$jsTiles.stop().animate({
            scrollLeft: this._scrollLeft
          }, e.animation_speed, function () {
            this._autoScrolling = !1
          }.bind(this))) : this.$jsTiles.scrollLeft(this._scrollLeft), this._updateScrollNav())
        }
      },
      _updateDetailViewPosition: function () {
        var t = this.model.selectedItem;
        if (t && !e.device.isMobile && this.views.detail)
          if (this.model.expanded) {
            var i = this.views.itemsById[t.id],
              s = parseInt(i.$el.position().top, 10),
              a = this.getTileMargins(),
              o = s + parseInt(i.$el.outerHeight(), 10) + a.bottom;
            this.views.metabar && !this.views.metabar.isStuck() && e.settings.get("ko").match(/^(d|s|-1)$/) && (o += this.views.metabar.getHeight()), this.views.detail.position(o + "px")
          } else this.views.detail.position("auto")
      },
      _updateWidths: function () {
        delete this.tileWidth;
        for (var e, t = 0; e = this.views.items[t]; t++) e.width = this.getTileWidth(e)
      },
      _getTotalTileWidth: function () {
        for (var e = 0, t = 0; t < this.views.items.length; t++) e += this.views.items[t].width;
        return e += this.getLoadMoreWidth()
      },
      showNoResults: function (e) {
        i.prototype.showNoResults.call(this, e), this.$leftScrollNav && this.$leftScrollNav.hide(), this.$rightScrollNav && this.$rightScrollNav.hide(), this.$el.addClass("has-no-results")
      },
      hideNoResults: function () {
        i.prototype.hideNoResults.call(this), this.$leftScrollNav && this.$leftScrollNav.show(), this.$rightScrollNav && this.$rightScrollNav.show(), this.$el.removeClass("has-no-results")
      },
      addLoadMore: function () {
        this._showingLoadMore || (this.$jsTiles.append(this.$loadMore), this.$loadMore.click(this._onLoadMoreClick.bind(this)), this._showingLoadMore = !0)
      },
      removeLoadMore: function () {
        this.$loadMore.remove(), this._showingLoadMore = !1
      },
      _loadMore: function () {
        if (!this.model.isLoading) return this._rowsToShow ? (this.views.metabar && this.views.metabar.show(), void(!is_mobile || this.model.canLoadOnScroll() && "images" !== this.model.id ? (this.$(".tile.is-hidden").removeClass("is-hidden"), delete this._rowsToShow, this.model.meta.next || this.removeLoadMore()) : this._loadMoreMobile())) : void this.model.loadMore()
      },
      _loadMoreMobile: function () {
        var t, i, s, a = 4,
          o = e.device.width,
          n = this.views.items.length;
        for ("images" === this.model.id && (a = n), t = 0; t < n && a; t++)(s = (i = this.views.items[t]).$el).is(":visible") || (o - s.outerWidth() < 0 && !(n - t < 4) && (o = e.device.width, a--), a && (i.model.set({
          visible: 1,
          partiallyVisible: 0
        }), s.removeClass("is-hidden"), o -= s.outerWidth()));
        this._rowsToShow += 4 - a, this.views.items[n - 1].$el.is(":visible") && (delete this._rowsToShow, this.views.metabar && this.views.metabar.show(), this.model.meta.next || this.removeLoadMore())
      },
      _updateLoadingMore: function () {
        this.$loadMore && (this.model.isLoading ? this.$loadMore.addClass("is-loading") : this.$loadMore.removeClass("is-loading"))
      },
      _updateAfterItemExpand: function () {
        clearTimeout(this._expandTimeout);
        var t = this.getSelectedTileWidth();
        this._expandTimeout = setTimeout(function () {
          if (this._updateWidths(), this._updateScrollNav(), this.model.selectedItem) {
            var e = this.getSelectedTileWidth();
            this._lastExpandedTileDiff = e - t, this._lastExpandedTileIndex = this.model.indexOfSelectedItem()
          } else delete this._lastExpandedTileIndex, delete this._lastExpandedTileDiff
        }.bind(this), e.animation_speed + 150)
      },
      _onLeftScrollClick: function (e) {
        e.preventDefault(), this._scrollHorizontal("left")
      },
      _onRightScrollClick: function (e) {
        e.preventDefault(), this._scrollHorizontal("right")
      },
      _onJsTilesTouchEnd: function () {
        this._scrollLeft = this.$jsTiles.scrollLeft(), this._updateVisibleItems(), this._flickTimeout && clearTimeout(this._flickTimeout), this._flickTimeout = setTimeout(function () {
          this._scrollLeft !== this.$jsTiles.scrollLeft() && (this._scrollLeft = this.$jsTiles.scrollLeft(), this._updateVisibleItems())
        }.bind(this), 2e3)
      },
      _onMouseWheel: function (e) {
        if (!this._autoScrolling) {
          if (this.model.selectedItem) {
            var t = this.views.itemsById[this.model.selectedItem.id];
            t && t.hideViews && t.hideViews()
          }
          var i = e.originalEvent ? -1 * e.originalEvent.wheelDeltaX : e.deltaX;
          if (i) return e.preventDefault(), this.$jsTiles.scrollLeft(this._scrollLeft + i), this._scrollLeft = this.$jsTiles.scrollLeft(), this._updateScrollNav(), !1
        }
      },
      _onEscape: function () {
        this.model.selectedItem ? this.model.selectedItem.unselect() : i.prototype._onEscape.call(this)
      },
      _onLoadMoreClick: function (e) {
        e.preventDefault(), this._loadMore(), this.model.fire("iasm")
      },
      _onResize: function () {
        i.prototype._onResize.call(this), this._updateWidths(), this._updateScrollNav(), delete this._height, delete this._tileMargins
      },
      _onIsLoadingChanged: function () {
        this._updateLoadingMore()
      },
      _onLoadFailed: function () {
        this.model.failed && (this.removeLoadMore(), this._updateItems())
      },
      _shouldScrollToTileOnItemSelect: function () {
        if (e.device.isMobile) return !1;
        var t = this.model.selectedItem;
        return t && !t.visible
      },
      _onSelectedItemChanged: function () {
        delete this._height;
        var t = this.model,
          i = t.meta;
        if (!t.selectedItem) return e.history.clear("iai"), void(i.itemsExpand && this._updateAfterItemExpand());
        var s = t.selectedItem,
          a = this.views.itemsById[s.id];
        this._shouldScrollToTileOnItemSelect() && this._scrollToTile(a), i.itemsExpand && this._updateAfterItemExpand(), s.canShowItemDetail() && !this.views.detail && this._createDetailSlider(), this._updateDetailViewPosition()
      },
      _onIsRequeryingChanged: function (t) {
        t && (e.device.scrollTop() > this.$el.scrollTop() && this._scrollToTile(this.views.items[0]), delete this._rowsToShow)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.Tiles;
    t.GridTiles = function (e) {
      var t = e.model;
      i.call(this, e), this.bindEvents([
        [t, "change:canExpand", this._onCanExpandChanged],
        [t, "change:selectedTopic", this._onSelectedTopicChanged],
        [t, "change:parameters", this._createSidebarFilters]
      ]), this._cacheElems(".js-tileview", ["sidebar-filters"]), this._createMetaBar(), this._createFeedbackButton()
    }, t.GridTiles.prototype = $.extend({}, i.prototype, {
      _updateItems: function () {
        i.prototype._updateItems.call(this), this._rowsToShow && this._updateHiddenRows(), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      _appendItem: function (t) {
        if (i.prototype._appendItem.call(this, t), e.device.isMobile) {
          var s = this.views.items[this.views.items.length - 1];
          this.bindEvents([
            [s, "rerender", this._updateHiddenRows]
          ])
        }
      },
      shouldExpandOnShow: function () {
        var e = this.model.meta.autoExpand && this.model.meta.autoExpandRows;
        return this.model.canExpand && (this._isQuerystringIAX() || this.model.allowModuleIA) && !e
      },
      _shouldScrollToTileOnItemSelect: function () {
        var t = this.model,
          i = t.selectedItem,
          s = e.device.isMobile,
          a = t.expanded && !s;
        return this.model.openedFromModule ? a || !i.visible && !s : a || !i.visible
      },
      show: function () {
        this.model.expanded && this._setIARequery(), i.prototype.show.call(this);
        var e = this.model,
          t = e.meta;
        !e.expanded && e.canExpand && t.autoExpand && (this.model.set("expanded", 1), t.autoExpandRows && (this._rowsToShow = t.autoExpandRows, this._updateHiddenRows(), t.alwaysShowMetabar || this.views.metabar && this.views.metabar.hide()), t.autoExpand = 0), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      hide: function () {
        this._clearIARequery(), i.prototype.hide.call(this)
      },
      _updateVisibleItems: function () {
        var t, s, a, o = {
            offscreenRight: [],
            offscreenLeft: [],
            visible: []
          },
          n = this.views.items.length;
        if (n) {
          if (this.model.expanded) {
            if (e.device.isMobile && this.model.meta.autoExpandRows && !this.model.isRequery && (this.model.meta.autoExpand || this._rowsToShow) && (n = "Images" === this.model.name ? 10 * this.model.meta.autoExpandRows : 5 * this.model.meta.autoExpandRows), !this.model.openedFromModule || !e.device.isMobile)
              for (t = 0; s = this.views.items[t]; t++) t < n && (a = this.model.active && !s.model.visible, s.model.set({
                visible: 1,
                partiallyVisible: 0
              }), o.visible.push(s), a && this.emit("item-shown", s.model))
          } else o = i.prototype._updateVisibleItems.call(this);
          return this.tilesContainerHeight = this._getTilesContainerHeight(), o
        }
      },
      _collapse: function () {
        this._clearIARequery(), i.prototype._collapse.call(this), this.model.selectedItem && this.model.selectedItem.unselect(), e.device.scrollTop(0), is_mobile ? this.emit("close") : (this.$jsTiles.removeClass("has-tiles--grid").addClass("has-tiles"), this.$tileview.removeClass("tileview--grid").addClass("tileview"), delete this._height, delete this._tileMargins, this._updateScrollNav())
      },
      _expand: function () {
        this.model.meta.autoExpandRows || this._setIARequery(), i.prototype._expand.call(this), this.$tileview.removeClass("tileview").addClass("tileview--grid"), this.$jsTiles.removeClass("has-tiles").addClass("has-tiles--grid"), this._updateVisibleItems(), delete this._height, delete this._tileMargins, this.views.detail && this.model.selectedItem && (this._updateDetailViewPosition(), this._scrollToTile(this.views.itemsById[this.model.selectedItem.id])), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      getHeight: function (e) {
        var t = i.prototype.getHeight.call(this, e);
        return e && e.subtractMenu && this.views.metabar ? t - this.views.metabar.getHeight() : t
      },
      _setIARequery: function () {
        this.model.isFullPage && e.hidden.set("iar", this.model.nameId)
      },
      _clearIARequery: function () {
        e.hidden.clear("iar")
      },
      _createMetaBar: function () {
        this.views.metabar || (this.views.metabar = new e.Views.AnswerBar.Meta.MetaBar($.extend({
          model: this.model,
          parent: this,
          before: this.model.canShowSidebarFilters ? this.$sidebarfilters : this.$tileWrap
        }, this.model.meta)), this.views.metabar.on("stuck", this._onMetabarStuckChanged.bind(this)), this.views.metabar.on("close", this.emit.bind(this, "close")))
      },
      _createSidebarFilters: function () {
        this.views.sidebarFilters && (this.views.sidebarFilters.destroyChildViews(), delete this.views.sidebarFilters), this.views.sidebarFilters = new e.Views.Dropdowns.FilterContainer({
          $el: this.$sidebarfilters,
          answer: this.model
        })
      },
      _createFeedbackButton: function () {
        this.views.feedback || !this.model.hasFeedbackButton || e.device.isMobile || (this.views.feedback = new e.Views.Feedback.Button({
          appendTo: this.$(".js-vertical-bottom-right"),
          category: this.model.id + "vertical"
        }))
      },
      _scrollToTile: function (t, s) {
        if (t && t.$el) {
          var a = !s || void 0 === s.animated || s.animated,
            o = this.model;
          if (o.expanded) {
            var n = t.$el.offset().top,
              l = this.getTileMargins(),
              r = Math.max(n - l.top - l.bottom, 0);
            this.views.metabar && (r -= this.views.metabar.getHeight()), e.isHeaderFixed && (r -= e.get_header_height()), r += e.getProperty(this, "model.detailScrollOffset") || 0, r = Math.round(r), o.canShowSidebarFilters && (r = 0), is_mobile_device || !a ? e.device.scrollTop(r) : e.device.scrollTop(r, !0)
          } else i.prototype._scrollToTile.call(this, t, s)
        }
      },
      _updateHiddenRows: function () {
        if (this.model.expanded && this._rowsToShow) {
          for (var e, t, i = 0, s = null, a = 0, o = 0; e = this.views.items[o]; o++) a ? e.hide() : (e.model.gridRow ? i = e.model.gridRow : (t = e.$el.position().top, null !== s && t === s || (i++, s = t)), i > this._rowsToShow ? (a = 1, e.hide()) : e.show());
          a && this.addLoadMore(), this.tilesContainerHeight = this._getTilesContainerHeight()
        }
      },
      _getGridTileAt: function (e, t) {
        e = e || 0, t = t || 0;
        for (var i, s = 0; i = this.views.items[s]; s++) {
          var a = i.$el.offset();
          if (a.left >= e && a.top >= t) return i
        }
        return null
      },
      _scrollToSelectedTopic: function () {
        this.model.selectedTopic && this._scrollToTile(this.views.itemsById[this.model.selectedTopic.items[0].id])
      },
      _onCanExpandChanged: function () {
        this.model.expanded && !this.model.canExpand && this.model.set("expanded")
      },
      _onMetabarStuckChanged: function () {
        this.model.expanded && !e.device.isMobile && this._updateDetailViewPosition()
      },
      _onResize: function () {
        i.prototype._onResize.call(this), this._updateHiddenRows(), this._updateDetailViewPosition(), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      _onSelectedTopicChanged: function () {
        var e = this.model.selectedTopic;
        if (this.$(".active-topic").removeClass("active-topic"), e) {
          var t = this.views.itemsById;
          this._scrollToSelectedTopic(), DDG.addClass(this.model.id, this.$el, "at-topic");
          for (var i = 0; i < e.items.length; i++) {
            t[e.items[i].id].$el.addClass("active-topic")
          }
        } else DDG.removeClass(this.model.id, this.$el, "at-topic")
      },
      _onJsTilesTouchEnd: function () {
        this.model.expanded || i.prototype._onJsTilesTouchEnd.call(this)
      },
      _onMouseWheel: function (e) {
        this.model.expanded || i.prototype._onMouseWheel.call(this, e)
      },
      _onLoadMoreClick: function (t) {
        e.device.isMobile && this.model.isFullPage && this._setIARequery(), i.prototype._onLoadMoreClick.call(this, t)
      },
      _getTilesContainerHeight: function () {
        return $(".zci.is-active .js-tiles").height()
      },
      _checkLoadMore: function (t) {
        if (this.model.canLoadOnScroll()) {
          var i = e.device,
            s = i.scrollTop(),
            a = e.get_header_height() + (this.views.metabar ? this.views.metabar.getHeight() : 0);
          s + i.height > this.tilesContainerHeight + a - t && this.model.loadMore()
        }
      },
      _updateLoadingMore: function () {
        if (this.$loadMore) {
          var t = "1" === e.settings.get("kc") ? " is-auto-loading" : "";
          this.model.isLoading ? this.$loadMore.addClass("is-loading" + t) : this.$loadMore.removeClass("is-loading" + t)
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.GridTiles,
      s = {
        desktop: {
          normal: 180,
          fallback: 163
        },
        mobile: {
          normal: 150,
          fallback: 120
        }
      },
      a = {
        desktop: {
          normal: 120,
          fallback: 60
        },
        mobile: {
          normal: 70,
          fallback: 48
        }
      };
    t.Images = function (t) {
      this._device = e.device.isMobile ? "mobile" : "desktop", this._type = t.model.isNonModuleFallback ? "fallback" : "normal", this.scrollHandler = this._onScroll.bind(this), i.call(this, t)
    }, t.Images.prototype = $.extend({}, i.prototype, {
      requiredTemplates: null,
      show: function () {
        e.device.on("scroll", this.scrollHandler), this.model.isNonModuleFallback && this.$el.addClass("is-fallback"), i.prototype.show.call(this)
      },
      hide: function () {
        e.device.removeListener("scroll", this.scrollHandler), e.keyboard.clear("nativeUpDown"), i.prototype.hide.call(this)
      },
      showNoResults: function () {
        var t = {},
          s = this.model.name;
        !window.iqbi || e.settings.safeSearch.isOff() || e.history.get("iaf") || (t.message = l("%s blocked by safe search.", s)), i.prototype.showNoResults.call(this, t)
      },
      _updateItems: function () {
        i.prototype._updateItems.call(this), this.model.expanded && (this._recalcTileGridDimensions(), this._updateTileWidths(), this._checkLoadMore()), this._updateHiddenRows(), delete this._height, this._updateDetailViewPosition(), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      _appendItem: function (e) {
        var t = a[this._device][this._type],
          o = s[this._device][this._type];
        e.loadHighRes = !is_mobile, e.width > t && e.height > o ? e.tileWidth = Math.ceil(o / e.height * e.width) : e.width > t ? e.tileWidth = e.width : e.tileWidth = t, i.prototype._appendItem.call(this, e)
      },
      getTileWidth: function (e) {
        return e.model.tileWidth + 2 * this.getTileMargins().x
      },
      getLoadMoreWidth: function () {
        return this._loadMoreTileWidth || 240
      },
      _loadMore: function () {
        i.prototype._loadMore.call(this), this.tilesContainerHeight = this._getTilesContainerHeight()
      },
      _expand: function () {
        this.$jsTiles.css("width", this.getWidth()), "images" === this.model.id && (e.device.isMobile && this.model.meta.autoExpandRows || this.$el.css("min-height", e.device.height - e.get_header_height())), i.prototype._expand.call(this), !e.device.isMobile && this.model.isNonModuleFallback && this._expandFromFallback(), this._recalcTileGridDimensions(), this._updateTileWidths(), e.history.set({
          ia: this.model.id
        }), this._checkLoadMore(), e.keyboard.set("nativeUpDown", !0)
      },
      _collapse: function () {
        i.prototype._collapse.call(this), this._clearMinHeight(), this._toggleTrailingTileVisibility(), this.$jsTiles.css("width", "auto"), this._updateTileWidths(), e.keyboard.clear("nativeUpDown")
      },
      _clearMinHeight: function () {
        !e.device.isMobile && e.settings.isDefault("kc") && this.$el.css("min-height", "")
      },
      _recalcTileGridDimensions: function () {
        if (this.views.items.length) {
          for (var t, i, s = [], a = 0, n = this.getWidth() - (e.device.isMobile ? 10 : 20), l = 2 * this.getTileMargins().x, r = 1, d = 0, c = 0; t = this.views.items[c]; c++)(i = t.model).gridWidth = i.tileWidth, delete i.killMinWidth, a += i.gridWidth + l, s.push(i), i.gridRow = r, a > n && (o(s, a - n, this._device, this._type), a = 0, s = [], r++), i.selected && (d = r);
          r > 1 && this._toggleTrailingTileVisibility(r, n - a, d)
        }
      },
      _toggleTrailingTileVisibility: function (e, t, i) {
        for (var s, o = a[this._device][this._type], n = 0; s = this.views.items[n]; n++) s.model.gridRow === e && t > o && i !== e ? (s.model.set({
          hidden: 1
        }), s.$el.addClass("is-hidden")) : s.model.hidden && (delete s.model.hidden, s.$el.removeClass("is-hidden"))
      },
      _updateTileWidths: function () {
        for (var e, t, i = this.getTileMargins(), s = 0; t = this.views.items[s]; s++) t.$el && (e = t.model, t.$el.css({
          width: this.model.expanded ? e.gridWidth : e.tileWidth,
          marginLeft: i.x + "px",
          marginRight: i.x + "px"
        }), e.killMinWidth && t.$el.css({
          minWidth: 0
        }));
        is_mobile || this.$loadMore.css({
          width: (this.model.expanded ? 300 : this.getLoadMoreWidth()) + "px",
          marginLeft: this.model.expanded ? "auto" : i.x + "px",
          marginRight: this.model.expanded ? "auto" : i.x + "px"
        })
      },
      _onResize: function () {
        this._width = null, this.$jsTiles.css("width", this.getWidth()), i.prototype._onResize.call(this), this.views.items.length && this.model.expanded && (this._recalcTileGridDimensions(), this._updateTileWidths(), this._updateDetailViewPosition(), this._checkLoadMore())
      },
      _onScroll: function () {
        if (!this.model || !this.model.isNonModuleFallback) {
          var e = s[this._device][this._type];
          this._checkLoadMore(2 * e)
        }
      },
      _onLoadMoreClick: function (t) {
        e.device.isMobile && this.model.isNonModuleFallback && this._expandFromFallback(), i.prototype._onLoadMoreClick.call(this, t)
      },
      _expandFromFallback: function () {
        this._type = "normal", this.$el.removeClass("is-fallback"), this.model.set("isNonModuleFallback", !1), this.model.isFullPage || (this.$el.addClass("is-full-page"), this.model.set("isFullPage", !0), this.model.meta.set("autoExpand", 0), e.duckbar.setOrganicsVisibility(!1, this.model.id))
      }
    });
    var o = function (e, t, i, s) {
      for (var o, n = Math.floor(t / e.length), l = a[i][s], r = 0; o = e[r]; r++) {
        var d = n;
        o.gridWidth - n < l && (d = o.gridWidth - l), o.gridWidth -= d, t -= d
      }
      var c = Math.ceil(t);
      for (r = 0; o = e[r]; r++) {
        if (o.gridWidth - c > l) {
          o.gridWidth -= c;
          break
        }
        r === e.length - 1 && (o.gridWidth -= c, o.killMinWidth = 1)
      }
    }
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.GridTiles;
    t.Videos = function (e) {
      this.scrollHandler = this._onScroll.bind(this), i.call(this, e)
    }, t.Videos.prototype = $.extend({}, i.prototype, {
      show: function () {
        e.device.on("scroll", this.scrollHandler), i.prototype.show.call(this)
      },
      hide: function () {
        e.device.off("scroll", this.scrollHandler), i.prototype.hide.call(this)
      },
      showNoResults: function () {
        var t = {},
          s = this.model.name;
        !window.iqbi || e.settings.safeSearch.isOff() || e.history.get("iaf") || (t.message = l("%s blocked by safe search.", s)), i.prototype.showNoResults.call(this, t)
      },
      _expand: function () {
        e.device.isMobile && this.model.meta.autoExpandRows || this.$el.css("min-height", e.device.height - e.get_header_height()), i.prototype._expand.call(this)
      },
      _collapse: function () {
        this._clearMinHeight(), i.prototype._collapse.call(this)
      },
      _clearMinHeight: function () {
        !e.device.isMobile && e.settings.isDefault("kc") && this.$el.css("min-height", "")
      },
      _onScroll: function () {
        this._checkLoadMore(750)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.GridTiles;
    t.Products = function (e) {
      this.scrollHandler = this._onScroll.bind(this), i.call(this, e), this.bindEvents([
        [this.model, "change:active", this._updateTitle],
        [this.model, "change:items", function () {
          this._detectItemsInViewport(), this._bindEventsToImages(), this._checkLoadMore(0)
        }.bind(this)]
      ])
    }, t.Products.prototype = $.extend({}, i.prototype, {
      show: function () {
        e.device.on("scroll", this.scrollHandler), i.prototype.show.call(this)
      },
      hide: function () {
        e.device.off("scroll", this.scrollHandler), i.prototype.hide.call(this)
      },
      _onScroll: function () {
        e.device.isMobileDevice && this._detectItemsInViewport(), this._checkLoadMore(660)
      },
      _detectItemsInViewport: function () {
        if (this.model.adReporting) {
          for (var t = $(window), i = 0; i < this.views.items.length; i++) {
            var s = this.views.items[i],
              a = s.$el,
              o = a && a.offset();
            o && o.left + a.width() > t.scrollLeft() && o.top + a.height() > t.scrollTop() && o.left < t.scrollLeft() + t.innerWidth() && o.top < t.scrollTop() + t.innerHeight() ? s.model.inViewport = !0 : s.model.inViewport = !1
          }
          e.device.isMobileDevice && 1 === this.model.expanded && this.model.adReporting.sendShoppingVisibility({
            mobile: !0,
            items: this.model.items
          })
        }
      },
      _bindEventsToImages: function () {
        e.device.isIE || this.$(".js-product-image").off("error").on("error", this._onImageError)
      },
      _onImageError: function () {
        var t = $(this);
        t.hide(), e.pixel.fire("jse", "productimageerror", {
          msg: t.attr("src")
        })
      },
      _selectItemFromQuerystring: function () {
        this.model.bing || i.prototype._selectItemFromQuerystring.call(this)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.AnswerBar.Answers,
      i = t.Base,
      s = {
        images: {
          mobile: 185,
          desktop: 216
        },
        nlp_qa: {
          mobile: 133,
          desktop: 253
        },
        products: {
          mobile: 279,
          desktop: 269
        },
        recipes: {
          mobile: 251,
          desktop: 205,
          desktopTall: 268
        },
        sound_cloud: {
          mobile: 330,
          desktop: 311
        },
        time: {
          mobile: 154,
          desktop: 154
        },
        videos: {
          mobile: 250.5,
          desktop: 238,
          desktopTall: 272
        }
      };
    t.Placeholder = function (e) {
      this.signalWait = e.signalWait, this.timeAdded = (new Date).getTime(), i.call(this, e), this.show(), this.updateHeight()
    }, t.Placeholder.prototype = $.extend({}, i.prototype, {
      updateHeight: function () {
        var t, i = s[this.signalWait],
          a = e.device;
        i && (t = a.isMobile ? i.mobile || 190 : a.isTeapot() ? i.desktop || 190 : i.desktopTall || i.desktop || 190), this.$el.height(t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = ["web", "images", "videos", "news", "maps_expanded", "maps_places", "products", "about"],
      s = {
        web: "loupe",
        maps_expanded: "maps",
        maps_places: "maps",
        about: "maps",
        products: "shopping"
      };
    e.Views.AnswerBarMenuItem = function (e) {
      t.call(this, e), this.$link = this.$(".js-zci-link"), this.bindEvents([
        [this.model, "change:active", this._onActiveChanged],
        [this.model, "change:visible", this._onVisibleChanged],
        [this.$link, "click", this._onClick]
      ])
    }, e.Views.AnswerBarMenuItem.prototype = $.extend({}, t.prototype, {
      template: "duckbar_tab",
      _render: function () {
        e.$html.hasClass("is-vertical-tabs-exp") && !e.device.isMobile && i.includes(this.model.id) && (this.model.icon_template = "icon_" + (s[this.model.id] || this.model.id), this.template = "uxexp_" + this.template), t.prototype._render.call(this, this.model)
      },
      _onClick: function (e) {
        e.preventDefault(), this.model.toggle()
      },
      _onActiveChanged: function (e) {
        this.$link.toggleClass("is-active", e)
      },
      _onVisibleChanged: function (e) {
        this.$el.toggleClass("is-hidden", !e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.AnswerBarMenu = function (i) {
      t.call(this, i), this.views.items = [], this.views.itemsById = {}, this._isAndroidIoSDDGAppHeaderExp = e.device.isMobileDevice && (e.device.isAndroid || e.device.isIDevice) && e.device.isDDGApp && [-1, -2].includes(parseInt(e.settings.get("ko"), 10)), this._headerIsHidden = "-1" === e.settings.get("ko"), this.bindEvents([
        [this.model, "change:items", this._onItemsChanged]
      ]), e.deep.on("load:initial", this._renderSettings.bind(this))
    }, e.Views.AnswerBarMenu.prototype = $.extend({}, t.prototype, {
      template: "answerbar_tabs",
      _renderSettings: function () {
        (e.addToBrowser.canShowOpenInAppButton() || !e.device.isMobile || this._headerIsHidden || this._isAndroidIoSDDGAppHeaderExp) && new e.Views.Dropdowns.SettingsDropdown({
          appendTo: "#duckbar_dropdowns",
          tagName: "li",
          preRender: !1
        })
      },
      _render: function (i) {
        t.prototype._render.call(this, i), this.$staticWrap = this.$("#duckbar_static"), this.$newItem = this.$("#duckbar_new"), this.$sep = this.$("#duckbar_dynamic_sep"), !e.device.isMobileDevice || !this._isAndroidIoSDDGAppHeaderExp && this._headerIsHidden || ($(".js-zcm-right").addClass("zcm--right-fade" + (this._shouldRenderSettingsOnTheRight ? "" : " zcm--right-fade-wide")), $(".set-header--menu.has-zcm.is-mobile .header--aside").addClass("is-showing"))
      },
      _onItemsChanged: function () {
        this.model.items.forEach(function (e, t) {
          var i = !1;
          this.views.itemsById[e.id] || (t !== this.model.items.length - 1 && (i = t), this._addItem(e, i))
        }.bind(this)), this.views.items.forEach(function (e) {
          this.model.itemsById[e.model.id] || this._removeItem(e)
        }.bind(this)), this.$newItem.children(".zcm__item").length > 1 && e.$html.hasClass("is-vertical-tabs-exp") && $(".js-duckbar-dropdowns-separator").removeClass("is-hidden")
      },
      _addItem: function (t, i) {
        if (!t.isPendingModule) {
          var s;
          "static" === t.type ? s = this.$staticWrap : (s = this.$newItem, this.$sep.removeClass("is-hidden"));
          var a = new e.Views.AnswerBarMenuItem({
            appendTo: !1 === i && s,
            after: !!i && this.views.items[i].$el,
            model: t
          });
          i ? this.views.items.splice(i, 0, a) : this.views.items.push(a), this.views.itemsById[t.id] = a, s.addClass("has-zci")
        }
      },
      _removeItem: function (e) {
        for (var t in this.views.items)
          if (this.views.items[t].model.id === e.model.id) {
            this.views.items[t].destroy(), this.views.items.splice(t, 1), delete this.views.itemsById[e.model.id];
            break
          }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.GLMap = function (e) {
      this.locations = e.locations || [e.selectedLocation], this.selectedLocation = e.selectedLocation || 1 === this.locations.length && e.locations[0], this.pixelId = e.pixelId, this.isSatellite = !1, this.canShowMap = !1, t.call(this, e)
    }, e.Models.GLMap.prototype = $.extend({}, t.prototype, {
      getApproximateGeoBBox: function () {
        var e = this.selectedLocation || this.locations.length && this.locations[0];
        if (e) return this.getGeoBBox(e.lat, e.lon)
      },
      getGeoBBox: function (e, t, i, s) {
        return {
          top_left: e + (i = i || .25) / 2 + "," + (t - (s = s || .25) / 2),
          bottom_right: e - i / 2 + "," + (t + s / 2),
          lat: e,
          lon: t,
          latDelta: i,
          lonDelta: s
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Address.AddressDetail = function (e) {
      this.answer = e.answer, t.call(this, e), this.bindEvents([
        [this.$address, "click", this._onLinkClick],
        [this.$title, "click", this._onLinkClick],
        [this.$el, "click", this._onClick],
        [this.$directions, "click", this._onDirectionsClick]
      ])
    }, e.Views.Address.AddressDetail.prototype = $.extend({}, t.prototype, {
      template: "address_detail",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      _render: function (i) {
        t.prototype._render.call(this, $.extend({
          mapkitAppleDevice: e.device.isAppleDevice
        }, this.model)), this._cacheElems(".js-address-detail", ["title", "address", "directions"]);
        var s = e.duckbar.tabs.maps_expanded,
          a = s && s.expandedMap && s.expandedMap.model,
          o = a && a.directionsModel;
        this.answer.directionsModel = this.answer.directionsModel || o || new e.Models.Maps.Directions, this.answer.isMapExpanded && e.device.isEnglish && (this.views.exampleSearches = new e.Views.Maps.ExampleSearches({
          appendTo: this.$parent,
          model: this.model,
          answer: this.answer
        }))
      },
      _updateMapLinks: function () {
        var t = e.directionSource.getMapURL(this.model),
          i = e.get_favicon_url(e.directionSource.selected.faviconURL || t),
          s = e.directionSource.selected.name;
        this.$address.attr("href", t).attr("title", "Open in " + s), this.$(".js-maps-module-favicon img").attr("src", i)
      },
      updateDropdownPosition: function (e) {
        this.views.directions && this.views.directions.changeVerticalPos(e)
      },
      _openDirections: function () {
        this.answer.directionsModel.addLocation({
          type: "end",
          what: this.model.address
        }), this.answer.directionsModel.set("endDisplay", this.model.address), this.answer.directionsModel.userLocation && (this.answer.directionsModel.addLocation({
          type: "start",
          coordinate: {
            lat: this.answer.directionsModel.userLocation.lat,
            lon: this.answer.directionsModel.userLocation.lon
          }
        }), this.answer.directionsModel.set("startDisplay", lp("directions", "Your Location"))), this.answer.isMapExpanded ? (this.answer.set("isDirectionsActive", !0), this.answer.directionsModel.onDirectionsAction()) : e.router.navigate("toggle-map", {
          model: this.answer,
          directionsModel: this.answer.directionsModel,
          isMapExpanded: !0,
          isDirections: !0
        })
      },
      _onClick: function () {
        this.answer.engaged()
      },
      _onLinkClick: function (t) {
        this.answer.engaged(), t.preventDefault(), t.stopPropagation(), e.router.navigate("toggle-map", {
          model: this.answer,
          isMapExpanded: !0
        }), this.answer.fire("iacg")
      },
      _onDirectionsClick: function () {
        e.pixel.fire("dir_loc"), this._openDirections()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Mapkit.Map = function (i) {
      this.mapkit = i.mapkit || e.mapkit, this.geo = i.geo || e.geo, this.answer = i.answer, this._mapOffset = i.mapOffset || {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0
      }, this._isFrozen = i.isFrozen || !1, this._hideLoc = i.hideLoc || !1, this._hideMapTypeControl = i.hideMapTypeControl || !1, this._hideScale = i.hideScale || !1, this._hideCompass = i.hideCompass || !1, this._onMapReady = i.onMapReady, this.isDirections = i.isDirections, this.userLocation = i.userLocation, this._mapkitMapConstructorOptions = i.mapkitMapConstructorOptions, this._isCurrentThemeDark = e.settings.isDarkTheme(), this._markers = i.markers || [], t.call(this, i), this.bindEvents([
        [this.model, "change:canShowMap", this._onCanShowMapChange],
        [this.answer, "change:isMapExpanded", this._onIsMapExpandedChange],
        [this.answer, "change:selectedItem", this._onSelectedItemChange],
        [this.answer, "change:isRequerying", this._onRequeryingChange],
        [this.answer, "change:items", this._onItemsChange],
        [this.answer, "change:geo_bbox", this._onBoundingBoxChange],
        [this.answer, "change:mapType", this._onMapTypeChange],
        [e.settings, "change:" + e.settings.THEME_KEY, this._onThemeChange]
      ])
    }, e.Views.Mapkit.Map.prototype = $.extend({}, t.prototype, {
      template: "mapkit_map",
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      show: function () {
        this.$el.removeClass("is-hidden"), this.recenter()
      },
      recenter: function (e) {
        if (this.views.map)
          if (e) {
            var t = new w.mapkit.Coordinate(e.lat, e.lon);
            this.views.map.setCenterAnimated(t)
          } else this.views.map.setVisibleMapRectAnimated(this._originalMapRect)
      },
      updateMapOffset: function (e) {
        this.views.map && (this._mapOffset = e, this.views.map.padding = new w.mapkit.Padding(this._mapOffset))
      },
      updateMap: function (t) {
        if (t && this.updateMapOffset(t), this.views.map && this.views.markers && 0 !== this._markers.length) {
          var i, s = {};
          if (e.history.get("bbox")) {
            var a = e.history.get("bbox").split(",");
            s.top_left = a[0] + "," + a[1], s.bottom_right = a[2] + "," + a[3]
          }
          if (1 != e.history.get("strict_bbox")) {
            if (1 === this._markers.length) {
              var o = this._markers[0],
                n = o.bbox || o.location && o.location.bbox;
              n ? i = this.mapkit.regionFromBoundingBox(n) : o.lat && o.lon && (i = this.mapkit.regionFromLatLon(o.lat, o.lon)), i && this.views.map.setRegionAnimated(i, !1)
            } else if (this.views.map.annotations && this.views.map.annotations.length > 1) {
              var l, r = e.geo.boundingBox(this._markers),
                d = e.userLocator.hasLocation() && e.userLocator.userLocation,
                c = !(!this.answer || !this.answer.proximity),
                h = e.mapkit.isUserLocNearMarkers(d, r, this._markers, c);
              l = d && h ? this.views.map.annotations.slice() : this.views.map.annotations.slice(1), i = this.mapkit.regionFromBoundingBox(e.geo.enlargeBoundingBox(e.geo.boundingBox(l.map((function (e) {
                return {
                  lat: e.coordinate.latitude,
                  lon: e.coordinate.longitude
                }
              }))), .5)), this.views.map.setRegionAnimated(i, !1)
            }
          } else s = Object.keys(s).length ? s : this.answer.geo_bbox, i = this.mapkit.regionFromGeoBbox(s), this.views.map.setRegionAnimated(i, !1);
          this._originalMapRect = this.views.map.visibleMapRect
        }
      },
      getCenter: function () {
        var e = this.views.map.center;
        return {
          lat: e.latitude,
          lon: e.longitude
        }
      },
      updateRegion: function (e, t, i, s) {
        if (this.views.map && e && t) {
          var a = new w.mapkit.Coordinate(parseFloat(e), parseFloat(t)),
            o = new w.mapkit.CoordinateSpan(i || .016, s || .016),
            n = new w.mapkit.CoordinateRegion(a, o);
          this.views.map.setRegionAnimated(n, !1)
        }
      },
      addImageAnnotation: function (e, t, i) {
        var s = new w.mapkit.Coordinate(e, t),
          a = {
            url: {
              1: i
            }
          },
          o = new w.mapkit.ImageAnnotation(s, a);
        return this.views.map.addAnnotation(o)
      },
      clearMap: function () {
        this.views && this.views.map && (this.views.map.annotations && this.views.map.annotations.length > 0 && this.views.map.removeAnnotations(this.views.map.annotations), this.views.map.overlays && this.views.map.overlays.length > 0 && this.views.map.removeOverlays(this.views.map.overlays))
      },
      _isMarkerVisible: function (t) {
        if (!t.annotation) return !1;
        var i = t.annotation.coordinate,
          s = this.views.map.convertCoordinateToPointOnPage(i),
          a = s.x > this._mapOffset.left && s.x < e.device.width - this._mapOffset.right,
          o = s.y > this._mapOffset.top && s.y < e.device.height - this._mapOffset.bottom;
        return a && o
      },
      _onRequeryingChange: function () {
        this._isFrozen || this.answer.isRequerying && this.clearMap()
      },
      _shouldShowUserLoc: function () {
        if (this._hideLoc || this.answer && this.answer.isMapExpanded) return !0;
        var t = e.geo.boundingBox(this._markers),
          i = e.userLocator.hasLocation() && e.userLocator.userLocation,
          s = !(!this.answer || !this.answer.proximity);
        return e.mapkit.isUserLocNearMarkers(i, t, this._markers, s)
      },
      _onItemsChange: function () {
        this.views.map && !this._isFrozen && (this._markers = this.answer.itemsOnMap, this._shouldShowUserLoc() && this.renderUserLocation(), this._renderMarkers(), this._originalMapRect = this.views.map.visibleMapRect, this.answer.set("isSearchAreaBtnVisible", !1), this.answer.shouldMapViewportUpdate && (this.answer.shouldMapViewportUpdate = !1))
      },
      _onBoundingBoxChange: function () {
        this.answer.shouldMapViewportUpdate && this._isFrozen
      },
      _onSelectedItemChange: function () {
        if (!this._isFrozen && !this.answer.isRequerying && !this.answer.isSingle && this.views.markers) {
          var e = this.answer.selectedItem;
          e ? this._isMarkerVisible(e) || this.recenter({
            lat: e.lat,
            lon: e.lon
          }) : this.recenter()
        }
      },
      _updateMapType: function () {
        this.views.map && this.answer && !this._isFrozen && (this.answer.mapType && (this.views.map.mapType = this.answer.mapType), this.answer.set("isDarkMap", this._isCurrentThemeDark || "standard" !== this.views.map.mapType))
      },
      renderUserLocation: function () {
        this.views.userLocation && this.removeUserLocation(), e.userLocator.hasLocation() && (this.views.userLocation = new e.Views.Mapkit.UserLocation({
          model: e.userLocator,
          answer: this.answer,
          map: this.views.map
        }))
      },
      removeUserLocation: function () {
        if (this.views.userLocation) {
          var e = this.views.map.annotations[0];
          e && this.views.map.removeAnnotation(e), this.views.userLocation.destroy(), delete this.views.userLocation
        }
      },
      _renderMap: function () {
        var t = {
          padding: new w.mapkit.Padding(this._mapOffset),
          showsScale: w.mapkit.FeatureVisibility[this._hideScale ? "Hidden" : "Visible"],
          isScrollEnabled: !this._mapkitMapConstructorOptions || this._mapkitMapConstructorOptions.isScrollEnabled,
          isZoomEnabled: !this._mapkitMapConstructorOptions || this._mapkitMapConstructorOptions.isZoomEnabled,
          showsMapTypeControl: !this._hideMapTypeControl,
          showsCompass: w.mapkit.FeatureVisibility[this._hideCompass ? "Hidden" : "Adaptive"],
          colorScheme: e.settings.isDarkTheme() ? w.mapkit.Map.ColorSchemes.Dark : w.mapkit.Map.ColorSchemes.Light
        };
        if (this._markers.length > 1) {
          var i = e.geo.boundingBox(this._markers);
          t.region = this.mapkit.regionFromBoundingBox(e.geo.enlargeBoundingBox(i, .5))
        } else if (1 === this._markers.length) {
          var s = this._markers[0];
          s.bbox ? t.region = this.mapkit.regionFromBoundingBox(s.bbox) : t.region = this.mapkit.regionFromLatLon(s.lat, s.lon)
        } else this.model.selectedLocation ? t.region = this.mapkit.regionFromLatLon(this.model.selectedLocation.lat, this.model.selectedLocation.lon) : this.isDirections && this.userLocation && (t.region = this.mapkit.regionFromLatLon(this.userLocation.lat, this.userLocation.lon));
        this.views.map = new w.mapkit.Map(this.$el[0], t), this.views.map._impl._allowWheelToZoom = !0, this.views.map.distances = w.mapkit.Map.Distances["metric" === e.geo.getUOM() ? "Metric" : "Imperial"], this._updateMapType(), this._isFrozen && setTimeout(function () {
          this.$el && this.$el.addClass("mapkit-static--show-legal")
        }.bind(this), 1e3), e.settings.isDefault("kay") && this.answer && this.answer.isMapExpanded ? e.settings.set("kay", "b", {
          saveToCloud: !0
        }) : "i" === e.settings.get("kay") && this.views.map.addTileOverlay(new w.mapkit.TileOverlay((function () {}))), this._originalMapRect = this.views.map.visibleMapRect, this.views.map.addEventListener("complete", function (e) {
          this._onMapComplete()
        }.bind(this)), this.views.map.addEventListener("scroll-start", function (e) {
          this.emit("dragstart")
        }.bind(this)), this.views.map.addEventListener("select", function (e) {
          this.emit("select")
        }.bind(this)), this.views.map.addEventListener("zoom-start", function (e) {
          this._onZoomStart()
        }.bind(this)), this.views.map.addEventListener("region-change-end", function (e) {
          this._onMapMove()
        }.bind(this)), this.views.map.addEventListener("scroll-end", function (e) {
          this._onMapScrollZoom()
        }.bind(this)), this.views.map.addEventListener("zoom-end", function (e) {
          this._onMapScrollZoom()
        }.bind(this)), this.views.map.addEventListener("single-tap", function (e) {
          this._onSingleTap()
        }.bind(this))
      },
      _renderMarkers: function () {
        this.views.map && this._markers && 0 !== this._markers.length && (this.views.markers = this._markers.map(function (t) {
          var i = new e.Views.Mapkit.Marker({
            model: t,
            answer: this.answer,
            isFrozen: this._isFrozen
          });
          return this.views.map.addAnnotation(i.annotation), t.annotation = i.annotation, i
        }.bind(this)), this.updateMap())
      },
      _createMap: function () {
        this._renderMap(), this._shouldShowUserLoc() && this.renderUserLocation(), this.isDirections || this._renderMarkers()
      },
      _render: function (i) {
        t.prototype._render.call(this, i), this.$clickOverlay = this.$(".js-mapkit-map-click-overlay"), this.mapkit.isInitialized ? this._postInit() : this.mapkit.init(function (e, t) {
          t && this._postInit()
        }.bind(this)), this.bindEvents([
          [this.$clickOverlay, "click", this._onClickOverlayClick]
        ]), this._isFrozen && e.pixel.fire("map_si")
      },
      _postInit: function () {
        this._createMap(), $.isFunction(this._onMapReady) && !this._onMapReadyDone && (this._onMapReady(), this._onMapReadyDone = !0)
      },
      _onIsMapExpandedChange: function () {
        this.answer.isMapExpanded ? this.$clickOverlay.addClass("is-hidden") : this.$clickOverlay.removeClass("is-hidden")
      },
      _onCanShowMapChange: function (e) {
        this.$el.toggleClass("is-loading", !e)
      },
      _onMapComplete: function () {
        this._isMapLoaded || (this.emit("load"), this._isMapLoaded = !0, e.history.get("start") || e.history.get("end") || !this.answer || "directions" === this.answer.id || this.model.set("canShowMap", !0), this.$(".mk-map-view").on("click", this._onClick.bind(this)))
      },
      _onClickOverlayClick: function () {
        this.emit("click")
      },
      _onZoomStart: function () {
        e.pixel.fire("map_eze")
      },
      _onMapTypeChange: function () {
        this._updateMapType(), e.pixel.fire("map_ete")
      },
      _onMapMove: function () {
        this.emit("dragend")
      },
      _onMapScrollZoom: function () {
        this.emit("scrollzoom")
      },
      _onClick: function () {
        this.emit("click")
      },
      _onSingleTap: function () {
        this.emit("single-tap")
      },
      _onThemeChange: function () {
        this._isCurrentThemeDark !== e.settings.isDarkTheme() && (this.views.map.colorScheme = e.settings.isDarkTheme() ? w.mapkit.Map.ColorSchemes.Dark : w.mapkit.Map.ColorSchemes.Light, this._isCurrentThemeDark = !this._isCurrentThemeDark, this.answer && this.answer.set("isDarkMap", this._isCurrentThemeDark))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Mapkit.StaticMap = function (i) {
      this._ops = {}, this.answer = i.answer, t.call(this, i), this.bindEvents([
        [e.settings, "change:" + e.settings.THEME_KEY, this._onThemeChange],
        [e.duckbar.menu, "item-active", this._onTabChanged]
      ])
    }, e.Views.Mapkit.StaticMap.prototype = $.extend({}, t.prototype, {
      template: "mapkit_static_map",
      hide: function () {
        this.$el.hide()
      },
      show: function () {
        this.$el.show()
      },
      _render: function (i) {
        this._ops = i || this._ops, this._isCurrentThemeDark = e.settings.isDarkTheme(), this._ops.userLoc = this._getUserLocMarkerCoords(), this._ops.url = e.mapkit.getStaticImageURL(this._ops), t.prototype._render.call(this, this._ops), e.pixel.fire("map_si"), setTimeout(function () {
          this.$el && this.$el.addClass("mapkit-static--show-legal")
        }.bind(this), 1e3), this.bindEvents([
          [this.$el, "click", this._onClick]
        ])
      },
      _getUserLocMarkerCoords: function () {
        var t = null;
        if (this.answer) {
          var i = this.answer.obfusLoc && this.answer.obfusLoc.lat && this.answer.obfusLoc.lon ? this.answer.obfusLoc : null,
            s = e.userLocator.hasLocation() && e.userLocator.userLocation,
            a = !!this.answer.proximity;
          if (s && i) {
            var o = e.geo.boundingBox(this._ops.markers);
            e.mapkit.isUserLocNearMarkers(i, o, this._ops.markers, a) && (t = i)
          }
        }
        return t
      },
      _onThemeChange: function () {
        this._isCurrentThemeDark !== e.settings.isDarkTheme() && (this._isCurrentThemeDark = !this._isCurrentThemeDark, this._rerender())
      },
      _onClick: function () {
        this.emit("click"), e.pixel.fire("map_se")
      },
      _onTabChanged: function () {
        if (!this.$el || this.$el.is(":visible")) {
          var e = this.$el.outerWidth(),
            t = this.$el.outerHeight();
          this._ops.width === e && this._ops.height === t || (this._ops.width = e, this._ops.height = t, this._rerender())
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "circle",
      s = "numbered",
      a = "dot";
    e.Views.Mapkit.Marker = function (o) {
      this.mapkit = o.mapkit || e.mapkit, this.answer = o.answer, this.model = o.model, this.markerType = i, o.markerType ? this.markerType = o.markerType : this.answer && this.answer.items.length > 1 && (this.markerType = o.isFrozen && this.model.number > 3 ? a : s), o.markerType = this.markerType, o.number = this.markerType === s && this.model.number, t.call(this, o), this.bindEvents([
        [this.answer, "change:selectedItem", this._updateSelectedState],
        [this.model, "change:selected", this._updateSelectedState],
        [this.model, "change:highlighted", this._onHighlightedChange]
      ]), this.answer.selectedItem && this._updateSelectedState()
    }, e.Views.Mapkit.Marker.prototype = $.extend({}, t.prototype, {
      template: "mapkit_marker",
      _render: function (e) {
        t.prototype._render.call(this, e), this.annotation = this.mapkit.marker(this.model.lat, this.model.lon, function () {
          return this.$el[0]
        }.bind(this)), this.$mkEl = this.$el.parent(), this.$mkEl.addClass("mapkit-marker"), this.bindEvents([
          [this.$el, "mouseenter", this._onMouseEnter],
          [this.$el, "mouseleave", this._onMouseLeave],
          [this.$el, "click", this._onClick]
        ])
      },
      _updateSelectedState: function () {
        this.$el.toggleClass("mgl-marker--selected", !!this.model.selected), this.$mkEl.toggleClass("mapkit-marker--selected", !!this.model.selected), !this.answer.selectedItem || this.model.selected ? (this.$el.removeClass("mgl-marker--disabled"), this.$mkEl.removeClass("mapkit-marker--disabled")) : this.answer.selectedItem && !this.model.selected && (this.$el.addClass("mgl-marker--disabled"), this.$mkEl.addClass("mapkit-marker--disabled"))
      },
      _onHighlightedChange: function () {
        this.$el.toggleClass("mgl-marker--highlighted", !!this.model.highlighted), this.$mkEl.toggleClass("mapkit-marker--highlighted", !!this.model.highlighted)
      },
      _onMouseEnter: function () {
        this.model.highlight()
      },
      _onMouseLeave: function () {
        this.model.unhighlight()
      },
      _onClick: function () {
        this.model.select()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Mapkit.UserLocationControl = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "change:waitingForLocation", this._onWaitingForLocationChange],
        [this.$el, "click", this._onClick]
      ])
    }, e.Views.Mapkit.UserLocationControl.prototype = $.extend({}, t.prototype, {
      template: "mapkit_user_location_control",
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      _onWaitingForLocationChange: function () {
        this.$el.toggleClass("mapbox-control--waiting", this.model.waitingForLocation)
      },
      _onClick: function (e) {
        e.preventDefault(), e.stopPropagation(), this.model.updateLocation({
          force: !0,
          updateType: "map"
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Mapkit.UserLocationMarker = function (i) {
      this.mapkit = i.mapkit || e.mapkit, this.model = i.model, this.coords = {
        lat: this.model.userLocation.lat,
        lon: this.model.userLocation.lon
      }, i.markerType = "loc", t.call(this, i)
    }, e.Views.Mapkit.UserLocationMarker.prototype = $.extend({}, t.prototype, {
      template: "mapkit_marker",
      _render: function (e) {
        t.prototype._render.call(this, e), this.annotation = this.mapkit.marker(this.coords.lat, this.coords.lon, function () {
          return this.$el[0]
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Mapkit.UserLocation = function (e) {
      this.answer = e.answer, this.map = e.map, t.call(this, e), this.bindEvents([
        [this.model, "change:userLocation", this._onUserLocationChange]
      ])
    }, e.Views.Mapkit.UserLocation.prototype = $.extend({}, t.prototype, {
      template: "mapkit_user_location",
      _addToDOM: function () {
        this.views.marker = new e.Views.Mapkit.UserLocationMarker({
          model: this.model
        }), this.map.addAnnotation(this.views.marker.annotation), this._updateLocation()
      },
      _updateLocation: function () {
        var t = this.model.userLocation.lat,
          i = this.model.userLocation.lon;
        this.views.marker.annotation.coordinate = e.mapkit.coord(t, i)
      },
      _onUserLocationChange: function () {
        e.userLocator.hasLocation() && this._updateLocation()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "mapbox-position-picker__marker--moving";
    e.Views.Mapkit.PositionPicker = function (e) {
      this.model = e.model, this.model.canShowMap = !0, t.call(this, e)
    }, e.Views.Mapkit.PositionPicker.prototype = $.extend({}, t.prototype, {
      template: "mapkit_position_picker",
      show: function () {
        this.views.map && this.views.map.show()
      },
      hide: function () {
        this.views.map && this.views.map.hide()
      },
      _getPosition: function () {
        if (!this.views.map) return null;
        var t = this.views.map.getCenter();
        return new e.Models.UserLocation({
          lat: t.lat,
          lon: t.lon,
          type: e.Models.UserLocation.MANUAL_LOCATION
        })
      },
      _render: function (e) {
        t.prototype._render.call(this, e), this._cacheElems(".js-mapkit-position-picker", ["map", "marker"]), this._createMap()
      },
      _createMap: function () {
        this.views.map = new e.Views.Mapkit.Map({
          model: this.model,
          appendTo: this.$map,
          hideLoc: !0,
          hideMapTypeControl: !0,
          hideScale: !0,
          hideCompass: !0
        }), this.bindEvents([
          [this.views.map, "load", this._onMapLoaded],
          [this.views.map, "dragstart", this._onMapMoveStart],
          [this.views.map, "dragend", this._onMapMoveEnd]
        ])
      },
      _onMapLoaded: function () {
        this.$map.removeClass("is-loading")
      },
      _onMapMoveStart: function () {
        this.$marker.addClass(i)
      },
      _onMapMoveEnd: function () {
        this.$marker.removeClass(i), this.model.set("selectedLocation", this._getPosition())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Attribution = function (e) {
      this.answer = e.answer, this.direction = e.direction, t.call(this, e), this.$(".js-attribution-link").click(this._onLinkClick.bind(this))
    }, e.Views.Attribution.prototype = $.extend({}, t.prototype, {
      template: "attribution",
      _onLinkClick: function (t) {
        t.preventDefault(), t.stopPropagation(), this.views.modal || (this.views.modal = new e.Views.AttributionModal({
          answer: this.answer,
          direction: this.direction,
          appendTo: this.$el
        }));
        var i = this.views.modal;
        i.isShowing ? i.hide() : (e.pixel.fire("iaa", this.answer.pixelId), i.show()), this.answer.engaged()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modal;
    e.Views.AttributionModal = function (e) {
      t.call(this, e)
    }, e.Views.AttributionModal.prototype = $.extend({}, t.prototype, {
      template: "attribution_modal",
      _render: function (e) {
        var i = e.answer.meta,
          s = i.developer,
          a = !1;
        s.forEach((function (e) {
          e && e.name && "DDG Team" !== e.name && "DuckDuckGo" !== e.name && "duckduckgo" !== e.name && (e.show = a = !0)
        })), t.prototype._render.call(this, {
          direction: e.direction,
          devs: a && s,
          meta: i
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Feedback,
      i = e.Views.Base,
      s = "is-hidden",
      a = "feedback-btn--clicked";
    t.Button = function (e) {
      this.category = e.category, this.clickPixel = e.clickPixel, this.noFaces = e.noFaces || !1, this.extraData = e.extraData || {}, i.call(this, e)
    }, t.Button.prototype = $.extend({}, i.prototype, {
      template: "feedback_button",
      _render: function (e) {
        i.prototype._render.call(this, e), this._cacheElems(".js-feedback", ["start", "love", "nolove", "icon-wrap"]), this.bindEvents([
          [this.$start, "click", this._onStartClick],
          [this.$love, "click", this._onLoveClick],
          [this.$nolove, "click", this._onNoLoveClick]
        ])
      },
      _addModal: function (e) {
        this.views.modal || (this.views.modal = new t.Modal({
          category: this.category,
          extraInfo: $.param(this.extraData),
          appendTo: $("body")
        }), this.views.modal.on("hidden", this._hideFaces.bind(this))), this.views.modal.show(e)
      },
      _showFaces: function () {
        this.$iconwrap.removeClass(s), setTimeout(function () {
          this.$el.addClass(a)
        }.bind(this), 100)
      },
      _hideFaces: function () {
        this.$el.removeClass(a), setTimeout(function () {
          this.$iconwrap.addClass(s)
        }.bind(this), 200)
      },
      _onStartClick: function (t) {
        return t.preventDefault(), this.clickPixel && e.pixel.fire(this.clickPixel), this.noFaces ? this._addModal(!1) : (this._showFaces(), e.$doc.one("click", this._onDocumentClick.bind(this))), !1
      },
      _onDocumentClick: function (e) {
        this.$love.is(e.target) || this.$nolove.is(e.target) || this._hideFaces()
      },
      _onLoveClick: function (e) {
        e.preventDefault(), this._addModal({
          isPositive: !0
        })
      },
      _onNoLoveClick: function (e) {
        e.preventDefault(), this._addModal({
          isPositive: !1
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Feedback,
      i = e.Views.Base;
    t.ReportAdsButton = function (e) {
      this.category = e.category, this.extraData = e.extraData || {}, this.whichAd = e.whichAd, i.call(this, e)
    }, t.ReportAdsButton.prototype = $.extend({}, i.prototype, {
      template: "report_ads_button",
      _render: function (e) {
        i.prototype._render.call(this, e), this._cacheElems(".js-report-ad", ["start"]), this.bindEvents([
          [this.$start, "click", this._onAdReportClick]
        ])
      },
      _showModal: function (e) {
        this.views.modal || (this.views.modal = new t.Modal({
          category: "ads",
          adInfo: JSON.stringify(e),
          appendTo: $("body")
        })), this.views.modal.show(!1), this.views.modal.on("submitted", this._hideReportAdButton.bind(this))
      },
      _hideReportAdButton: function () {
        this.$start.addClass("is-hidden")
      },
      _onAdReportClick: function (t) {
        t.preventDefault();
        var i = this._getAdData();
        this._showModal(i), i.adt = encodeURIComponent(i.adt), i.adsnippet = encodeURIComponent(i.adsnippet), e.pixel.fire("readsb", i)
      },
      _getAdData: function () {
        var t = e.page.ads.getAds();
        return t = t[this.whichAd], {
          whichad: this.whichAd,
          adrlink: this._getRlink(t.c),
          adt: e.Utils.Strings.htmlDecode(t.t),
          adsrc: t.d,
          adgood: t.relevancy ? t.relevancy.is_good_v8 : 0,
          adsnippet: e.Utils.Strings.htmlDecode(t.a)
        }
      },
      _getRlink: function (t) {
        return e.Utils.Strings.getUrlParameter(t, "u3")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Feedback,
      i = e.Views.Modal,
      s = "other",
      a = "is-hidden",
      o = "is-invisible",
      n = "is-disabled",
      r = ["ads", "autoads"];
    t.Modal = function (t) {
      this.sourceName = t.sourceName || "", this.defaultCategory = t.category || "", this.category = t.category || "", this.categoryValue = t.categoryValue || "", this.issue = "", this.extraInfo = t.extraInfo, this.adInfo = t.adInfo, this.genericLabel = t.genericLabel, t.model = t.model || new e.Models.Feedback, e.settings.region.isProductAdsMarket() ? r.push("products") : e.Data.FeedbackIssues.products = [{
        text: "I don't want results from Amazon",
        val: "amazon"
      }], this.hasIssues = this._checkHasIssues(), this.requiresSuggestion = -1 !== r.indexOf(this.category), i.call(this, t), this.bindEvents([
        [this.model, "change:success", this._onFeedbackSuccess],
        [this.model, "change:error", this._onFeedbackError]
      ])
    }, t.Modal.prototype = $.extend({}, i.prototype, {
      template: "feedback_modal",
      show: function (t) {
        if (t = t || {}, e.isDev && "object" != typeof t) throw new Error("An object must be passed to modal.show");
        this.$suggestionlabel.html(t.isPositive ? lp("feedback form", "What did you like?") : lp("feedback form", "What could be better?")), this._isPositive = t.isPositive, this._isGeneric = t.isGeneric, this.$form.removeClass(a), this.$success.addClass(a), this._showHideSuggestions(), this._toggleSubmitButton(), !this._isPositive && this.category && this.hasIssues && (this.$issues.removeClass(o), this.$dropdown.val(this.category), this._setCategoryIssues(this.categoryValue)), i.prototype.show.call(this)
      },
      _render: function (t) {
        var a = [{
            text: lp("feedback form", "Pick a category"),
            val: ""
          }],
          o = [{
            text: l("Results"),
            val: "organics"
          }, {
            text: lp("feedback form", "Wikipedia info"),
            val: "wikipedia"
          }, {
            text: lp("feedback form", "Advertisements"),
            val: "ads"
          }, {
            text: l("Images"),
            val: "images"
          }, {
            text: l("Videos"),
            val: "videos"
          }, {
            text: l("News"),
            val: "news"
          }, {
            text: lp("feedback form", "Maps / location info"),
            val: "maps"
          }, {
            text: l("Products"),
            val: "products"
          }, {
            text: lp("feedback form", "Search box"),
            val: "search box"
          }, {
            text: lp("feedback form", "Security issue (opens in new tab)"),
            val: "security"
          }, {
            text: lp("feedback form", "Settings"),
            val: "settings"
          }, {
            text: lp("feedback form", "Date filters"),
            val: "filters"
          }, {
            text: lp("feedback form", "Other"),
            val: s
          }];
        if ("b" === e.searchExperiments.getExperimentGroup("atadexp") && o.splice(3, 0, {
            text: "Car Advertisements",
            val: "autoads"
          }), t.categoryName) {
          this.categoryName = t.categoryName;
          for (var n = 0; n < o.length; n++)
            if (o[n].val === t.category) {
              o[n].text = this.categoryName;
              break
            }
        }
        i.prototype._render.call(this, $.extend({}, t, {
          defaultCategory: this.categoryName || this.defaultCategory,
          options: a.concat(o),
          query: e.get_query(),
          inputMax: 50,
          textareaMax: 500,
          subtitleText: t.subtitleText || lp("feedback form", "What do you think of the information shown?")
        })), this._cacheElems(".js-feedback", ["form", "success", "dropdown", "issues", "suggestion", "suggestion-label", "submit"]), this.category && this.$dropdown.val(this.category), this.bindEvents([
          [this.$dropdown, "change", this._onCategoryChange],
          [this.model, "issue-selected", this._onIssueChange],
          [this.$submit, "click", this._onSubmitClick],
          [this.$suggestion, "input", this._toggleSubmitButton]
        ])
      },
      hide: function () {
        this._reset(), i.prototype.hide.call(this)
      },
      _showSuccessMessage: function () {
        this.$success.removeClass(a), this.$form.addClass(a)
      },
      _onSubmitClick: function (t) {
        if (t.preventDefault(), !this.$submit.hasClass(n)) {
          this.$submit.addClass(n);
          var i = e.duckbar.getActiveTab(),
            s = i ? i.pixelId : "",
            a = e.duckbar.sideModules || {},
            o = Object.keys(a).map((function (e) {
              return e.toLowerCase() + "_module"
            })).concat([s]).join(", "),
            l = this.$suggestion.val();
          l.length > 0 && this.extraInfo && (l += " | " + this.extraInfo);
          var r = {
            ia: o,
            comment: l,
            rating: this._isPositive ? 1 : -1,
            looking_for: this.categoryValue || this.category,
            category_issue: this.issue,
            search_exp: e.searchExperiments.getPixelParameters()
          };
          "ads" === r.looking_for && (r.ads_issue = r.category_issue, delete r.category_issue, delete r.ad_issue), "great" === r.category_issue && (r.rating = 1);
          var d = e.page.ads.getAds(),
            c = -1 === r.rating && "ads" === r.looking_for && d;
          if (this.adInfo && "ads" === r.looking_for) r = $.extend(r, JSON.parse(this.adInfo));
          else if (!this.adInfo && c) {
            r.whichad = "all", r.adt = "", r.adsrc = "", r.adsnippet = "", r.adgood = "";
            for (var h = 0; h < d.length; h++) {
              var p, u = d[h];
              p = p = h < d.length - 1 ? ", " : "", r.adt += e.Utils.Strings.htmlDecode(u.t) + p, r.adsrc += u.d + p, r.adsnippet += e.Utils.Strings.htmlDecode(u.a) + p
            }
          }
          this.model.send(r)
        }
      },
      _reset: function () {
        this.$submit.addClass(n), this.category = this.defaultCategory, this.hasIssues = this._checkHasIssues(), this.issue = "", this.$dropdown.val(this.defaultCategory), this.$issues.addClass(o), this.isOtherCategory = !1, this.isOtherIssue = !1, this.$suggestion.val(""), this.requiresSuggestion = -1 !== r.indexOf(this.category)
      },
      _toggleSubmitButton: function () {
        var e = this._shouldEnableSubmit();
        this.$submit.toggleClass(n, !e)
      },
      _setCategoryIssues: function (e) {
        var i = this._getIssues(e);
        this.$issues.empty(), this._isGeneric && "ads" !== this.category && i.unshift({
          text: "map_no_results" === this.category ? "This is what I expected" : this.genericLabel || "These results are helpful",
          val: "great"
        }), i.push({
          text: lp("feedback form", "Other"),
          val: s
        }), this.views.issues = new t.IssueList({
          model: this.model,
          appendTo: this.$issues,
          issues: i
        })
      },
      _onCategoryChange: function (t) {
        this.defaultCategory && e.pixel.fire("fbc");
        var i = $(t.target).val(),
          a = e.duckbar.getActiveTab();
        if ("security" === i) return nug(DDG.get_http_redirect({
          href: "https://hackerone.com/duckduckgo"
        }));
        e.device.isMobileDevice && e.getProperty(a, "model.hasFeedbackButton") && e.Data.FeedbackIssues[i + "vertical"] && (i += "vertical"), this.$suggestion.val(""), this.issue = "", this.isOtherIssue = !1, this.category = i, this.isOtherCategory = i === s, this.hasIssues = this._checkHasIssues(), this.requiresSuggestion = -1 !== r.indexOf(this.category), this.$issues.toggleClass(o, !this.hasIssues || this._isPositive), this.hasIssues && this._setCategoryIssues(this.category), this._showHideSuggestions(), this._toggleSubmitButton()
      },
      _onIssueChange: function () {
        var e = this.$issues.find(".js-feedback-radio:checked").val();
        this.issue = e, this.isOtherIssue = e === s, this.$suggestion.val(""), this._showHideSuggestions(), this._toggleSubmitButton()
      },
      _showHideSuggestions: function () {
        var e = !0;
        (this._isPositive && this.category || this.requiresSuggestion || this.category && !this.hasIssues || this.category && this.hasIssues && this.isOtherIssue) && (e = !1), this.$suggestion.attr("placeholder", lp("feedback form", "Please provide feedback")), this.$suggestion.toggleClass(a, e)
      },
      _shouldEnableSubmit: function () {
        var e = this.$suggestion.val().trim().length > 0,
          t = this.category.length,
          i = t && "ads" === this.category,
          s = this.issue.length;
        if (!t) return !1;
        if (this._isPositive && !this.isOtherCategory) return !0;
        if (i) {
          if (!e) return !1;
          if (s || this._isPositive) return !0
        } else {
          if (this.requiresSuggestion && !e) return !1;
          if (this.isOtherCategory && e) return !0;
          if (!this.hasIssues) return !0;
          if (this.hasIssues && s) return !0
        }
        return !1
      },
      _checkHasIssues: function () {
        return "ads" === this.category || !!e.device.isEnglish && DDG.Data.FeedbackIssues.hasOwnProperty(this.category)
      },
      _getIssues: function (e) {
        return e = e || this.category, DDG.Data.FeedbackIssues[e].slice()
      },
      _getLookingFor: function () {
        return this.category === this.defaultCategory && this.categoryValue ? this.categoryValue : this.category
      },
      _onFeedbackSuccess: function () {
        this.model.success && (this._reset(), this._showSuccessMessage())
      },
      _onFeedbackError: function () {
        this.model.error && (this.hide(), this._reset())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Feedback,
      i = e.Views.Base;
    t.FeedbackPrompt = function (t) {
      e.device.isMobile && !t.showOnMobile || (this.category = t.category, this.extraData = t.extraData || {}, t.showYesNo = !1 !== t.showYesNo, this.categoryName = t.categoryName, this.categoryValue = t.categoryValue, this.sourceName = t.sourceName, this.asButton = t.asButton, this.hasNoResults = t.hasNoResults, this.promptText = t.promptText, this.subtitleText = t.subtitleText, this.genericLabel = t.genericLabel || null, i.call(this, t), this.bindEvents([
        [".js-feedback-prompt-yes", "click", this._onYesClicked],
        [".js-feedback-prompt-no", "click", this._onNoClicked],
        [".js-feedback-prompt-generic", "click", this._onGenericClicked]
      ]))
    }, t.FeedbackPrompt.prototype = $.extend({}, i.prototype, {
      template: "feedback_prompt",
      _showModal: function (e) {
        this.views.modal || (this.views.modal = new t.Modal({
          subtitleText: this.subtitleText,
          sourceName: this.sourceName,
          category: this.category,
          categoryName: this.categoryName,
          categoryValue: this.categoryValue,
          extraInfo: $.param(this.extraData),
          genericLabel: this.genericLabel,
          appendTo: $("body")
        })), this.views.modal.show(e)
      },
      _onYesClicked: function (t) {
        t.preventDefault(), e.pixel.fire("fbp", this.category, "yes", this.extraData), this._showModal({
          isPositive: !0
        })
      },
      _onNoClicked: function (t) {
        t.preventDefault(), e.pixel.fire("fbp", this.category, "no", this.extraData), this._showModal({
          isPositive: !1
        })
      },
      _onGenericClicked: function (e) {
        e.preventDefault(), this._showModal({
          isPositive: !1,
          isGeneric: !0
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modal,
      i = "is-hidden",
      s = "is-disabled",
      a = "other";
    e.Views.ReportImageModal = function (i) {
      i.appendTo = i.appendTo || ".js-site-wrapper", i.model = i.model || new e.Models.Feedback, t.call(this, i), this.model.thumbnail = i.thumbnail, this.model.image = i.image, this.bindEvents([
        [this.model, "change:success", this._onFeedbackSuccess],
        [this.model, "change:error", this._onFeedbackError]
      ])
    }, e.Views.ReportImageModal.prototype = $.extend({}, t.prototype, {
      template: "report_image_modal",
      hide: function () {
        this._reset(), t.prototype.hide.call(this)
      },
      show: function () {
        this.$form.removeClass(i), this.$success.addClass(i), t.prototype.show.call(this)
      },
      _onDropdownChange: function (e) {
        this.$dropdown.val() === a && this.$comment.focus(), this._toggleSubmitButton()
      },
      _onFeedbackError: function () {
        this.model.error && this.hide()
      },
      _onFeedbackSuccess: function () {
        this.model.success && (this._reset(), this._showSuccessMessage())
      },
      _onSubmitClick: function (t) {
        if (t.preventDefault(), !this.$submit.hasClass(s)) {
          this.$submit.addClass(s);
          var i = e.duckbar.getActiveTab(),
            a = i ? i.pixelId : "",
            o = {
              comment: this.$comment.val(),
              reason: this.$dropdown.val(),
              tab: a,
              type: "images"
            };
          this.model.send(o)
        }
      },
      _render: function (e) {
        var i = [{
          text: lp("feedback form", "Pick a specific problem"),
          val: ""
        }, {
          text: lp("Report image modal", "Not relevant"),
          val: "not_relevant"
        }, {
          text: lp("Report image modal", "Copyright violation"),
          val: "copyright_violation"
        }, {
          text: lp("Report image modal", "Explicit content"),
          val: "explicit"
        }, {
          text: lp("Report image modal", "Child sexual abuse"),
          val: "child_abuse"
        }, {
          text: lp("feedback form", "Other"),
          val: a
        }];
        t.prototype._render.call(this, $.extend({}, e, {
          thumbnail: this.model.thumbnail,
          options: i
        })), this._cacheElems(".js-feedback", ["comment", "dropdown", "form", "submit", "success"]), this.bindEvents([
          [this.$dropdown, "change", this._onDropdownChange],
          [this.$submit, "click", this._onSubmitClick],
          [this.$comment, "input", this._toggleSubmitButton]
        ])
      },
      _reset: function () {
        this.$submit.addClass(s), this.$dropdown.val(""), this.$comment.val("")
      },
      _showSuccessMessage: function () {
        this.$success.removeClass(i), this.$form.addClass(i)
      },
      _toggleSubmitButton: function () {
        var e = this.$comment.val().trim(),
          t = this.$dropdown.val(),
          i = t === a ? e.length : t.length;
        this.$submit.toggleClass(s, !i)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Feedback,
      i = e.Views.Base;
    t.IssueList = function (e) {
      this.issues = e.issues, i.call(this, e)
    }, t.IssueList.prototype = $.extend({}, i.prototype, {
      template: "feedback_issue_list",
      _render: function (e) {
        i.prototype._render.call(this, $.extend({}, e)), this._cacheElems(".js-feedback", ["radio"]), this.bindEvents([
          [this.$radio, "change", this._onRadioChange]
        ])
      },
      _onRadioChange: function () {
        this.model.emit("issue-selected")
      }
    })
  }(DDG),
  function (e) {
    e.Views.FilterableDropdownMixin = function (e) {
      this.view = e
    }, e.Views.FilterableDropdownMixin.prototype = $.extend({}, {
      setup: function (e) {
        this.$divider = e.$divider || null, this.$input = e.$input || this.view.$el.find('input[type="search"]'), this.$items = e.$items || this.view.$el.find(".js-dropdown-items"), this._bindEvents()
      },
      _bindEvents: function () {
        this.view.bindEvents([
          [this.$input, "click focus", this._onInputFocus.bind(this)],
          [this.$input, "keydown keypress input keyup paste", this._onInputChange.bind(this)]
        ])
      },
      reset: function () {
        this.$input.val(""), this.$items.show(), this.$divider && this.$divider.show()
      },
      focus: function () {
        setTimeout(function () {
          this.$input.focus()
        }.bind(this), 1)
      },
      _onInputChange: function () {
        var e = this.$input.val(),
          t = !1,
          i = !1;
        this.$items.each((function (s, a) {
          var o = a.textContent.toLowerCase().indexOf(e.toLowerCase()) > -1;
          a.style.display = o ? "block" : "none", o && a.classList.contains("is-before-divider") ? t = !0 : o && (i = !0)
        })), this.$divider && this.$divider.toggle(t && i)
      },
      _onInputFocus: function () {
        return !1
      }
    })
  }(DDG),
  function (e) {
    var t = "is-active";
    e.Views.KeyboardNavigableMixin = function (e, t) {
      this.activeIndex = -1, this.view = e, this._onSelect = t
    }, e.Views.KeyboardNavigableMixin.prototype = $.extend({}, {
      setup: function (e) {
        this.$items = e.$items || this.view.$el.find(".js-dropdown-items"), this._bindEvents()
      },
      reset: function () {
        this.activeIndex = -1, this._updateActive()
      },
      _isShown: function () {
        return this.view.$el.hasClass("is-showing")
      },
      _bindEvents: function () {
        this.view.bindEvents([
          [e.keyboard, "up.modal", this._onUp.bind(this)],
          [e.keyboard, "down.modal", this._onDown.bind(this)],
          [e.keyboard, "enter.modal", this._onEnter.bind(this)],
          [e.keyboard, "escape.modal", this._onEscape.bind(this)]
        ])
      },
      _getItems: function () {
        return this.$items.filter(":visible")
      },
      _getSelected: function () {
        return this._getItems().eq(this.activeIndex)
      },
      _updateActive: function (e) {
        var i = this._getSelected(),
          s = i.offsetParent();
        if (this.$items.removeClass(t), this.activeIndex > -1 && i.addClass(t), i.length) {
          var a = s.scrollTop(),
            o = a + s.height(),
            n = a + i.position().top,
            l = a + n + i.outerHeight();
          0 === this.activeIndex ? s.scrollTop(0) : 40 === e && l > o ? s.scrollTop(n - s.height() + i.outerHeight()) : 38 === e && n < a && s.scrollTop(n)
        }
      },
      _onUp: function (e) {
        this._isShown() && (e.stopPropagation(), this.activeIndex--, this.activeIndex = Math.max(this.activeIndex, -1), this._updateActive(e.which))
      },
      _onDown: function (e) {
        this._isShown() && (e.stopPropagation(), this.activeIndex++, this.activeIndex = Math.min(this._getItems().length - 1, this.activeIndex), this._updateActive(e.which))
      },
      _onEnter: function (e) {
        if (this._isShown()) {
          if (e.stopPropagation(), this.activeIndex > -1) this._onSelect(this._getSelected().data("value"));
          else {
            var t = this._getItems();
            t && 1 === t.length && this._onSelect(this._getSelected().data("value"))
          }
          this.reset()
        }
      },
      _onEscape: function () {
        this.reset()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns.SelectListDropdown,
      i = e.Views.Dropdowns;
    i.DirectionDropdown = function (i) {
      this.model = i.model = e.directionSource, i.key = "directions", i.header = lp("maps_places", "Choose service"), i.horizontalPos = "center", i.verticalPos = i.verticalPos || "bottom", i.showSelected = "Places" !== i.answer.answerType && "Place" !== i.answer.answerItemModel, this._loc = i.loc, this._answer = i.answer, t.call(this, i), this._loadSourceFromSettings()
    }, i.DirectionDropdown.prototype = $.extend({}, t.prototype, {
      changeVerticalPos: function (e) {
        this.views.modal && (this.views.modal.$el.removeClass("modal--popout--" + this._verticalPos), this.views.modal.$el.addClass("modal--popout--" + e)), this._verticalPos = this.modalOps.position = e, this._repositionModal()
      },
      open: function () {
        t.prototype.open.call(this), this._answer && this._answer.engaged()
      },
      _loadSourceFromSettings: function () {
        var t = e.settings.get("kam");
        t && this.model.select(t)
      },
      _getURL: function () {
        return this.model.getDirectionsURL(this._loc)
      },
      _onItemClick: function (i) {
        t.prototype._onItemClick.call(this, i), e.settings.set("kam", i, {
          saveToCloud: !0
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Base;
    t.FilterContainer = function (t) {
      this._answer = t.answer, this._answer ? (this._safeSearch = this._answer.safeSearch, this._region = this._answer.region, this._date = this._answer.date) : this._safeSearch = this._region = this._date = !0, i.call(this, t), t.allTab && (e.history.get("iax") || e.history.get("iar")) ? e.deep.on("change:finished", this._initFilters.bind(this)) : this._initFilters()
    }, t.FilterContainer.prototype = $.extend({}, i.prototype, {
      _initFilters: function () {
        this.views.filters = [], this._region && this.views.filters.push(new t.RegionFilter({
          appendTo: this.$el
        })), this._safeSearch && !e.page.isSafeDDG && this.views.filters.push(new t.SafeSearchFilter({
          appendTo: this.$el
        })), this._date && this.views.filters.push(new t.DateFilter({
          appendTo: this.$el
        })), this._answer && this._answer.parameters && this._answer.parameters.forEach(function (t) {
          var i = this._answer.canShowSidebarFilters ? "SidebarFilter" : "FilterDropdown",
            s = new e.Views.AnswerBar.Meta[i]({
              model: t,
              answer: this._answer,
              appendTo: this.$el
            });
          this.views.filters.push(s)
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = t.Base;
    t.DateFilter = function (t) {
      i.call(this, t), e.search.on("change:dateFilterId", this._rerender.bind(this))
    }, t.DateFilter.prototype = $.extend({}, i.prototype, {
      modalClass: "DateFilterModal",
      _render: function (t) {
        (t = t || {}).isActive = e.search.dateFilterId, t.key = "date", t.buttonContent = e.search.getDateFilterName(), i.prototype._render.call(this, t)
      },
      open: function () {
        e.pixel.fire("dfc", "f", {
          iao: "web" !== e.duckbar.activeTabId ? 1 : 0
        }), i.prototype.open.call(this)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Modal;
    t.DateFilterModal = function (e) {
      i.call(this, e)
    }, t.DateFilterModal.prototype = $.extend({}, i.prototype, {
      template: "dropdown_modal",
      _render: function (t) {
        i.prototype._render.call(this, {
          isPopover: t.isPopover,
          header: t.isPopover && l("Filter by Date"),
          footerLink: !e.search.isVertical && {
            className: "js-custom-date-range",
            label: l("Custom date range"),
            selected: e.search.isCustomDateFilter()
          },
          values: e.search.getDateFilters(),
          key: "date"
        }), this.$(".js-dropdown-items").click(this._onFilterClick.bind(this)), this.$(".js-custom-date-range").click(this._onCustomDateRangeClick.bind(this))
      },
      _onFilterClick: function (t) {
        t.preventDefault();
        var i = $(t.currentTarget).attr("data-value"),
          s = e.search,
          a = e.Data.HiddenFields.DATE_FILTER;
        i && "" !== i ? e.hidden.set(a, i) : e.hidden.clear(a), this._fireClickedPixel(i), s.set("dateFilterId", i), s.requery()
      },
      _onCustomDateRangeClick: function (t) {
        this.dateRangeModal = this.dateRangeModal || new e.Views.CustomDateRange({
          appendTo: $("body"),
          model: new e.Models.CustomDateRange({})
        }), this.dateRangeModal && this.dateRangeModal.show(), this._fireClickedPixel("c")
      },
      _fireClickedPixel: function (t) {
        var i = !e.search.dateFilterId && t;
        e.pixel.fire("dfc", "ci", {
          fd: i ? 1 : 0
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = t.Base;
    t.RegionFilter = function (t) {
      i.call(this, t);
      var s = e.settings.region;
      this.bindEvents([
        [s, "change:id", this._rerender],
        [s, "change:suggestedRegion", this._rerender]
      ]), s.disabledSuggested() || s.fetchSuggested()
    }, t.RegionFilter.prototype = $.extend({}, i.prototype, {
      template: "region_filter",
      modalClass: "RegionFilterModal",
      _render: function () {
        var t, s = e.settings.region,
          a = s.hasRegion();
        t = a ? s.getId() : s.hasPrevRegion() ? s.prevId : s.suggestedRegion, i.prototype._render.call(this, {
          hasActiveRegion: a,
          hasRegion: t,
          iconURL: t && s.getSmallIconURL(t),
          regionName: s.getName(t),
          isAllRegion: !t || t === s.getDefaultId()
        }), this._cacheElems(".js-region-filter", ["switch"]), this.$switch.on("click", this._onSwitchClick.bind(this))
      },
      open: function () {
        e.pixel.fire("rgc", "f", {
          iao: "web" !== e.duckbar.activeTabId ? 1 : 0
        }), i.prototype.open.call(this)
      },
      _onSwitchClick: function (t) {
        t.preventDefault(), t.stopPropagation();
        var i, s, a = e.settings.region,
          o = (new Date).getTime();
        a.hasRegion() ? (this.$switch.removeClass("is-on"), i = a.getDefaultId(), s = "off") : (this.$switch.addClass("is-on"), i = a.getPrevId() || a.suggestedRegion, s = "on");
        var n = !a.getPrevId() && a.getId() === a.getDefaultId();
        e.pixel.fire("rgc", "s", s, {
          fr: n ? 1 : 0
        }), a.setId(i, {
          saveToSettings: !0,
          fallbackToURLParam: !0
        }, (function () {
          var t = (new Date).getTime() - o;
          setTimeout((function () {
            e.search.requery()
          }), Math.min(DDG.animation_speed - t, 0))
        }))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Modal,
      s = "is-highlighted";
    t.RegionFilterModal = function (t) {
      t.model = e.settings.region, i.call(this, t), this.bindEvents([
        [e.keyboard, "up.modal", this._onUpArrow],
        [e.keyboard, "down.modal", this._onDownArrow],
        [e.keyboard, "enter.modal", this._onEnter]
      ])
    }, t.RegionFilterModal.prototype = $.extend({}, i.prototype, {
      template: "region_filter_modal",
      cursorIndex: -1,
      hide: function () {
        i.prototype.hide.call(this), this._unfocusKeyboard()
      },
      show: function () {
        i.prototype.show.call(this), e.device.isMobileDevice || this.$input.focus()
      },
      pointAt: function (e) {
        i.prototype.pointAt.call(this, e), this._top = parseInt(this.$list.offset().top, 10)
      },
      _render: function (e) {
        this._allRegions = this.model.getAll(), i.prototype._render.call(this, $.extend({
          hasRegionOrSuggested: this.model.hasRegionOrSuggested()
        }, e)), this._cacheElems(".js-region-filter", ["list", "input", "clear"]), this._renderRegions(), this.$input.keyup(this._onInputKeyUp.bind(this)), this.$input.click(this._onInputClick.bind(this)), this.$clear.click(this._onClearClick.bind(this))
      },
      _renderRegions: function () {
        var t = this._filteredRegions || this._allRegions;
        this._highlightIdx = -1, t && t.length ? (this.$list.html(e.exec_template("region_filter_modal_items", {
          regions: t,
          showListHeader: e.device.isMobile && this.model.hasRegionOrSuggested() && !this._filteredRegions
        })), this.$links = this.$(".js-region-filter-link"), this.$list.find(".js-region-filter-clear").on("click", this._onClearClick.bind(this)), this.$links.on("mouseenter touchstart", this._onItemMouseEnter.bind(this)).on("mouseleave", this._onItemMouseLeave.bind(this)).click(this._onRegionClick.bind(this))) : this.$list.empty()
      },
      _clearFilter: function () {
        this._filteredRegions && (delete this._filteredRegions, this._renderRegions()), this.$input.val("")
      },
      _updateHighlightedItem: function () {
        if (this.$(".is-highlighted").removeClass(s), -1 === this._highlightIdx) this.$input.focus();
        else {
          var e = this.$links[this._highlightIdx];
          if (e) {
            var t = $(e),
              i = t.outerHeight(),
              a = parseInt(t.offset().top, 10),
              o = a + i;
            t.addClass(s), o >= this._top + 300 ? this.$list.scrollTop(this.$list.scrollTop() + i) : a < this._top && this.$list.scrollTop(this.$list.scrollTop() - i)
          }
        }
      },
      _focusKeyboard: function () {
        this._keyboardFocus || (this._keyboardFocus = !0, e.$doc.on("mousemove.region", this._onMouseMove.bind(this)))
      },
      _unfocusKeyboard: function () {
        this._keyboardFocus && (this._keyboardFocus = !1, e.$doc.off("mousemove.region"))
      },
      _sendRegionSelectedPixel: function (t, i) {
        var s, a = this.model,
          o = a.getDefaultId(),
          n = o === t,
          l = a.getPrevRegions().indexOf(t) > -1,
          r = n ? "d" : l ? "p" : "n";
        s = !a.getPrevId() && a.getId() === o, e.pixel.fire("rgc", i, r, {
          fr: s ? 1 : 0
        })
      },
      _onInputKeyUp: function (t) {
        if (e.keyboard.keyCodeIsOneOf(t.keyCode, ["up", "down", "enter", "escape"])) return !1;
        var i = this.$input.val().toLowerCase();
        i ? this._filteredRegions = this._allRegions.filter((function (e) {
          return e.name.toLowerCase().indexOf(i.toLowerCase()) > -1
        })) : delete this._filteredRegions, e.pixel.fire("rgc", "ku"), this._renderRegions()
      },
      _onItemMouseEnter: function (e) {
        if (!this._keyboardFocus) {
          var t = $(e.target),
            i = parseInt(t.data("index"), 10);
          $.isNumeric(i) && this.highlightIdx !== i && (this._highlightIdx = i, this._updateHighlightedItem())
        }
      },
      _onItemMouseLeave: function (e) {
        if (!this._keyboardFocus) {
          var t = $(e.target),
            i = parseInt(t.data("index"), 10);
          $.isNumeric(i) && this.highlightIdx === i && (this._highlightIdx = -1, this._updateHighlightedItem())
        }
      },
      _onMouseMove: function () {
        this._unfocusKeyboard()
      },
      _onUpArrow: function () {
        this._highlightIdx--, this._focusKeyboard(), this._highlightIdx = Math.max(this._highlightIdx, -1), this._updateHighlightedItem()
      },
      _onDownArrow: function () {
        this._highlightIdx++, this._focusKeyboard(), this._highlightIdx = Math.min(this._highlightIdx, this.$links.length - 1), this._updateHighlightedItem()
      },
      _onEnter: function () {
        var t;
        if (this._highlightIdx > -1 ? t = this._highlightIdx : this._filteredRegions && 1 === this._filteredRegions.length && (t = 0), $.isNumeric(t)) {
          var i = this.$links[t],
            s = $(i).data("id");
          this._sendRegionSelectedPixel(s, "ei"), this.model.setId(s, {
            saveToSettings: !0,
            fallbackToURLParam: !0
          }, (function () {
            e.search.requery()
          }))
        }
      },
      _onInputClick: function (e) {
        e.stopPropagation()
      },
      _onClearClick: function (t) {
        t.preventDefault(), e.pixel.fire("rgc", "cl"), this.model.reset(function () {
          this.model.disableSuggested((function () {
            e.search.requery()
          }))
        }.bind(this))
      },
      _onRegionClick: function (t) {
        var i = $(t.target),
          s = i.data("id") || i.parent().data("id");
        this._sendRegionSelectedPixel(s, "ci"), this.model.setId(s, {
          saveToSettings: !0,
          fallbackToURLParam: !0
        }, function () {
          this.hide(), e.search.requery()
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Dropdowns.Base;
    t.SafeSearchFilter = function (t) {
      t.model = e.settings.safeSearch, i.call(this, t), this.bindEvents([
        [this.model, "change:id", this._rerender]
      ]), this.modalOps = {
        entryPoint: t.entryPoint || "of"
      }
    }, t.SafeSearchFilter.prototype = $.extend({}, i.prototype, {
      modalClass: "SafeSearchFilterModal",
      _render: function (e) {
        (e = e || {}).isActive = this.model.isActive(), e.key = "safe-search", e.buttonContent = l("Safe search:") + " " + (this.model.getName() || "").toLowerCase(), i.prototype._render.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Modal;
    t.SafeSearchFilterModal = function (t) {
      this.entryPoint = t.entryPoint, t.model = e.settings.safeSearch, i.call(this, t)
    }, t.SafeSearchFilterModal.prototype = $.extend({}, i.prototype, {
      template: "dropdown_modal",
      _render: function (e) {
        i.prototype._render.call(this, {
          isPopover: e.isPopover,
          header: e.isPopover && l("Safe Search"),
          showDescriptions: !0,
          values: this.model.getAll(),
          key: "safe-search"
        }), this.$(".js-dropdown-items").click(this._onFilterClick.bind(this))
      },
      _onFilterClick: function (t) {
        var i = $(t.currentTarget).attr("data-value");
        this.model.setId(i, (function () {
          e.search.requery()
        })), e.pixel.fire("sss", "f", {
          v: e.settings.safeSearch.getId(),
          ep: this.entryPoint
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationBadge = function (i) {
      i.model = e.userLocator, this.isProximityQuery = !!i.isProximityQuery || !1, this._onExpandedMap = i.onExpandedMap || !1, this.$dropdownAppendEl = i.$originEl, t.call(this, i), e.pixel.fire("lti")
    }, e.Views.UserLocation.UserLocationBadge.prototype = $.extend({}, t.prototype, {
      template: "user_location_badge",
      _render: function (i) {
        t.prototype._render.call(this, i), this.views.dropdown = new e.Views.UserLocation.UserLocationDropdown({
          appendTo: this.$dropdownAppendEl,
          onExpandedMap: this._onExpandedMap
        }), this.views.dropdown.setTrigger(this.$el), this._cacheElems(".js-user-loc-badge", ["btn-loc", "btn-loc-icon", "btn-close", "desc"]), this.bindEvents([
          [this.$el, "click", this._onClick.bind(this)],
          [this.model, "change:waitingForLocation", this._onWaitingForLocationChange],
          [this.model, "change:errorGettingLocation", this._onErrorGettingLocationChange],
          [this.model.userLocation, "change:desc", this._setLocationDesc],
          [this.views.dropdown, "hidden", this._onDropdownHidden.bind(this)],
          [this.views.dropdown, "shown", this._onDropdownShown.bind(this)],
          [this.model, "meaningfulUserLocationChange", this._onUserLocationChange.bind(this)]
        ]), this._updateStyle(), this._setLocationDesc(), this.showUserLocationCTA()
      },
      _onDropdownHidden: function (e) {
        this.$btnclose.addClass("is-hidden"), this.$btnloc.removeClass("is-hidden"), this.$desc.removeClass("is-hidden"), this._onExpandedMap && (this.$parent.css("z-index", 1), $(".js-vertical-map").css("overflow-y", "scroll"))
      },
      _onDropdownShown: function (e) {
        this.$btnclose.removeClass("is-hidden"), this.$btnloc.addClass("is-hidden"), this.$desc.addClass("is-hidden"), this._onExpandedMap && (this.$parent.css("z-index", 201), $(".js-vertical-map").css("overflow-y", "hidden"))
      },
      _updateStyle: function () {
        this.model.hasLocation() ? this.$btnloc.addClass("loc-enabled") : this.$btnloc.removeClass("loc-enabled")
      },
      _onClick: function (t) {
        e.pixel.fire("ltc"), this.views.dropdown.toggle({
          triggeredBy: "badgeClick"
        })
      },
      _onErrorGettingLocationChange: function (e) {
        e && "bg" !== this.model.lastUpdateType && "implicit" !== this.model.lastUpdateType && this.views.dropdown.show({
          triggeredBy: "errorGettingLocation"
        })
      },
      _onWaitingForLocationChange: function (t) {
        t ? (this.$spinner = e.$exec_template("spinner", {
          className: "user-loc-badge__spinner"
        }), this.$btnlocicon.addClass("is-hidden"), this.$btnloc.append(this.$spinner), this.views.dropdown.hide({
          triggeredBy: "waitingForLocation"
        })) : this.$spinner && (this.$spinner.remove(), this.$btnlocicon.removeClass("is-hidden"), delete this.$spinner), this._setLocationDesc()
      },
      _onUserLocationChange: function (t) {
        !this._onExpandedMap && this.$el.is(":visible") && (w.location.search = e.Utils.Strings.setSearchParameter(w.location.search, "ia", "places")), this._updateStyle()
      },
      _getDesc: function () {
        var e = "";
        if (this.model.waitingForLocation) e = this.model.hasLocation() ? lp("precise_user_location", "Updating location...") : lp("precise_user_location", "Waiting for Location...");
        else {
          var t = this.model.hasLocation() && this.model.userLocation.desc || "";
          t.length && (e = lp("precise_user_location", "Results near") + "<br>" + t)
        }
        return e
      },
      _setLocationDesc: function () {
        var e = this._getDesc();
        e.length && !this._onExpandedMap && (this.isProximityQuery || this.model.waitingForLocation) ? (this.$desc.html(e), this.$desc.addClass("can-show")) : this.$desc.removeClass("can-show")
      },
      _triggerImplicitAsk: function () {
        e.device.isAndroid && e.device.isDDGApp || (this.views.notification = new e.Views.UserLocation.UserLocationNotification), this.model.updateLocation({
          force: !0,
          updateType: "implicit"
        })
      },
      _mapVisibleCheck: function () {
        var t = !1,
          i = document.querySelector(".js-places-multiple-map");
        this._mapObserver = new e.Utils.IsIntoViewObserver(i, {
          threshold: .8
        }, function (e) {
          e && (t = !0, this._triggerImplicitAsk(), this._mapObserver.destroy())
        }.bind(this)), setTimeout(function () {
          !t && this.views.dropdown.show({
            triggeredBy: "explicitTrigger"
          }), this._mapObserver && this._mapObserver.destroy()
        }.bind(this), 1e3)
      },
      showUserLocationCTA: function () {
        this.model.canGetLocation() && (this.model.hasLocation() && this.isProximityQuery ? this.model.updateLocation({
          updateType: "bg"
        }) : this.isProximityQuery && e.settings.isDefault("kat") && !e.search.isNavigational && this._mapVisibleCheck())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationTile = function (i) {
      i.model = e.userLocator, this.position = i.position, this.answer = i.answer, this._constrainChildren = i.constrainChildren, this.$tooltipAppendEl = i.$originEl, this._onExpandedMap = i.onExpandedMap || this.answer && this.answer.isMapExpanded, t.call(this, i), e.pixel.fire("lti")
    }, e.Views.UserLocation.UserLocationTile.prototype = $.extend({}, t.prototype, {
      template: "user_location_tile",
      _render: function () {
        t.prototype._render.call(this, {
          position: this.position
        }), this._cacheElems(".js-user-loc-tile", ["icons", "down", "marker", "button"]), this.views.userLocationTooltip = new e.Views.UserLocation.UserLocationTooltip({
          appendTo: this.$tooltipAppendEl,
          position: this.position,
          $positionAgainst: this.$button,
          constrain: this._constrainChildren,
          afterShow: this._afterTooltipShow.bind(this),
          afterHide: this._afterTooltipHide.bind(this)
        }), e.userLocator.hasLocation() && (this.$marker.addClass("tx-clr--blue-light"), this.$button.attr("data-tooltip-text", lp("precise_user_location", "Anonymous location enabled"))), this.bindEvents([
          [this.$el, "click", this._onTileClick],
          [this.$button, "mouseenter", this._onMouseEnter],
          [this.$button, "mouseleave", this._onMouseLeave],
          [this.model, "change:waitingForLocation", this._onWaitingForLocation],
          [this.model, "meaningfulUserLocationChange", this._onUserLocationChange]
        ]), this.showUserLocationCTA()
      },
      _onTileClick: function (t) {
        t.stopPropagation(), e.pixel.fire("ltc"), this.$button.removeClass("simple-tooltip"), this.views.userLocationTooltip.isVisible() ? this.views.userLocationTooltip.onDismissClick(t) : this.views.userLocationTooltip.showTooltip({
          source: "userInteraction"
        })
      },
      _onUserLocationChange: function () {
        !this._onExpandedMap && this.$el.is(":visible") && (w.location.search = e.Utils.Strings.setSearchParameter(w.location.search, "ia", "places")), e.userLocator.hasLocation() ? (this.$marker.addClass("tx-clr--blue-light"), this.$button.attr("data-tooltip-text", lp("precise_user_location", "Anonymous location enabled"))) : (this.$marker.removeClass("tx-clr--blue-light"), this.$button.attr("data-tooltip-text", lp("precise_user_location", "Find results closer to you")))
      },
      _onWaitingForLocation: function (t) {
        t ? (this.$spinner = e.$exec_template("spinner"), this.$icons.addClass("is-hidden"), this.$button.append(this.$spinner)) : this.$spinner && (this.$spinner.remove(), this.$icons.removeClass("is-hidden"), delete this.$spinner)
      },
      _afterTooltipShow: function () {
        e.device.isMobile || (this.model.hasLocation() && this.$button.attr("data-tooltip-text", lp("precise_user_location", "Anonymous location enabled")), this.$button.removeClass("simple-tooltip"))
      },
      _afterTooltipHide: function () {
        e.device.isMobile || this.$button.addClass("simple-tooltip")
      },
      showUserLocationCTA: function () {
        e.userLocator.canGetLocation() && (e.userLocator.hasLocation() && this.answer.proximity ? e.userLocator.updateLocation({
          updateType: "bg"
        }) : this.answer.proximity && e.settings.isDefault("kat") && !e.search.isNavigational && this.views.userLocationTooltip.showTooltip({
          delay: 500
        }))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationTooltipContent = function (i) {
      i.model = e.userLocator, this.device = i.device || e.device, this.updateType = "cta", this.showDesc = i.showDesc, t.call(this, i)
    }, e.Views.UserLocation.UserLocationTooltipContent.prototype = $.extend({}, t.prototype, {
      template: "user_location_tooltip_content",
      _render: function () {
        t.prototype._render.call(this, this._getRenderOps()), this._cacheElems(".js-user-loc-content", ["copy", "help", "buttons"]), this.views.buttons = new e.Views.UserLocation.UserLocationButton({
          clickPixel: "lctac",
          updateType: "cta",
          updateButton: this.model.hasLocation(),
          appendTo: this.$buttons
        }), this.bindEvents([
          [this.model, "change:retryLocation", this._onRetryLocationChange],
          [this.model, "change:errorGettingLocation", this._rerender.bind(this)],
          [this.model, "change:problemUpdatingLocation", this._rerender.bind(this)],
          [this.model.userLocation, "change:desc", this._rerender.bind(this)],
          [this.model, "meaningfulUserLocationChange", this._rerender.bind(this)],
          [this.$help, "click", this._onHelpClick]
        ])
      },
      _rerender: function () {
        this.unbindEvents(), t.prototype._rerender.call(this)
      },
      _getInstructions: function () {
        var e = null;
        return this.device.isAndroid ? e = this.device.isDDGApp && this.device.isEnglish ? [lp("precise_user_location", "Enable the Location setting on your phone."), lp("precise_user_location", "Tap the vertical dots in the DuckDuckGo app."), lp("precise_user_location", "Select Settings > Location."), lp("precise_user_location", "Enable 'Sites can ask for my location.'"), lp("precise_user_location", "Return to duckduckgo.com and allow permission.")] : this.device.isChrome || this.device.isBrave ? ["Tap the <b>lock icon</b> on the address bar.", "Go to 'Site Settings'.", "Ensure 'Location' is set to <b>allow</b>.", "<b>Reload</b> DuckDuckGo, and try again."] : ["Open the <b>Settings app</b>.", "Open 'Location', and ensure location is <b>enabled</b>.", "Navigate to Settings > Apps.", "Ensure your browser is allowed location access.", "<b>Reload</b> DuckDuckGo, and try again."] : this.device.isIDevice ? e = ["Open the <b>Settings</b> app.", "Open 'Privacy', then 'Location Services'.", "Ensure 'Location Services' is <b>enabled</b>.", "Scroll down and locate <b>your browser</b> in the list.", "Ensure your browser is allowed <b>location access</b>.", "<b>Reload</b> DuckDuckGo, and try again."] : (this.device.isBrave || this.device.isChrome || this.device.isFirefox) && (this.device.isWindows || this.device.isOSX) ? e = ["Click the <b>lock icon</b> on the address bar.", "Ensure location access is <b>allowed</b>.", "<b>Reload</b> DuckDuckGo, and try again."] : this.device.isOSX && this.device.isSafari && (e = ["Select <b>'Settings for this Website...'</b> from the Safari menu.", "Ensure <b>'Allow'</b> is selected for the 'Location' setting.", "<b>Reload</b> DuckDuckGo, and try again."]), e
      },
      _getRenderOps: function () {
        return this.model.errorGettingLocation ? {
          locError: !0,
          instructions: this._getInstructions()
        } : this.model.problemUpdatingLocation ? {
          locUpdProblem: !0,
          desc: this.showDesc ? this.model.userLocation.desc : ""
        } : this.model.hasLocation() ? {
          locSet: !0,
          desc: this.showDesc ? this.model.userLocation.desc : ""
        } : (this.model.hasLocation(), {
          locUnset: !0
        })
      },
      _onHelpClick: function () {
        e.pixel.fire("lhc", this.updateType)
      },
      _onRetryLocationChange: function () {
        this.model.retryLocation && (e.settings.clear("kat", {
          saveToCookie: !0,
          saveToCloud: !1
        }), "manual" === this.model.retryLocation ? this.views.buttons.requestManualLocation() : "precise" === this.model.retryLocation && this.views.buttons.requestPreciseLocation("survey", "lctar"))
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      show: function () {
        this.$el.removeClass("is-hidden")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationTooltip = function (i) {
      i.model = e.userLocator, this.position = i.position, this.$positionAgainst = i.$positionAgainst, this._constrain = i.constrain, this._afterShow = i.afterShow, this._afterHide = i.afterHide, this._hasFired = !1, this._showSource = null, t.call(this, i)
    }, e.Views.UserLocation.UserLocationTooltip.prototype = $.extend({}, t.prototype, {
      template: "user_location_tooltip",
      _render: function () {
        t.prototype._render.call(this), this._cacheElems(".js-user-loc-tooltip", ["triangle-outer", "triangle-inner", "more", "dismiss", "inner"]), this.views.content = new e.Views.UserLocation.UserLocationTooltipContent({
          appendTo: this.$inner,
          showDesc: "below-left" !== this.position
        }), this._updateArrowStyle(), this.bindEvents([
          [this.$dismiss, "click", this.onDismissClick],
          [this.model, "change:userLocation", this._onCurrentLocationChange],
          [this.model, "change:errorGettingLocation", this._onErrorGettingLocationChange],
          [this.model, "successGettingLocation", this._onSuccessGettingLocation],
          [e.history, "popstate", this._onStateChange],
          [e.router, "navigate", this._onStateChange],
          [e.settings, "change:kae", this._updateArrowStyle]
        ])
      },
      onDismissClick: function (t) {
        t.preventDefault();
        var i = $(t.delegateTarget).closest(".js-user-loc-tile").length ? "tile" : "tooltipX";
        !this.model.hasLocation() && e.settings.isDefault("kat") && "userInteraction" !== this._showSource && (e.pixel.fire("lctax"), this.model.disableLocAsk()), this._hideTooltip(i)
      },
      _hideTooltip: function (t) {
        t = t || "other", e.pixel.fire("lctah", t), this.$el.removeClass("user-loc-tooltip--animation"), this.$el.fadeOut(200, function () {
          this._afterHide()
        }.bind(this)), e.$doc.off("click.pul-tooltip")
      },
      _updateArrowStyle: function () {
        this.model.errorGettingLocation ? e.settings.isDarkTheme() ? this.$triangleinner.css({
          borderBottomColor: "#171818"
        }) : this.$triangleinner.css({
          borderBottomColor: "#f0f3f5"
        }) : this.$triangleinner.css({
          borderBottomColor: ""
        })
      },
      _handleDocClick: function (e) {
        0 === $(e.target).closest(this.$el).length && this._hideTooltip("outsideClick")
      },
      _onCurrentLocationChange: function () {
        this.model.hasLocation() && this._hideTooltip("currentLocationChange")
      },
      _onErrorGettingLocationChange: function (e) {
        this._updateArrowStyle(), "implicit" === this.model.lastUpdateType && 1 === e && this._hideTooltip(this.model.lastUpdateType)
      },
      _onSuccessGettingLocation: function () {
        this._hideTooltip("successGettingLocationChange")
      },
      _onStateChange: function () {
        !this.$parent.is(":visible") && this._hideTooltip("stateChange")
      },
      isVisible: function () {
        return this.$el.is(":visible")
      },
      showTooltip: function (t) {
        if (t = $.extend({
            delay: 0,
            source: "auto"
          }, t), this._showSource = t.source, this.$parent.is(":visible")) {
          this._hasFired || (e.pixel.fire("lctai"), this._hasFired = !0), e.$doc.on("click.pul-tooltip", this._handleDocClick.bind(this)), this.$el.addClass("user-loc-tooltip--" + this.position);
          var i = this.$positionAgainst.parent().parent().position().top,
            s = this.$positionAgainst.outerHeight() + i,
            a = this.$positionAgainst.outerWidth() / 2 + i;
          "below" === this.position ? a -= 2 * a : "below-left" === this.position && (a += 2 * i), this._constrain && this.$el.addClass("tooltip-constrained"), this.$el.css({
            top: s,
            right: a
          }), t.delay ? setTimeout(function () {
            this.$el.fadeIn(400, function () {
              this._afterShow()
            }.bind(this)), this.$el.addClass("user-loc-tooltip--animation")
          }.bind(this), t.delay) : this.$el.fadeIn(200, function () {
            this._afterShow()
          }.bind(this))
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modal;
    e.Views.UserLocation.UserLocationDropdown = function (i) {
      i.model = e.userLocator, this._onExpandedMap = i.onExpandedMap, i._triggerEvents = this._onExpandedMap ? ["mousedown.modal", "touchstart.modal"] : ["click.modal"], this._lastShowTrigger = "other", t.call(this, i)
    }, e.Views.UserLocation.UserLocationDropdown.prototype = $.extend({}, t.prototype, {
      template: "user_location_dropdown",
      _render: function (i) {
        t.prototype._render.call(this, i), this.bindEvents([
          [e.router, "navigate", this._onStateChange]
        ]), this.views.content = new e.Views.UserLocation.UserLocationContent({
          appendTo: this.$el,
          dismiss: this.hide.bind(this),
          onExpandedMap: this._onExpandedMap
        })
      },
      _onStateChange: function () {
        this.hide({
          triggeredBy: "navigation"
        })
      },
      _handleClick: function (e) {
        Boolean(this.$el.has(e.target).length) || this.hide()
      },
      _formatShowHideOps: function (e) {
        return $.extend({
          triggeredBy: "other"
        }, e)
      },
      show: function (i) {
        i = this._formatShowHideOps(i), this._lastShowTrigger = i.triggeredBy, this.isShowing || e.pixel.fire("lctas", i.triggeredBy), e.$doc.on(this._triggerEvents, this._handleClick.bind(this)), t.prototype.show.call(this)
      },
      hide: function (i) {
        i = this._formatShowHideOps(i), this.isShowing && e.pixel.fire("lctah", i.triggeredBy), e.$doc.off(this._triggerEvents, this._handleClick.bind(this)), t.prototype.hide.call(this), !this.model.hasLocation() && e.settings.isDefault("kat") && "explicitTrigger" === this._lastShowTrigger && "other" !== i.triggeredBy && (e.pixel.fire("lctax"), this.model.disableLocAsk())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationContent = function (i) {
      i.model = e.userLocator, this.dismiss = i.dismiss, this.device = e.device, this._locFetchAttempt = !1, this._onExpandedMap = i.onExpandedMap, t.call(this, i)
    }, e.Views.UserLocation.UserLocationContent.prototype = $.extend({}, t.prototype, {
      template: "user_location_content",
      _requestPreciseLocation: function (e) {
        this.model.updateLocation({
          force: !0,
          updateType: e
        })
      },
      _requestManualLocation: function (t) {
        this._locFetchAttempt || this.model.geoipLocation || this.model.hasLocation() ? (this.views.manualModal || (this.views.manualModal = new e.Views.UserLocation.ManualUserLocationModal({
          model: this.model,
          appendTo: "body",
          onExpandedMap: this._onExpandedMap
        })), this.views.manualModal.show()) : (this._locFetchAttempt = !0, this.model.fetchGeoIPLocation(function (e) {
          e && this._requestManualLocation()
        }.bind(this)))
      },
      _render: function (e) {
        var i = this._getRenderOps();
        t.prototype._render.call(this, $.extend({}, e, i)), this._cacheElems(".js-user-loc-content", ["header", "copy", "alt-manual", "alt-precise", "btn-cancel", "btn-enable", "btn-manual", "btn-update", "btn-clear", "btn-dismiss"]), this.bindEvents([
          [this.model, "change:waitingForLocation", this._rerender.bind(this)],
          [this.model, "change:errorGettingLocation", this._rerender.bind(this)],
          [this.model, "meaningfulUserLocationChange", this._rerender.bind(this)],
          [this.model.userLocation, "change:desc", this._rerender.bind(this)],
          [this.$altmanual, "click", this._onAltManualClick.bind(this)],
          [this.$altprecise, "click", this._onAltPreciseClick.bind(this)],
          [this.$btncancel, "click", this._onCancelClick],
          [this.$btnenable, "click", this._onPreciseLocationClick],
          [this.$btnmanual, "click", this._onManualLocationClick],
          [this.$btnupdate, "click", this._onUpdateLocationClick],
          [this.$btnclear, "click", this._onClearClick],
          [this.$btndismiss, "click", this._onDismissClick]
        ])
      },
      _rerender: function () {
        this.unbindEvents(), t.prototype._rerender.call(this)
      },
      _getRenderOps: function () {
        var e;
        if (this.model.errorGettingLocation) {
          var t = this._getInstructions();
          e = {
            state: "locError",
            list: t.list,
            additional: t.additional
          }
        } else e = this.model.hasLocation() ? {
          state: "locSet",
          waiting: this.model.waitingForLocation,
          locType: this.model.userLocation.type,
          desc: this.model.userLocation.desc
        } : {
          state: "locUnset",
          waiting: this.model.waitingForLocation
        };
        return e
      },
      _getInstructions: function () {
        var e = {
          list: [],
          additional: ""
        };
        return this.device.isAndroid ? (this.device.isDDGApp && this.device.isEnglish ? e.list = [lp("precise_user_location", "Enable the Location setting on your phone."), lp("precise_user_location", "Tap the vertical dots in the DuckDuckGo app."), lp("precise_user_location", "Select Settings > Location."), lp("precise_user_location", "Enable 'Sites can ask for my location.'"), lp("precise_user_location", "Return to duckduckgo.com and allow permission.")] : this.device.isChrome || this.device.isBrave ? e.list = [lp("precise_user_location", "Tap the %slock icon%s on the address bar.", "<b>", "</b>"), lp("precise_user_location", "Go to 'Site Settings'."), lp("precise_user_location", "Ensure 'Location' is set to %sallow%s.", "<b>", "</b>"), lp("precise_user_location", "%sReload%s DuckDuckGo, and try again.", "<b>", "</b>")] : e.list = [lp("precise_user_location", "Open the %sSettings app%s.", "<b>", "</b>"), lp("precise_user_location", "Open 'Location', and ensure location is %senabled%s.", "<b>", "</b>"), lp("precise_user_location", "Navigate to Setting > Apps."), lp("precise_user_location", "Ensure your browser is allowed location access."), lp("precise_user_location", "%sReload%s DuckDuckGo, and try again.", "<b>", "</b>")], e.additional = lp("precise_user_location", "If the browser location remains unavailable, then in your browser go to %s⋮ > Menu > Settings > Site settings > Location%s, and ensure DuckDuckGo is allowed location access.", "<b>", "</b>")) : this.device.isIDevice ? (e.list = [lp("precise_user_location", "Open the %sSettings%s app.", "<b>", "</b>"), lp("precise_user_location", "Open 'Privacy', then 'Location Services'."), lp("precise_user_location", "Ensure 'Location Services' is %senabled%s.", "<b>", "</b>"), lp("precise_user_location", "Scroll down and locate %syour browser%s in the list.", "<b>", "</b>"), lp("precise_user_location", "Ensure your browser is allowed %slocation access%s.", "<b>", "</b>"), lp("precise_user_location", "%sReload%s DuckDuckGo, and try again.", "<b>", "</b>")], e.additional = lp("precise_user_location", "If the browser location remains unavailable, then go to %sSettings > General > Reset > 'Reset Location & Privacy'%s.", "<b>", "</b>")) : (this.device.isBrave || this.device.isChrome || this.device.isFirefox) && (this.device.isWindows || this.device.isOSX) ? e.list = [lp("precise_user_location", "Click the %slock icon%s on the address bar.", "<b>", "</b>"), lp("precise_user_location", "Ensure location access is %sallowed%s.", "<b>", "</b>"), lp("precise_user_location", "%sReload%s DuckDuckGo, and try again.", "<b>", "</b>")] : this.device.isOSX && this.device.isSafari && (e.list = [lp("precise_user_location", "Select %s'Setting for this Website...'%s from the Safari menu.", "<b>", "</b>"), lp("precise_user_location", "Ensure %s'Allow'%s is selected for the 'Location' setting.", "<b>", "</b>"), lp("precise_user_location", "%sReload%s DuckDuckGo, and try again.", "<b>", "</b>")]), e
      },
      _onAltManualClick: function () {
        this._requestManualLocation()
      },
      _onAltPreciseClick: function () {
        this._requestPreciseLocation("explicit")
      },
      _onPreciseLocationClick: function () {
        this.model.waitingForLocation || this._requestPreciseLocation("explicit")
      },
      _onDismissClick: function () {
        this.model.set("errorGettingLocation", !1), this.model.userLocation.type !== e.Models.UserLocation.MANUAL_LOCATION ? this.dismiss({
          triggeredBy: "dismissButton"
        }) : this.dismiss({
          triggeredBy: "setManuallyButton"
        })
      },
      _onManualLocationClick: function () {
        this.model.waitingForLocation || (this._requestManualLocation(), this._onDismissClick())
      },
      _onUpdateLocationClick: function () {
        this.model.waitingForLocation || (this.model.userLocation.type === e.Models.UserLocation.MANUAL_LOCATION ? this._requestManualLocation() : (this._requestPreciseLocation("user"), this.dismiss({
          triggeredBy: "updateButton"
        })))
      },
      _onCancelClick: function () {
        this.model.cancelLocation()
      },
      _onClearClick: function () {
        this.model.hasLocation() && this.model.clearLocation(), this.model.disableLocAsk(), this.dismiss({
          triggeredBy: "clearButton"
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationButton = function (i) {
      i.model = i.model || e.userLocator, this.updateButton = i.updateButton, this.clickPixel = i.clickPixel, this.updateType = i.updateType, t.call(this, i)
    }, e.Views.UserLocation.UserLocationButton.prototype = $.extend({}, t.prototype, {
      template: "user_location_button",
      requestPreciseLocation: function (t, i) {
        this.model.updateLocation({
          force: !0,
          updateType: t || this.updateType
        }), e.pixel.fire(i || this.clickPixel)
      },
      requestManualLocation: function () {
        e.pixel.fire("lmm"), this.views.modal || (this.views.modal = new e.Views.UserLocation.ManualUserLocationModal({
          model: this.model,
          appendTo: "body"
        })), this.views.modal.show()
      },
      _render: function () {
        t.prototype._render.call(this, {
          waiting: this.model.waitingForLocation,
          showManualLocationButton: !this.updateButton,
          highlightManualLocationButton: this.model.errorGettingLocation,
          update: this.updateButton,
          problemUpdatingLocation: this.model.problemUpdatingLocation
        }), this._cacheElems(".js-user-loc-btn", ["cancel", "enable", "manual", "update", "clear"]), this.bindEvents([
          [this.model, "change:errorGettingLocation", this._onErrorGettingLocationChange],
          [this.model, "change:problemUpdatingLocation", this._onProblemUpdatingLocation],
          [this.model, "meaningfulUserLocationChange", this._rerender.bind(this)],
          [this.model, "change:waitingForLocation", this._onWaitingForLocationChange],
          [this.$cancel, "click", this._onCancelClick],
          [this.$enable, "click", this._onPreciseLocationClick],
          [this.$manual, "click", this._onManualLocationClick],
          [this.$update, "click", this._onUpdateLocationClick],
          [this.$clear, "click", this._onClearClick]
        ])
      },
      _rerender: function () {
        this.unbindEvents(), t.prototype._rerender.call(this)
      },
      _onPreciseLocationClick: function () {
        this.model.waitingForLocation || this.requestPreciseLocation()
      },
      _onManualLocationClick: function () {
        this.model.waitingForLocation || this.requestManualLocation()
      },
      _onUpdateLocationClick: function () {
        this.model.waitingForLocation || (this.model.problemUpdatingLocation || this.model.userLocation.type === e.Models.UserLocation.MANUAL_LOCATION ? this.requestManualLocation() : this.requestPreciseLocation())
      },
      _onCancelClick: function () {
        this.model.cancelLocation()
      },
      _onClearClick: function () {
        e.userLocator.hasLocation() && (e.userLocator.clearLocation(), e.pixel.fire("lfmx")), e.userLocator.disableLocAsk()
      },
      _onWaitingForLocationChange: function () {
        this._rerender()
      },
      _onErrorGettingLocationChange: function () {
        this._rerender()
      },
      _onProblemUpdatingLocation: function () {
        this._rerender()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modal;
    e.Views.UserLocation.ManualUserLocationModal = function (i) {
      i.appendTo = i.appendTo || ".js-site-wrapper", this._onExpandedMap = i.onExpandedMap;
      var s = i.model.userLocation;
      this._zoomLevel = 14, !i.model.hasLocation() && i.model.geoipLocation && (s = i.model.geoipLocation, this._zoomLevel = 10), this._mapModel = new e.Models.GLMap({
        selectedLocation: s
      }), this._initialPositionChanged = !1, t.call(this, i)
    }, e.Views.UserLocation.ManualUserLocationModal.prototype = $.extend({}, t.prototype, {
      template: "manual_user_location_modal",
      show: function () {
        t.prototype.show.call(this), this.views.map ? this.views.map.show() : this.views.map = new e.Views.Mapkit.PositionPicker({
          appendTo: this.$map,
          model: this._mapModel,
          zoomLevel: this._zoomLevel
        }), this._toggleScroll(), this._updateCloseButtonTheme(), e.pixel.fire("lmm")
      },
      hide: function (i) {
        t.prototype.hide.call(this), this.views.map && this.views.map.hide(), !1 !== i && e.pixel.fire("lmmh"), this._toggleScroll()
      },
      _render: function (e) {
        t.prototype._render.call(this, e), this._cacheElems(".js-manual-user-location", ["map", "map-controls", "done-btn", "close"]), this.bindEvents([
          [this.$donebtn, "click", this._onPositionPicked],
          [this._mapModel, "change:selectedLocation", this._onPositionChanged]
        ])
      },
      _toggleScroll: function () {
        e.$html.toggleClass("disable-place-scroll", !!this.isShowing)
      },
      _updateCloseButtonTheme: function () {
        var t = "map-control__btn--darkmap";
        this.isDarkMap = e.settings.isDarkTheme(), this.isDarkMap ? this.$close.addClass(t) : this.$close.removeClass(t)
      },
      _onPositionChanged: function () {
        this._initialPositionChanged = !0, this.$donebtn.removeClass("is-disabled")
      },
      _onPositionPicked: function () {
        this._initialPositionChanged && this._mapModel.selectedLocation && (e.settings.set(e.settings.LOCATION_SETTING_KEY, 1, {
          saveToCookie: !0
        }), e.geo.fetchBucketData(this._mapModel.selectedLocation, function () {
          this.model.setLocation(this._mapModel.selectedLocation), this._onExpandedMap && this.model.userLocation.setDescByGeocoding((function () {
            this.model.setLocation(this.model.userLocation)
          })), e.pixel.fire("lmms"), setTimeout(function () {
            this.hide(!1)
          }.bind(this), 50)
        }.bind(this)))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.UserLocation.UserLocationNotification = function (i) {
      i = $.extend({
        appendTo: "body",
        model: e.userLocator
      }, i), t.call(this, i)
    }, e.Views.UserLocation.UserLocationNotification.prototype = $.extend({}, t.prototype, {
      template: "user_location_notification",
      _render: function (e) {
        t.prototype._render.call(this, e), this._cacheElems(".js-user-loc-notification", []), this.bindEvents([
          [this.model, "change:waitingForLocation", this._onWaitingForLocationChange.bind(this)],
          [this.model, "change:errorGettingLocation", this._onErrorGettingLocationChange.bind(this)],
          [this.$el, "click", this._onClick.bind(this)]
        ]), setTimeout(function () {
          this._show()
        }.bind(this), 50)
      },
      _show: function () {
        this.$el.removeClass("is-hidden")
      },
      _onWaitingForLocationChange: function (e) {
        e || this.destroy()
      },
      _onErrorGettingLocationChange: function (e) {
        e && this.destroy()
      },
      _onClick: function () {
        this.destroy()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "search--focus",
      s = "search--hover";
    e.Views.Maps.MapSearchbar = function (e) {
      this._ops = e, this.directionsModel = e.directionsModel || null, this.directionsType = e.directionsType || null, this.initValue = e.initValue, this.model = e.model, this.model.hideSearchButton = !!this.directionsModel, this.directionsModel ? this.model.searchFormPlaceholder = "start" === this.directionsType ? lp("maps_directions", "Enter start location") : lp("maps_directions", "Enter your destination") : this.model.searchFormPlaceholder = "", t.call(this, this._ops), this.bindEvents([
        [this.model, "change:items", this._onItemsChange],
        [this.model.meta, "change:requery", this._onQueryChange],
        [this.model, "change:isMapStartActive", this._onMapStartActiveChange],
        [this.autocompleteModel, "change:suggestions", this._onAutocompleteSuggestionsChange],
        [this.directionsModel, "change:" + this.directionsType, this._onDirectionsChange],
        [this.directionsModel, "change:" + this.directionsType + "Display", this._onDirectionsDisplayChange]
      ])
    }, e.Views.Maps.MapSearchbar.prototype = $.extend({}, t.prototype, {
      template: "map_searchbar",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      blur: function () {
        this.$searchinput && this.$searchinput.blur()
      },
      focus: function () {
        this.$searchinput && this.$searchinput.focus()
      },
      clearInput: function () {
        this.autocomplete && (this.autocomplete.clear(), this.autocomplete.hide()), this.$searchinput.val("") && this.$searchinput.focus(), this._updateClearButtonAndSearchbar()
      },
      getCurrentValue: function () {
        return this.$searchinput && e.strip_all_html(this.$searchinput.val())
      },
      set: function (t) {
        t && (this.$searchinput.val(e.strip_all_html(t)), this._updateClearButtonAndSearchbar())
      },
      _render: function () {
        t.prototype._render.call(this, this._ops), this._cacheElems(".js-vertical-map", ["search-button", "search-clear", "search-input", "search"]), this.$body = $("body"), this.bindEvents([
          [this.$searchinput, "touchstart click", this._onInputFocus],
          [this.$searchinput, "focus", this._onInputFocus],
          [this.$searchinput, "blur", this._onInputBlur],
          [this.$searchinput, "keyup", this._onInputKeyUp],
          [this.$search, "submit", this._onSearchSubmit]
        ]), Modernizr.touch ? (this.$searchbutton.on("touchstart", this._onSearchButtonTouch.bind(this)), this.$searchclear.on("touchstart click", this._onClearClick.bind(this)), this.$search.on("touchstart", this._onInputFocus.bind(this))) : (this.$searchclear.on("click", this._onClearClick.bind(this)), this.$search.on("click", this._onInputFocus.bind(this))), e.keyboard.on("escape.searchbar", this._onEscape.bind(this)), this._updateSearchButtonOnHover(), this.directionsModel ? this.set(e.Utils.Strings.decodeHex(this.initValue) || "") : this.set(e.Utils.Strings.decodeHex(this.model.meta.query || this.model.query)), this._updateClearButtonAndSearchbar(), this._initAutocomplete()
      },
      _initAutocomplete: function () {
        this.$searchinput && !this.autocomplete && (this.autocompleteModel = new e.Models.Maps.Autocomplete({
          answer: this.model
        }), this.autocomplete = new e.Views.AutoComplete({
          $input: this.$searchinput,
          $parentForm: this.$search,
          model: this.autocompleteModel,
          isTwoRowsText: !0
        }), this.$search.append(this.autocomplete.$el))
      },
      _updateSearchButtonOnHover: function () {
        this.$search.hover((function () {
          $(this).addClass(s)
        }), (function () {
          $(this).removeClass(s)
        }))
      },
      _updateSearchButton: function () {
        this.$searchinput.val() ? this.$search.addClass(i) : this.$search.removeClass(i)
      },
      _updateClearButtonAndSearchbar: function () {
        if (this.$searchinput) {
          var t = this.$searchinput.val();
          e.device.isMobile && this.$searchclear.val("×"), t && "" !== t ? (this.$search.addClass("has-text"), this.$searchclear.removeClass("empty")) : (this.$search.removeClass("has-text"), this.$searchclear.addClass("empty"))
        }
      },
      _resetNamespace: function () {
        "searchbar" === e.keyboard.namespace && e.keyboard.set("namespace")
      },
      _onAutocompleteSuggestionsChange: function () {
        this.isFocused || this.autocomplete.hide()
      },
      _onClearClick: function (e) {
        e.preventDefault(), e.stopPropagation(), this.clearInput(), this.directionsModel && this.directionsModel.set(this.directionsType, null)
      },
      _onEscape: function (e) {
        this.autocomplete && this.autocomplete.isVisible() && this.autocomplete.hide(), this.$searchinput.blur()
      },
      _onQueryChange: function (t) {
        t && (this.directionsModel || this.set(e.Utils.Strings.decodeHex(t)))
      },
      _onDirectionsChange: function (t) {
        t ? "object" == typeof t && (t = t.what || t.where || (t.coordinate ? lp("directions", "Your Location") : "")) : t = "", this.set(e.Utils.Strings.decodeHex(t))
      },
      _onDirectionsDisplayChange: function (e) {
        this.set(e)
      },
      _onMapStartActiveChange: function () {
        this.directionsModel || (this.model.isMapStartActive ? this.clearInput() : (this.model.meta.requery || this.model.query) && this.set(this.model.meta.requery || this.model.query))
      },
      _onItemsChange: function () {
        this._resetNamespace(), this.$searchinput.blur(), this.$searchbutton.blur(), this.autocomplete && (this.autocomplete.clear(), this.autocomplete.hide())
      },
      _setNamespaceSearchbar: function () {
        var t = e.keyboard.namespace;
        (!t || "autocomplete" !== t && "searchbar" !== t) && e.keyboard.set("namespace", "searchbar")
      },
      _onSearchButtonTouch: function (e) {
        e.stopPropagation()
      },
      _onInputFocus: function (t) {
        t.stopPropagation(), this._updateSearchButton(), !this.$searchinput.val() && this.autocomplete ? this.autocomplete.hide() : this._setNamespaceSearchbar(), e.device.isMobileDevice && this.$body.on("touchstart.searchbar", this._onTouchOut.bind(this)), this.emit("searchbar-focused"), this.isFocused = !0
      },
      _onInputBlur: function (t) {
        this.$search.removeClass(i), this._resetNamespace(), e.device.isMobileDevice && this.$body.off("touchstart.searchbar"), this.isFocused = !1
      },
      _onInputKeyUp: function (e) {
        this._updateSearchButton(), this._updateClearButtonAndSearchbar()
      },
      _onTouchOut: function (e) {
        e.stopPropagation(), this.$searchinput.blur()
      },
      _onSearchSubmit: function (t) {
        if (t.preventDefault(), this.autocomplete.model.selectedSuggestion) delete this.autocomplete.model.selectedSuggestion;
        else {
          var i = this.$searchinput.val();
          if (i = e.strip_all_html(i), this.$searchinput.blur(), this.$searchbutton.blur(), this._resetNamespace(), this.autocomplete && (this.autocomplete.clear(), this.autocomplete.hide()), this.directionsModel) {
            if (this.directionsType) {
              var s = {};
              s[this.directionsType] = {
                what: i
              }, this.directionsModel.onDirectionsAction(s)
            }
            this.directionsModel.autocompleteLocation({
              loc: i,
              type: this.directionsType
            })
          } else this.model.set("shouldMapViewportUpdate", !0), this.model.set("isSearchAreaBtnVisible", !1), this.emit("requery-submit", {
            query: i,
            strict_bbox: "0"
          }), e.pixel.fire("map_ere"), e.pixel.fire("map_er", "submit")
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.MapSidebar = function (e) {
      this.directionsModel = e.directionsModel, t.call(this, e), this.bindEvents([
        [this.model, "change:selectedItem", this._onSelectedItemChanged],
        [this.model, "change:isMapExpanded", this._onMapExpandedChanged],
        [this.model, "change:isDirectionsActive", this._onDirectionsActiveChange]
      ])
    }, e.Views.Maps.MapSidebar.prototype = $.extend({}, t.prototype, {
      template: "map_sidebar",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      blurSearchInput: function () {
        e.device.isMobileDevice || this.views.mapSearchbar && this.views.mapSearchbar.blur()
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-vertical-map", ["content", "results-container", "detail", "close-map", "close-directions", "back", "back-to-list", "back-to-serp", "type-container", "user-loc-container"]), this.model.isMapExpanded && (this._renderSearchHeader(), this.views.mapTypeSelect = new e.Views.Maps.MapTypeSelect({
          appendTo: this.$typecontainer,
          model: this.model,
          small: !1
        }), e.userLocator.canShowPUL() && !e.device.isDesktop && (this.views.userLocBadge = new e.Views.UserLocation.UserLocationBadge({
          appendTo: this.$userloccontainer,
          $originEl: this.$el,
          onExpandedMap: !0
        })), this.bindEvents([
          [this.$back, "click", this._onBackClick]
        ])), this.bindEvents([
          [this.$backtolist, "click", this._onBackToListClick],
          [this.$closemap, "click", this._onCloseMapClick],
          [this.$closedirections, "click", this._onCloseDirectionsClick]
        ])
      },
      _renderSearchHeader: function () {
        this.views.directionsSearch || (this.views.directionsSearch = new e.Views.Maps.DirectionsSearch({
          model: this.model,
          directionsModel: this.directionsModel,
          appendTo: this.$content,
          showTransportType: !0,
          autoInit: !0
        })), this.views.mapSearchbar || (this.views.mapSearchbar = new e.Views.Maps.MapSearchbar({
          appendTo: this.$content,
          model: this.model
        })), this._toggleDirections()
      },
      _toggleDirections: function () {
        this.model.isDirectionsActive ? (this.views.mapSearchbar.hide(), this.views.directionsSearch && this.views.directionsSearch.show(), this.$closedirections && this.$closedirections.show()) : (this.views.directionsSearch && this.views.directionsSearch.hide(), this.views.mapSearchbar.show(), this.$closedirections && this.$closedirections.hide())
      },
      _onSelectedItemChanged: function (e) {
        "Place" !== this.model.answerItemModel && "Places" !== this.model.answerType || this.model.isSingle || (e ? (this.$backtoserp.hide(), this.$backtolist.removeClass("is-hidden")) : (this.$backtoserp.show(), this.$backtolist.addClass("is-hidden")))
      },
      _onMapExpandedChanged: function (t) {
        this.model.selectedItem && (this.model.selectedItem.unselect(), e.history.clear("iai")), this.views.mapSearchbar && (t ? this.model.isDirectionsActive ? this.views.directionsSearch && this.views.directionsSearch.show() : this.views.mapSearchbar && this.views.mapSearchbar.show() : this.model.meta.requery || this.views.mapSearchbar.hide())
      },
      _onBackClick: function (t) {
        t.preventDefault(), t.stopPropagation(), e.pixel.fire("map_ebe"), w.history.back()
      },
      _onBackToListClick: function (t) {
        t.preventDefault(), t.stopPropagation(), this.model.selectedItem && (this.model.selectedItem.unselect(), e.history.clear("iai")), this.views.currentPlaceDetail && (this.views.currentPlaceDetail.destroy(), delete this.views.currentPlaceDetail), this.$detail.hide(), this.$resultscontainer.show(), this.$backtolist.addClass("is-hidden")
      },
      _onCloseMapClick: function (t) {
        t.preventDefault(), t.stopPropagation(), this.model.set("isMapExpanded", !1), this.model.engaged(), e.pixel.fire("map_ebe")
      },
      _onCloseDirectionsClick: function () {
        this.model.onMapStartAction()
      },
      _onDirectionsActiveChange: function (e) {
        this._toggleDirections()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "normal",
      s = "min";
    e.Views.Maps.MapSidebarMobile = function (i) {
      this.directionsModel = i.directionsModel, this.views = {}, t.call(this, i), this.bindEvents([
        [this.model, "change:sidebarPosition", this._onSidebarPositionChanged],
        [this.model, "requery-complete", this._onRequeryComplete],
        [this.model, "change:isMapExpanded", this._onMapExpandedChanged],
        [this.model, "change:isDirectionsActive", this._onDirectionsActiveChange]
      ]), this.searchHeaderOffset = Math.ceil(e.device.height - this.model.sidebarTranslateY), this.model.set("sidebarPosition", this.model.sidebarPosition || "normal")
    }, e.Views.Maps.MapSidebarMobile.prototype = $.extend({}, t.prototype, {
      template: "map_sidebar_mobile",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-vertical-map-sidebar-mobile", ["header", "header-content", "back", "close-directions", "toggle", "toggle-icon", "toggle-text"]), this._renderSearchHeader(), this.views.mapTypeSelect = new e.Views.Maps.MapTypeSelect({
          appendTo: $(".js-vertical-map"),
          model: this.model,
          showLabel: !1,
          small: !0
        }), e.userLocator.canShowPUL() && !e.device.isDesktop && (this.views.userLocBadge = new e.Views.UserLocation.UserLocationBadge({
          appendTo: $(".js-vertical-map-control-topleft"),
          $originEl: this.$el,
          onExpandedMap: !0
        })), this.bindEvents([
          [this.$back, "click", this._onBackClick],
          [this.$toggle, "click", this._onToggleClick],
          [this.$closedirections, "click", this._onCloseDirectionsClick]
        ])
      },
      _renderSearchHeader: function () {
        this.views.directionsSearch || (this.views.directionsSearch = new e.Views.Maps.DirectionsSearch({
          model: this.model,
          directionsModel: this.directionsModel,
          appendTo: this.$headercontent,
          showTransportType: !0,
          autoInit: !0
        })), this.views.mapSearchbar || (this.views.mapSearchbar = new e.Views.Maps.MapSearchbar({
          appendTo: this.$headercontent,
          isMobile: !0,
          isIPhone: e.device.isIPhone,
          model: this.model
        }), this.bindEvents([
          [this.views.mapSearchbar, "searchbar-focused", this._onSearchbarFocused]
        ])), this.model.isDirectionsActive ? (this.views.mapSearchbar.hide(), this.views.directionsSearch.show(), this.$closedirections.show()) : (this.views.directionsSearch.hide(), this.$closedirections.hide(), this.views.mapSearchbar.show())
      },
      _onSearchbarFocused: function () {
        var e = s;
        this.model.sidebarPosition !== e && this.model.set("sidebarPosition", e)
      },
      _onRequeryComplete: function () {
        var e = i;
        this.model.sidebarPosition !== e && this.model.set("sidebarPosition", e)
      },
      _onSidebarPositionChanged: function () {
        var e, t = "Place" !== this.model.answerItemModel || 1 === this.model.items.length || this.model.selectedItem,
          i = "normal" === this.model.sidebarPosition;
        e = i ? lp("mobile expanded map", "Expand Map") : t ? lp("mobile expanded map", "Show Detail") : lp("mobile expanded map", "Show List"), this.$toggletext.text(e), this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--map", i), this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--list", !i)
      },
      _onBackClick: function (t) {
        t.preventDefault(), t.stopPropagation(), e.pixel.fire("map_ebe"), w.history.back()
      },
      _onMapExpandedChanged: function (t) {
        this.model.selectedItem && (this.model.selectedItem.unselect(), e.history.clear("iai")), this.views.mapSearchbar && (t ? this.model.isDirectionsActive ? this.views.directionsSearch && this.views.directionsSearch.show() : this.views.mapSearchbar && this.views.mapSearchbar.show() : this.model.meta.requery || this.views.mapSearchbar.hide())
      },
      _onToggleClick: function (t) {
        var i = "min" === this.model.sidebarPosition ? "normal" : "min";
        this.model.set("sidebarPosition", i), e.pixel.fire("map_est")
      },
      _onCloseDirectionsClick: function () {
        this.model.set("isDirectionsActive", !1)
      },
      _onDirectionsActiveChange: function () {
        this._renderSearchHeader()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "map-sidebar-footer";

    function s(e) {
      var t = !("Place" === e.answerItemModel && e.selectedItem || "Directions" === e.answerItemModel || e.isDirectionsActive || !(e.hasNoResults || e.hasExampleSearches || e.isMoreAtVisible));
      return e.hasExternalDirectionsProvider && (t = !0), t
    }
    e.Views.Maps.MapSidebarFooter = function (i) {
      this._ops = i, t.call(this, this._ops), this.footerModel = new e.Models.Footer, this.bindEvents([
        [this.model, "change:sidebarLayout", this._onSidebarLayoutChanged],
        [this.model, "change:selectedItem", this._onSelectedItemChanged],
        [this.model, "change:items", this._onItemsChanged],
        [this.model, "change:hasExampleSearches", this._onHasExampleSearchesChange],
        [this.model, "change:hasNoResults", this._onHasNoResultsChange],
        [this.model, "change:isMoreAtVisible", this._onIsMoreAtVisibleChange],
        [this.model, "change:hasExternalDirectionsProvider", this._onHasExternalDirectionsProviderChange]
      ])
    }, e.Views.Maps.MapSidebarFooter.prototype = $.extend({}, t.prototype, {
      template: "map_sidebar_footer",
      _render: function () {
        this._ops = $.extend({}, this._ops, {
          offsetted: s(this.model)
        }), t.prototype._render.call(this, this._ops), this._createFeedbackPrompt()
      },
      _onItemsChanged: function () {
        this._createFeedbackPrompt()
      },
      _onSelectedItemChanged: function (e) {
        this.$el.toggleClass(i + "--offsetted", s(this.model)), this._createFeedbackPrompt()
      },
      _onSidebarLayoutChanged: function () {
        this._rerender()
      },
      _onHasExampleSearchesChange: function () {
        this.$el.toggleClass(i + "--offsetted", s(this.model))
      },
      _onIsMoreAtVisibleChange: function () {
        this.$el.toggleClass(i + "--offsetted", s(this.model))
      },
      _onHasExternalDirectionsProviderChange: function () {
        this._rerender()
      },
      _onHasNoResultsChange: function () {
        this.$el.toggleClass(i + "--offsetted", s(this.model)), this._createFeedbackPrompt()
      },
      _createFeedbackPrompt: function () {
        if (e.device.isEnglish) {
          var t = this.model.getFeedbackCategory(),
            i = {
              category: t,
              categoryName: this.model.getCurrentItemName(),
              categoryValue: t,
              sourceName: this.model.sourceName,
              promptText: lp("feedback form", "Share Feedback"),
              appendTo: this.$el,
              showYesNo: !1,
              showOnMap: !0,
              showOnMobile: !0,
              subtitleText: lp("feedback form", "Share feedback on your search results."),
              asButton: !1
            };
          this.views.feedback && this.views.feedback.destroy(), this.views.feedback = new e.Views.Feedback.FeedbackPrompt(i)
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.MapTypeSelect = function (e) {
      this._ops = e || {}, t.call(this, this._ops)
    }, e.Views.Maps.MapTypeSelect.prototype = $.extend({}, t.prototype, {
      template: "map_type_select",
      _render: function () {
        t.prototype._render.call(this, this._ops), this._cacheElems(".js-map-type-select", ["label"]), this.bindEvents([
          [this.$el, "click", this._onMapTypeClick]
        ])
      },
      _onMapTypeClick: function () {
        var e = "map-type-select--satellite",
          t = "map-type-select--map";
        this.model.mapType && this.model.mapType !== w.mapkit.Map.MapTypes.Standard ? (this.model.set("mapType", w.mapkit.Map.MapTypes.Standard), this.$el.addClass(e), this.$el.removeClass(t), this.$label.html("Satellite")) : (this.model.set("mapType", w.mapkit.Map.MapTypes.Hybrid), this.$el.addClass(t), this.$el.removeClass(e), this.$label.html("Map"))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.NoMapResults = function (e) {
      this.vertical = e.vertical || "web", this.resultType = e.resultType || l("Results"), this.query = e.query || rqd, this.model = e.model, t.call(this, e)
    }, e.Views.NoMapResults.prototype = $.extend({}, t.prototype, {
      template: "no_map_results",
      destroy: function () {
        t.prototype.destroy.call(this), this.model.set("hasNoResults", !1)
      },
      show: function () {
        this.$el.removeClass("is-hidden"), this.model.set("hasNoResults", !0)
      },
      hide: function () {
        this.$el.addClass("is-hidden"), this.model.set("hasNoResults", !1)
      },
      updateQuery: function (e) {
        this.query = e, this._rerender()
      },
      _render: function () {
        var i = !e.deep.bn || e.deep.bn.ivc ? 1 : 0,
          s = "?q=" + encodeURIComponent(this.query) + "&ia=web" + (w.kurl ? w.kurl : "");
        t.prototype._render.call(this, {
          query: e.Utils.Strings.decodeQueryAndStripHTML(this.query),
          resultType: this.resultType.toLowerCase(),
          webSearchUrl: s
        }), this._cacheElems(".js-no-map-results", ["web-search"]), this._pixelData = {
          r: 0,
          i506: e.deep.is506 ? 1 : 0,
          ivc: i,
          irt: e.history.get("norrc") ? 1 : 0,
          v: this.vertical
        }, e.pixel.fire("nor", this._pixelData), this.bindEvents([
          [this.$websearch, "click", this._onWebClick]
        ]), this.model.set("hasNoResults", !0)
      },
      _onWebClick: function (t) {
        e.pixel.fire("norwc", this._pixelData)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.ExampleSearches = function (e) {
      this.answer = e.answer, t.call(this, e)
    }, e.Views.Maps.ExampleSearches.prototype = $.extend({}, t.prototype, {
      template: "map_example_searches",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      destroy: function () {
        t.prototype.destroy.call(this), this.answer.set("hasExampleSearches", !1)
      },
      _render: function () {
        this.categories = [{
          query: "Restaurants",
          iconUrl: "restaurants.svg"
        }, {
          query: "Banks",
          iconUrl: "banks.svg"
        }, {
          query: "Hotels",
          iconUrl: "hotels.svg"
        }, {
          query: "Parking",
          iconUrl: "parking.svg"
        }, {
          query: "Bars",
          iconUrl: "bars.svg"
        }, {
          query: "Coffee",
          iconUrl: "coffee.svg"
        }, {
          query: "Groceries",
          iconUrl: "groceries.svg"
        }, {
          query: "Parks",
          iconUrl: "parks.svg"
        }];
        var e = this.answer.meta.requery ? encodeURIComponent(this.answer.meta.requery) : this.answer.queryEncoded;
        this.webSearchUrl = "?q=" + e + "&ia=web" + (w.kurl ? w.kurl : ""), t.prototype._render.call(this, $.extend(this.model, {
          categories: this.categories,
          webSearchUrl: this.webSearchUrl
        })), this._cacheElems(".js-example-search", ["button"]), this.bindEvents([
          [this.$button, "click", this._onButtonClick.bind(this)]
        ]), this.answer.set("hasExampleSearches", !0)
      },
      _onButtonClick: function (t) {
        t.preventDefault();
        var i = $(t.currentTarget).data("category");
        e.duckbar.tabs.maps_expanded && e.duckbar.tabs.maps_expanded.expandedMap && (e.duckbar.tabs.maps_expanded.expandedMap.onRequeryAction({
          query: i,
          strict_bbox: "1",
          shouldMapViewportUpdate: !1
        }), this.answer.set("isSearchAreaBtnVisible", !1))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsButton = function (i) {
      this.answer = i.answer, this.loc = i.loc, this.isAddress = i.isAddress, i.showDirectionsIcon = "Place" === this.answer.answerItemModel || "Places" === this.answer.answerType, t.call(this, i), this._updateLinkURL(), this.bindEvents([
        [e.directionSource, "change:selected", this._updateLinkURL]
      ])
    }, e.Views.Maps.DirectionsButton.prototype = $.extend({}, t.prototype, {
      template: "directions_button",
      changeVerticalPos: function (e) {
        return this.views.directions && this.views.directions.changeVerticalPos(e)
      },
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-dir-btn", ["link", "text"]), this.bindEvents([
          [this.$link, "click", this._onLinkClicked]
        ]), e.device.isAppleDevice || (this.views.directions = new e.Views.Dropdowns.DirectionDropdown({
          appendTo: "Places" === this.answer.answerType || "Place" === this.answer.answerItemModel ? this.$text : this.$el,
          loc: this.loc,
          answer: this.answer
        }))
      },
      _updateLinkURL: function () {
        var t = e.directionSource.getDirectionsURL(this.loc);
        this.$link.attr("href", t), this.$link.data("wrapped", ""), this.$link.off("click.wrap"), this._wrapLinks()
      },
      _onLinkClicked: function () {
        this.answer && (e.pixel.fire("iadrc", this.answer.pixelId, e.directionSource.selected.id), this.answer.clickedExternalLink(), this.answer.engaged())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsSearch = function (e) {
      this.directionsModel = e.directionsModel, this.showTransportType = !!e.showTransportType, this.autoInit = !!e.autoInit, t.call(this, e), this.bindEvents([
        [this.directionsModel, "change:currentTransportType", this._onTransportTypeChange],
        [this.directionsModel, "change:userLocation", this._onUserLocationChange]
      ])
    }, e.Views.Maps.DirectionsSearch.prototype = $.extend({}, t.prototype, {
      template: "directions_search",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      blur: function () {},
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-directions-search", ["inputs", "drive", "walk"]), this.bindEvents([
          [this.$drive, "click", this._onDriveClick],
          [this.$walk, "click", this._onWalkClick]
        ]), this.model.isMapExpanded && this.bindEvents([
          [this.$el, "submit", this._onSubmit]
        ]), this.views.mapSearchbarStart = this.views.mapSearchbarStart || new e.Views.Maps.MapSearchbar({
          appendTo: this.$inputs,
          model: this.model,
          directionsModel: this.directionsModel,
          directionsType: "start",
          initValue: this.directionsModel.startDisplay ? this.directionsModel.startDisplay : ""
        }), this.views.mapSearchbarEnd = this.views.mapSearchbarEnd || new e.Views.Maps.MapSearchbar({
          appendTo: this.$inputs,
          model: this.model,
          directionsModel: this.directionsModel,
          directionsType: "end",
          initValue: this.directionsModel.endDisplay ? this.directionsModel.endDisplay : ""
        }), this.views.mapSearchbarStart.autocomplete.on("requery-submit", function (t) {
          t && t.event && t.event.preventDefault(), this.directionsModel.addLocation({
            type: "start",
            what: t.suggestion.what,
            where: t.suggestion.where
          }), this.directionsModel.set("startDisplay", t.suggestion.what + " " + t.suggestion.where), this.autoInit && this.directionsModel.onDirectionsAction(), e.pixel.fire("dir_chg", e.history.get("iaxm") ? "iaxm" : "ia")
        }.bind(this)), this.views.mapSearchbarEnd.autocomplete.on("requery-submit", function (t) {
          t && t.event && t.event.preventDefault(), this.directionsModel.addLocation({
            type: "end",
            what: t.suggestion.what,
            where: t.suggestion.where
          }), this.directionsModel.set("endDisplay", t.suggestion.what + " " + t.suggestion.where), this.autoInit && this.directionsModel.onDirectionsAction(), e.pixel.fire("dir_chg", e.history.get("iaxm") ? "iaxm" : "ia")
        }.bind(this)), this.directionsModel.canRoute && this.model.isMapExpanded && this.directionsModel.onDirectionsAction({
          noRouting: !0
        })
      },
      _onSubmit: function (t) {
        t.preventDefault(), e.pixel.fire("dir_rq");
        try {
          var i = {};
          i.start = this.views.mapSearchbarStart.getCurrentValue(), i.end = this.views.mapSearchbarEnd.getCurrentValue(), this.views.mapSearchbarStart.autocomplete.hide(), this.views.mapSearchbarEnd.autocomplete.hide(), this.views.mapSearchbarStart.autocomplete.model.clearData(), this.views.mapSearchbarEnd.autocomplete.model.clearData(), ["start", "end"].forEach(function (e) {
            i[e] !== this.directionsModel[e + "Display"] && (this.directionsModel.set("start" === e ? "isStartUpdating" : "isEndUpdating", !0), this.directionsModel.autocompleteLocation({
              loc: i[e],
              type: e,
              callbackFn: function () {
                this.set("isStartUpdating", !1), this.set("start" === e ? "isStartUpdating" : "isEndUpdating", !1)
              }.bind(this.directionsModel)
            }))
          }.bind(this))
        } catch (t) {}
      },
      _onDriveClick: function () {
        this.directionsModel.onDirectionsAction({
          transport: "drive"
        })
      },
      _onWalkClick: function () {
        this.directionsModel.onDirectionsAction({
          transport: "walk"
        })
      },
      _onTransportTypeChange: function (t) {
        e.pixel.fire("dir_tpt", t.id), this.$drive.toggleClass("is-selected", "drive" === t.id), this.$walk.toggleClass("is-selected", "walk" === t.id)
      },
      _onUserLocationChange: function (e) {
        !this.directionsModel.canRoute && e.lat && e.lon && (this.directionsModel.start && !this.directionsModel.end ? this.directionsModel.addLocation({
          type: "end",
          coordinate: {
            lat: e.lat,
            lon: e.lon
          }
        }) : this.directionsModel.end && !this.directionsModel.start && this.directionsModel.addLocation({
          type: "start",
          coordinate: {
            lat: e.lat,
            lon: e.lon
          }
        }), this.model.isDirectionsActive && this.directionsModel.canRoute && this.directionsModel.onDirectionsAction())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsResults = function (e) {
      this.answer = e.answer, this.routeViewList = [], this.map = e.map, this.bindEvents([
        [e.model, "change:routeList", this._onRouteListChange],
        [e.model, "change:isRouting", this._onIsRoutingChange],
        [this.answer, "change:hasExternalDirectionsProvider", this._onHasExternalDirectionsProviderChange],
        [this.answer, "change:isDirectionsActive", this._onIsDirectionsActiveChange]
      ]), t.call(this, e)
    }, e.Views.Maps.DirectionsResults.prototype = $.extend({}, t.prototype, {
      template: "directions_results",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-directions-results", ["initial-message", "external-provider"]), this.bindEvents([
          [this.$externalprovider, "click", this._onExternalProviderClick]
        ]), this.views.skeletonLoader = this.views.skeletonLoader || new e.Views.Maps.DirectionsSkeletonLoader({
          model: this.model,
          prependTo: this.$el
        }), this.model.routeList && this.model.routeList.length > 0 ? this._showRoutes() : this.model.canRoute && this.model.route()
      },
      _updateAnnotations: function () {
        this.map && (this.map.clearMap(), this.model.coordStart && (this.startAnnotation = this.map.addImageAnnotation(this.model.coordStart.latitude, this.model.coordStart.longitude, "/assets/maps/directions-start.svg")), this.model.coordEnd && (this.map.addImageAnnotation(this.model.coordEnd.latitude, this.model.coordEnd.longitude, "/assets/maps/directions-end.svg"), this.map.addImageAnnotation(this.model.coordEnd.latitude, this.model.coordEnd.longitude, "/assets/maps/marker-light-default-active.svg")))
      },
      _showRoutes: function () {
        this._updateAnnotations(), this.model.routeList.length > 0 ? (this.views.noResults && this.views.noResults.hide(), this.$initialmessage.hide(), this.model.routeList[0].isSelected = !0, this.model.routeList.reverse(), this.routeViewList = this.model.routeList.map(function (t, i) {
          return new e.Views.Maps.DirectionsRoute({
            model: t,
            directionsModel: this.model,
            answer: this.answer,
            map: this.map.views.map,
            prependTo: this.$el
          })
        }.bind(this)), this._updateExternalMapProvider()) : this.model.canRoute ? (this.$initialmessage.hide(), this.views.noResults = this.views.noResults || new e.Views.Maps.NoDirectionsResults({
          prependTo: this.$el
        }), this.views.noResults.show()) : this.$initialmessage.show()
      },
      _updateExternalMapProvider: function () {
        if (this.model.externalMapProvider) {
          this.$externalprovider.removeClass("is-hidden");
          var t, i = this.model.end.where || this.model.endDisplay || this.model.end.what;
          t = this.model.startDisplay === lp("directions", "Your Location") ? e.getProperty(this.model, "start.coordinate.lat") + "," + e.getProperty(this.model, "start.coordinate.lon") : this.model.start.where || this.model.startDisplay || this.model.start.what, "apple" === this.model.externalMapProvider ? this.$externalprovider.find("a").attr("href", "https://maps.apple.com/?saddr=" + t + "&daddr=" + i) : "google" === this.model.externalMapProvider && this.$externalprovider.find("a").attr("href", "geo:?q=" + i)
        }
      },
      _onRouteListChange: function (t) {
        this._showRoutes(), t && t.length > 0 && this._updateExternalMapProvider(), this.answer.set("hasExternalDirectionsProvider", t && t.length > 0 && !!e.device.isMobileDevice)
      },
      _onIsRoutingChange: function (t) {
        t ? (this.routeViewList && this.routeViewList.forEach((function (e) {
          e.destroy()
        })), this.$initialmessage.hide(), this.views.skeletonLoader.show(), this.views.noResults && this.views.noResults.hide(), this.answer.set("hasExternalDirectionsProvider", !1)) : (this.views.skeletonLoader.hide(), this.answer.set("hasExternalDirectionsProvider", !!e.device.isMobileDevice))
      },
      _onHasExternalDirectionsProviderChange: function () {
        this.$externalprovider.toggle(this.hasExternalDirectionsProvider)
      },
      _onIsDirectionsActiveChange: function (e) {
        this.startAnnotation && (this.startAnnotation.visible = !!e)
      },
      _onExternalProviderClick: function () {
        e.pixel.fire("dir_ext", this.model.externalMapProvider)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsRoute = function (e) {
      this.directionsModel = e.directionsModel, this.answer = e.answer, this.map = e.map, t.call(this, e), this.bindEvents([
        [this.directionsModel, "change:isMapLoaded", this._onIsMapLoadedChange]
      ])
    }, e.Views.Maps.DirectionsRoute.prototype = $.extend({}, t.prototype, {
      template: "directions_route",
      _render: function () {
        t.prototype._render.call(this, this.model), this.bindEvents([
          [".js-directions-route", "click", this._onClick]
        ]), this.views.directionsRouteOverview = new e.Views.Maps.DirectionsRouteOverview({
          model: this.model,
          directionsModel: this.directionsModel,
          appendTo: this.$el
        }), this.views.directionsRouteSteps = new e.Views.Maps.DirectionsRouteStepList({
          model: this.model,
          directionsModel: this.directionsModel,
          appendTo: this.$el
        }), this.map ? this._renderRouteLine() : this._isWaitingForMap = !0
      },
      _renderRouteLine: function () {
        this.views.directionsRouteLine = new e.Views.Maps.DirectionsRouteLine({
          model: this.model,
          directionsModel: this.directionsModel,
          answer: this.answer,
          appendTo: this.$el,
          map: this.map
        })
      },
      _onIsMapLoadedChange: function (e) {
        this._isWaitingForMap && (this._renderRouteLine(), this._isWaitingForMap = !1)
      },
      _onClick: function (e) {}
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsRouteInfo = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "change:routeList", this._onRouteListChange],
        [this.model, "change:isRouting", this._onIsRoutingChange]
      ])
    }, e.Views.Maps.DirectionsRouteInfo.prototype = $.extend({}, t.prototype, {
      template: "directions_route_info",
      _render: function () {
        t.prototype._render.call(this, this.model)
      },
      _onIsRoutingChange: function (e) {
        this.$el.toggle(!e)
      },
      _onRouteListChange: function () {
        this._rerender()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "#66abff",
      s = "#ddd",
      a = "#aaa",
      o = 8,
      n = 6,
      l = {
        top: 100,
        right: 100,
        bottom: 100,
        left: 100
      };
    e.Views.Maps.DirectionsRouteLine = function (e) {
      this.answer = e.answer, this.map = e.map, this.lineThickness = e.lineThickness, this.mapPadding = e.mapPadding, t.call(this, e), this.bindEvents([
        [this.model, "change:isSelected", this._onSelectedChange],
        [this.model.directionsModel, "change:isRouting", this._onIsRoutingChange],
        [this.answer, "change:mapType", this._onMapTypeChange],
        [this.answer, "change:isDirectionsActive", this._onIsDirectionsActiveChange]
      ])
    }, e.Views.Maps.DirectionsRouteLine.prototype = $.extend({}, t.prototype, {
      template: "directions_route_line",
      _render: function () {
        t.prototype._render.call(this, this.model), this.model.polyline || (this.model.polyline = {}, this.model.polyline.points = [], this.model.path.forEach(function (e) {
          e.forEach(function (e) {
            this.model.polyline.points.push(new w.mapkit.Coordinate(e.lat, e.lng))
          }.bind(this))
        }.bind(this))), this.polyline = new w.mapkit.PolylineOverlay(this.model.polyline.points), this._style(), this.polyline.addEventListener("select", this._onPolylineSelect.bind(this)), this.map.addOverlay(this.polyline), this.map.showItems(this.polyline, {
          padding: new w.mapkit.Padding(this.mapPadding || l)
        })
      },
      destroy: function () {
        DDG.history.get("iaxm") && "directions" === this.answer.id || (t.prototype.destroy.call(this), this.map.removeOverlays(this.map.overlays))
      },
      _style: function () {
        this.polyline.selected = !!this.model.isSelected, this.polyline.style.lineWidth = this.lineThickness || (this.model.isSelected ? o : n), this.polyline.style.strokeColor = this._getColor(), this.polyline.style.strokeOpacity = .5
      },
      _getColor: function () {
        return this.model.isSelected ? i : this.answer.mapType && "hybrid" === this.answer.mapType ? s : a
      },
      _onSelectedChange: function () {
        this._style()
      },
      _onPolylineSelect: function () {
        this.model.directionsModel.selectRoute(this.model.name)
      },
      _onIsRoutingChange: function () {
        DDG.history.get("iaxm") && "directions" === this.answer.id || (this.polyline.visible = !1)
      },
      _onMapTypeChange: function () {
        this.model.isSelected || (this.polyline.style.strokeColor = this._getColor())
      },
      _onIsDirectionsActiveChange: function (e) {
        this.polyline && (this.polyline.visible = !!e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsRouteOverview = function (e) {
      this.directionsModel = e.directionsModel, t.call(this, e), this.bindEvents([
        [this.model, "change:isSelected", this._rerender]
      ])
    }, e.Views.Maps.DirectionsRouteOverview.prototype = $.extend({}, t.prototype, {
      template: "directions_route_overview",
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-directions-route-overview", ["toggle", "toggle-show", "toggle-hide", "print"]), this.bindEvents([
          [this.$el, "click", this._onClick],
          [this.$toggle, "click", this._onToggle],
          [this.$print, "click", this._onPrintClick]
        ]), this.directionsModel && this.directionsModel.routeList && 1 === this.directionsModel.routeList.length && this._toggleStepsCTA()
      },
      _toggleStepsCTA: function () {
        this.$toggleshow.toggleClass("is-hidden"), this.$togglehide.toggleClass("is-hidden")
      },
      _onClick: function (e) {
        this.directionsModel.selectRoute(this.model.name)
      },
      _onToggle: function (t) {
        t.stopPropagation(), this.directionsModel.toggleRoute(this.model.name), this._toggleStepsCTA(), e.pixel.fire("dir_stp")
      },
      _onPrintClick: function (t) {
        t.stopPropagation(), this.views.modal || (this.views.modal = new e.Views.Maps.DirectionsPrintPreview({
          model: this.model,
          appendTo: "body"
        })), this.views.modal.show(), e.pixel.fire("dir_pr")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsRouteStepList = function (e) {
      this.isPrintPreview = e.isPrintPreview, t.call(this, e), this.bindEvents([
        [this.model, "change:isExpanded", this._onRouteExpandedChange]
      ])
    }, e.Views.Maps.DirectionsRouteStepList.prototype = $.extend({}, t.prototype, {
      template: "directions_route_step_list",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-directions-route-step-list", ["container"]), this.views.steps = this.model.steps.map(function (t) {
          return new e.Views.Maps.DirectionsRouteStep({
            model: new e.Models.Maps.DirectionsRouteStep(t),
            appendTo: this.$container,
            isPrintPreview: this.isPrintPreview
          })
        }.bind(this))
      },
      _onRouteExpandedChange: function (e) {
        this.isPrintPreview || (e ? this.show() : this.hide())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsRouteStep = function (e) {
      this.isPrintPreview = e.isPrintPreview, t.call(this, e), this.bindEvents([
        [this.model, "change:route", this._rerender]
      ])
    }, e.Views.Maps.DirectionsRouteStep.prototype = $.extend({}, t.prototype, {
      template: "directions_route_step",
      _render: function () {
        this.isPrintPreview && (this.model.imageUrl = this.model.imageUrl.replace("arrowFill=cccccc", "arrowFill=000000")), t.prototype._render.call(this, this.model), this.bindEvents([
          [".js-directions-route-step", "click", this._onClick]
        ])
      },
      _onClick: function (e) {}
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.NoDirectionsResults = function (e) {
      t.call(this, e)
    }, e.Views.Maps.NoDirectionsResults.prototype = $.extend({}, t.prototype, {
      template: "no_directions_results",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        var e = "?q=" + w.rq + "&ia=web" + (w.kurl ? w.kurl : "");
        t.prototype._render.call(this, {
          webSearchUrl: e
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsSkeletonLoader = function (e) {
      e.model.loadItems = [{}, {}, {}], t.call(this, e)
    }, e.Views.Maps.DirectionsSkeletonLoader.prototype = $.extend({}, t.prototype, {
      template: "directions_skeleton_loader",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        t.prototype._render.call(this, this.model)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modal;
    e.Views.Maps.DirectionsPrintPreview = function (e) {
      t.call(this, e)
    }, e.Views.Maps.DirectionsPrintPreview.prototype = $.extend({}, t.prototype, {
      template: "directions_print_preview",
      show: function () {
        t.prototype.show.call(this), this.model.directionsModel.set("isPrintPreviewOpen", !0), this.originalTitle = document.title;
        var e = this.model.directionsModel.startDisplay || this.model.directionsModel.start.what,
          i = this.model.directionsModel.endDisplay || this.model.directionsModel.end.what;
        document.title = e + " → " + i
      },
      hide: function () {
        t.prototype.hide.call(this), this.model.directionsModel.set("isPrintPreviewOpen", !1), this.originalTitle && (document.title = this.originalTitle, this.originalTitle = null)
      },
      _render: function (e) {
        e.start = this.model.directionsModel.start.what || this.model.directionsModel.startDisplay, e.end = this.model.directionsModel.end.what || this.model.directionsModel.endDisplay, t.prototype._render.call(this, e), this._cacheElems(".js-directions-print-preview", ["cta", "body", "map", "steps"]), this.$body.css("height", $(window).height() - 200), this.bindEvents([
          [this.$cta, "click", this._onCtaClicked]
        ]), this._fetchStaticMap(), this._renderSteps()
      },
      _fetchStaticMap: function () {
        var t = this.model.polyline.points.map((function (e) {
            return [e.latitude, e.longitude]
          })),
          i = e.mapkit.getStaticDirectionsURL(t, {
            width: 780,
            height: 326,
            colorScheme: "light"
          }),
          s = document.createElement("img");
        s.addEventListener("load", this._onMapLoaded.bind(this)), s.src = i, this.$map.find("img").remove(), this.$map.append(s)
      },
      _renderSteps: function () {
        this.views.routeSteps = this.views.routeSteps || new e.Views.Maps.DirectionsRouteStepList({
          model: this.model,
          appendTo: this.$steps,
          isPrintPreview: !0
        }), this.views.routeSteps.show()
      },
      _onCtaClicked: function () {
        this._isMapLoaded && window.print()
      },
      _onMapLoaded: function () {
        this.$cta.addClass("btn--primary"), this._isMapLoaded = !0
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Maps.DirectionsPrintErrorMessage = function (e) {
      this.answer = e.answer, t.call(this, e), this.bindEvents([
        [this.model, "change:isPrintPreviewOpen", this._onPrintPreviewOpenChange],
        [this.answer, "change:isMapExpanded", this._onMapExpandedChange]
      ])
    }, e.Views.Maps.DirectionsPrintErrorMessage.prototype = $.extend({}, t.prototype, {
      template: "directions_print_error_message",
      show: function () {
        this.$el.removeClass("is-hidden")
      },
      hide: function () {
        this.$el.addClass("is-hidden")
      },
      _render: function () {
        t.prototype._render.call(this, this.model), this.show()
      },
      _onPrintPreviewOpenChange: function (e) {
        e ? this.hide() : this.show()
      },
      _onMapExpandedChange: function (e) {
        e ? this.show() : this.hide()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlacesSingle = function (i) {
      this.answer = i.model, this.model = this.answer.primaryPlace, t.call(this, {
        model: this.model,
        appendTo: i.appendTo
      }), this.bindEvents([
        [e.settings, "change:kam", this._onDirectionSourceUpdated]
      ])
    }, e.Views.Places.PlacesSingle.prototype = $.extend({}, t.prototype, {
      template: "places_single",
      _onDirectionSourceUpdated: function () {
        var t = e.directionSource.getMapURL(this.model);
        this.model.set("mapURL", t), this.model.set("directionsTitle", this.model.getDirectionsTitle()), this._rerender(this.model)
      },
      _render: function () {
        t.prototype._render.call(this, this.model);
        var i = {
          model: this.model,
          answer: this.answer,
          appendTo: this.$el
        };
        this.views.header = new e.Views.Places.PlaceHeader(i), this.views.detail = new e.Views.Places.PlaceDetail(i)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlacesSingleMap = function (e) {
      this._ops = e || {}, this.answer = e.answer, this.model = e.model, "applemaps" === this.model.sourceId && "START" === this.model.embedLoading && (this._ops.showPlaceholder = !0), t.call(this, this._ops), this.bindEvents([
        [this.model, "change:embedLoading", this._onEmbedLoadingChange]
      ])
    }, e.Views.Places.PlacesSingleMap.prototype = $.extend({}, t.prototype, {
      template: "places_single_map",
      show: function () {
        this.$el.show()
      },
      hide: function () {
        this.$el.hide()
      },
      _render: function () {
        t.prototype._render.call(this, $.extend({}, this.model, this._ops));
        var i = {
          model: this.model,
          answer: this.answer,
          appendTo: this.$el
        };
        (this.model.thumbnails || this.model.image) && (this.views.header = new e.Views.ModuleImageHeader(i)), this.views.detail = new e.Views.Places.PlaceDetail(i)
      },
      _onEmbedLoadingChange: function () {
        "DONE" === this.model.embedLoading && (this._ops.showPlaceholder = !1, this._rerender())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlacesMultiple = function (i) {
      i.isMobile = e.device.isMobile, t.call(this, i)
    }, e.Views.Places.PlacesMultiple.prototype = $.extend({}, t.prototype, {
      template: "places_multiple",
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-places-multiple", ["map", "list", "expand", "top-right", "top-left"]), this.bindEvents([
          [this.$map, "click", this._onMapClick.bind(this)],
          [this.$expand, "click", this._onMapClick.bind(this)]
        ]), this.model.glMapModel = new e.Models.GLMap({
          locations: this.model.items,
          pixelId: this.model.pixelId
        }), this.views.placeListItems = this.model.topPlaces.map(function (t) {
          return new e.Views.Places.PlaceListItem({
            appendTo: this.$list,
            model: t,
            answer: this.model
          })
        }.bind(this)), setTimeout(function () {
          this.views.map = new e.Views.Mapkit.StaticMap({
            markers: this.model.itemsOnMap,
            appendTo: this.$map,
            width: this.$map.outerWidth(),
            height: this.$map.outerHeight(),
            showCTA: !0,
            answer: this.model
          });
          var t = !!this.$el.closest(".js-results-sidebar").length;
          e.userLocator.canShowPUL() && (e.device.isMobile || e.device.isMobileDevice ? this.views.locationTile = new e.Views.UserLocation.UserLocationBadge({
            appendTo: this.$topleft,
            $originEl: this.$el,
            isProximityQuery: this.model.proximity
          }) : e.device.isDesktop && (this.views.locationTile = new e.Views.UserLocation.UserLocationTile({
            appendTo: this.$topright,
            answer: this.model,
            position: t ? "below-right" : "below",
            constrainChildren: t,
            $originEl: this.$el
          })))
        }.bind(this), 0)
      },
      _onMapClick: function (t) {
        t.preventDefault(), e.router.navigate("toggle-map", {
          model: this.model,
          isMapExpanded: !0
        }), this.model.fire("iacg"), e.pixel.fire("map_se")
      },
      _onExternalLinkClick: function (e) {
        this.model.engaged()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlaceHeader = function (e) {
      this._ops = e || {}, this.answer = e.answer, t.call(this, this._ops), this.bindEvents([
        [this.model, "change:image", this._onImageLoaded]
      ])
    }, e.Views.Places.PlaceHeader.prototype = $.extend({}, t.prototype, {
      template: "place_header",
      _render: function () {
        t.prototype._render.call(this, $.extend(this._ops || {}, this.model)), this._cacheElems(".js-place-header", ["map"]), this.bindEvents([
          [this.$el, "click", this._onClick],
          [this.$map, "click", this._onMapClick.bind(this)]
        ]), setTimeout(function () {
          this.views.map = new e.Views.Mapkit.StaticMap({
            markers: [this.model],
            width: this.$map.outerWidth(),
            height: this.$map.outerHeight(),
            url: this.model.directions,
            appendTo: this.$map,
            showCTA: !0,
            answer: this.answer
          })
        }.bind(this), 0)
      },
      _onClick: function (e) {
        e.stopPropagation(), this.answer.engaged()
      },
      _onMapClick: function (t) {
        t.preventDefault(), e.router.navigate("toggle-map", {
          model: this.answer,
          directionsModel: this.answer.directionsModel,
          isMapExpanded: !0
        }), this.answer.fire("iacg")
      },
      _onExternalLinkClick: function (e) {
        this.answer.engaged(), this.answer.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _onImageLoaded: function () {
        this._ops.isScrapedImage = !0, this._rerender()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlaceDetail = function (e) {
      this.answer = e.answer, this._ops = e || {}, t.call(this, this._ops), this.bindEvents([
        [this.model, "change:reviews", this._onReviewsUpdate],
        [this.model, "change:hoursExpanded", this._onHoursExpandedChange],
        [this.model, "change:embedLoading", this._onEmbedLoadingChange]
      ])
    }, e.Views.Places.PlaceDetail.prototype = $.extend({}, t.prototype, {
      template: "place_detail",
      _render: function () {
        this.model.isMapExpanded = this.answer.isMapExpanded, this._ops.showSubtitlePlaceholder = "START" === this.model.embedLoading, t.prototype._render.call(this, $.extend({}, this.model, this._ops)), this._cacheElems(".js-place-detail", ["hours", "hours-toggle", "hours-toggle-icon", "phone", "title", "review-count", "website", "directions", "map", "call", "tab-nav", "tab-content"]), this.bindEvents([
          [this.$hourstoggle, "click", this._onHoursToggleClick.bind(this)],
          [this.$phone, "click", this._onPhoneClick.bind(this)],
          [this.$map, "click", this._onMapClick.bind(this)],
          [this.$website, "click", this._onWebsiteClick.bind(this)],
          [this.$call, "click", this._onCallClick.bind(this)],
          [this.$tabnav, "click", this._onTabNavClick.bind(this)],
          [this.model, "change:expanded", this._rerender]
        ]), this.bindEvents([
          [this.$directions, "click", this._onDirectionsClick]
        ]);
        var i = e.duckbar.tabs.maps_expanded,
          s = i && i.expandedMap && i.expandedMap.model,
          a = s && s.directionsModel;
        this.answer.directionsModel = this.answer.directionsModel || a || new e.Models.Maps.Directions({
          geoip: this.answer.geoip
        }), this.views.placeHours = new e.Views.Places.PlaceHours({
          model: this.model,
          appendTo: this.$hours
        }), this.answer.isMapExpanded && this.$reviewcount.find("a").attr({
          target: "_blank",
          rel: "noopener"
        })
      },
      _rerender: function () {
        this.views.directions && (this.views.directions.destroy(), delete this.views.directions), t.prototype._rerender.call(this)
      },
      _openDirections: function () {
        this.answer.directionsModel.addLocation({
          type: "end",
          what: this.model.name,
          where: this.model.address
        }), this.answer.directionsModel.set("endDisplay", this.model.name), this.answer.directionsModel.userLocation && (this.answer.directionsModel.addLocation({
          type: "start",
          coordinate: {
            lat: this.answer.directionsModel.userLocation.lat,
            lon: this.answer.directionsModel.userLocation.lon
          }
        }), this.answer.directionsModel.set("startDisplay", "Your Location")), this.answer.isMapExpanded ? (this.answer.set("isDirectionsActive", !0), this.answer.directionsModel.onDirectionsAction()) : e.router.navigate("toggle-map", {
          model: this.answer,
          directionsModel: this.answer.directionsModel,
          isMapExpanded: !0,
          isDirections: !0
        })
      },
      _onMapClick: function (t) {
        t.stopPropagation(), e.router.navigate("toggle-map", {
          model: this.answer,
          isMapExpanded: !0,
          directionsModel: this.answer.directionsModel
        }), e.pixel.fire("map_cta", "btn")
      },
      _onDirectionsClick: function () {
        e.pixel.fire("dir_loc"), this._openDirections()
      },
      _onWebsiteClick: function () {
        e.pixel.fire("iawbs")
      },
      _onCallClick: function () {
        e.pixel.fire("iatel", "btn")
      },
      _onTabNavClick: function (t) {
        t.preventDefault(), this.activeTabId = $(t.target).data().tabNav, this.$tabnav.each(function (e, t) {
          var i = $(t).data().tabNav;
          $(t).toggleClass("is-active", i === this.activeTabId)
        }.bind(this)), this.$tabcontent.each(function (e, t) {
          var i = $(t).data().tabContent;
          $(t).toggleClass("is-hidden", i !== this.activeTabId)
        }.bind(this)), e.pixel.fire("iatab")
      },
      _onHoursToggleClick: function (t) {
        t.preventDefault(), this.model.toggleHoursExpand(), this.answer.engaged(), e.pixel.fire("iahrs")
      },
      _onHoursExpandedChange: function () {
        this.$hourstoggleicon.toggleClass("ddgsi-down", !this.model.hoursExpanded), this.$hourstoggleicon.toggleClass("ddgsi-up", this.model.hoursExpanded)
      },
      _onPhoneClick: function (t, i) {
        this.answer.engaged(), e.pixel.fire("iatel", "link")
      },
      _onReviewsUpdate: function () {
        this.model.reviewsURL = e.localAPI.getPlaceReviewsURL(this.model), this._rerender()
      },
      _onExternalLinkClick: function (e) {
        this.answer.clickedExternalLink(), this.answer.engaged(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _onEmbedLoadingChange: function () {
        this._rerender()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlaceListItem = function (e) {
      this._ops = e || {}, "applemaps" === e.model.sourceId && e.model.addressLines && e.model.addressLines.length > 1 && (this._ops.addressLine2 = this._ops.model.addressLines[1]), t.call(this, this._ops), this.answer = e.answer, this.bindEvents([
        [this.model, "change:selected", this._onSelectedChanged],
        [this.model, "change:image", this._onImageLoaded]
      ])
    }, e.Views.Places.PlaceListItem.prototype = $.extend({}, t.prototype, {
      template: "place_list_item",
      _render: function () {
        t.prototype._render.call(this, $.extend({}, this._ops, this.model)), this._cacheElems(".js-place-list-item", ["title"]), this.bindEvents([
          [this.$el, "click", this._onClick],
          [this.$el, "mouseenter", this._onMouseEnter],
          [this.$el, "mouseleave", this._onMouseLeave]
        ])
      },
      _onClick: function (t) {
        t.stopPropagation(), this.answer.engaged(), this.model.selected || this.model.select(), "maps_places" === this.answer.id && e.router.navigate("toggle-map", {
          model: this.answer,
          isMapExpanded: !0
        })
      },
      _onSelectedChanged: function () {
        this.model.selected ? e.history.set({
          iai: this.answer.getQuerystringItemId(this.model)
        }) : e.history.clear("iai")
      },
      _onMouseEnter: function (e) {
        this.model.highlight()
      },
      _onMouseLeave: function (e) {
        this.model.unhighlight()
      },
      _onImageLoaded: function () {
        this._rerender()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Places.PlaceHours = function (e) {
      t.call(this, e), this._cacheElems(".js-place-hours", ["close"]), this.bindEvents([
        [this.$close, "click", this._onCloseClick],
        [this.model, "change:hoursExpanded", this._toggle]
      ])
    }, e.Views.Places.PlaceHours.prototype = $.extend({}, t.prototype, {
      template: "place_hours",
      _render: function () {
        t.prototype._render.call(this, this.model)
      },
      _toggle: function () {
        this.$el.toggleClass("is-hidden")
      },
      _onCloseClick: function () {
        this.model.toggleHoursExpand()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = {
        phone: lp("maps_places", "Phone"),
        hours: lp("maps_places", "Regular Hours Today"),
        streetaddress: lp("maps_places", "Address")
      };
    e.Views.Places.PlaceSnippet = function (e) {
      this.answer = e.answer, this.item = e.answer.items[0] || {}, this.infoSelector = e.answer.infoSelector || "", t.call(this, e)
    }, e.Views.Places.PlaceSnippet.prototype = $.extend({}, t.prototype, {
      template: "place_snippet",
      _render: function () {
        var i = {
          title: this._getTitle(),
          name: this.item.name,
          infoType: this._getInfoTypeLabel(),
          url: this._getLinkUrl(),
          action: "streetaddress" === this.infoSelector
        };
        t.prototype._render.call(this, i), this._cacheElems(".js-place-snippet", ["subtitle-name", "trigger"]), this.bindEvents([
          [this.$subtitlename, "click", this._onSubtitleNameClicked],
          [this.$trigger, "click", this._onTriggerClicked]
        ]), e.pixel.fire("sn_l", {
          infoSelector: this.infoSelector
        })
      },
      _getTitle: function () {
        return this.item.snippetInfoMap[this.infoSelector]
      },
      _getInfoTypeLabel: function () {
        var e = i[this.infoSelector];
        return e ? ", " + e : ""
      },
      _getLinkUrl: function () {
        return "phone" === this.infoSelector ? "tel:" + this.item.phone : null
      },
      _openExpandedMap: function () {
        e.router.navigate("toggle-map", {
          model: this.answer,
          isMapExpanded: !0
        }), this.answer.engaged({
          snippet: this.infoSelector
        })
      },
      _onTriggerClicked: function (e) {
        e.preventDefault(), this._openExpandedMap()
      },
      _onSubtitleNameClicked: function (e) {
        e.preventDefault(), this._openExpandedMap()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.OpenInApp = function (i) {
      t.call(this, i), this.bindEvents([
        [e.settings, "change:" + e.settings.THEME_KEY, this._setDeepLink]
      ])
    }, e.Views.OpenInApp.prototype = $.extend({}, t.prototype, {
      template: "open_in_app",
      _render: function () {
        $(".js-header-logo").addClass("header__logo-wrap--offset"), t.prototype._render.call(this, {}), this._cacheElems(".js-open-in-app", ["link"]), this._firePixel("render"), this._setDeepLink(), this.bindEvents([
          [this.$link, "click", this._onClick]
        ])
      },
      destroy: function () {
        t.prototype.destroy.call(this)
      },
      _setDeepLink: function () {
        this.$link.attr("href", this.model.createAppQueryUrl({
          campaign: "oia"
        }))
      },
      _onClick: function () {
        this._firePixel("click")
      },
      _firePixel: function (t) {
        var i;
        switch (t) {
          case "render":
            i = "oiai";
            break;
          case "click":
            i = "oiac";
            break;
          default:
            return
        }
        e.pixel.fire(i, {
          va: e.opensearch.variant,
          atbva: e.opensearch.atbVariant
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Maps.Autocomplete = function (e) {
      this.answer = e.answer || {}, t.call(this, e)
    }, e.Models.Maps.Autocomplete.prototype = $.extend({}, t.prototype, {
      totalRequested: 0,
      lastReceived: 0,
      suggestions: [],
      currentQuery: "",
      clearData: function () {
        this.suggestions = [], this.currentQuery = ""
      },
      isBangQuery: function (e) {
        return !1
      },
      getSuggestion: function (e) {
        return void 0 === e ? {} : this.suggestions && this.suggestions.length >= e ? this.suggestions[e] : {}
      },
      getSuggestions: function (t) {
        if (t) {
          this.currentQuery = t;
          var i = this._getOptions(),
            s = this.totalRequested++;
          w.mapkit ? (this.mapkitSearch || (this.mapkitSearch = new w.mapkit.Search), this.mapkitSearch.autocomplete(t, function (e, t) {
            e || this._onSuggestionsReceived(t, s)
          }.bind(this), i)) : (i.q = t, i.resultTypeFilter = "address,poi", i.mkjsVersion = "5.71.28", e.mapkit.autocomplete(i, function (e) {
            this._onSuggestionsReceived(e, s)
          }.bind(this)))
        } else this.set("suggestions", [])
      },
      _getOptions: function () {
        if ("directions" === this.answer.id) {
          var e = this.answer.data && this.answer.data[0] && this.answer.data[0].user_location;
          e && e.lat && e.lon && (e.lat = parseFloat(e.lat), e.lon = parseFloat(e.lon))
        }
        var t = this.answer.geo_bbox || this.answer.approx_geo_bbox || e,
          i = {
            language: "en"
          };
        if (t)
          if (w.mapkit) {
            var s = new w.mapkit.Coordinate(t.lat, t.lon),
              a = new w.mapkit.CoordinateSpan(t.lat_delta, t.lon_delta),
              o = new w.mapkit.CoordinateRegion(s, a);
            i.region = o, i.coordinate = s
          } else i.searchRegion = t.lat + "," + t.lon + "," + t.lat + "," + t.lon;
        return i
      },
      _onSuggestionsReceived: function (e, t) {
        if (!(t < this.lastReceived || ("directions" === this.answer.id || this.answer.isDirectionsActive) && e.query === lp("directions", "Your Location")))
          if (this.lastReceived = t, e && e.results && !this.answer.isRequerying && this.currentQuery) {
            for (var i = e.results, s = [], a = 0; a < i.length; a++) {
              var o = i[a];
              if ((o = this._formatSuggestion(o)).where && o.where.match(new RegExp(lp("vertical_map", "Search Near My Location"), "i")) && !o.what.match(/location|position/gi)) {
                o.isNearby = !0;
                var n = $.extend(!0, {}, o);
                n.where = lp("vertical_map", "Search Current Map Area"), n.type = "area", this.answer.isDirectionsActive || "directions" === this.answer.id || s.push(n)
              }(this.answer.isDirectionsActive || "directions" === this.answer.id) && o.isNearby || s.push(o)
            }
            this.set("suggestions", s)
          } else this.set("suggestions", [])
      },
      _formatSuggestion: function (e) {
        if (!e) return {};
        var t = e.displayLines;
        return e.metadata = this._parseMetadata(e._completionUrl), t && t.length > 0 && (e.what = t[0], e.where = t.length > 1 ? t[1] : "", "search nearby" === e.where.toLowerCase() && (e.where = lp("vertical_map", "Search Near My Location"), e.type = "nearby")), delete e.displayLines, delete e._completionUrl, e
      },
      _parseMetadata: function (e) {
        if (e) {
          var t = e.match(/\&metadata\=/) ? e.replace(/^.*\&metadata\=/, "") : "";
          return t = decodeURIComponent(t)
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = {
        drive: {
          id: "drive",
          text: "AUTOMOBILE",
          printDisplay: lp("directions", "Driving") + " " + lp("directions", "Directions")
        },
        walk: {
          id: "walk",
          text: "WALKING",
          printDisplay: lp("directions", "Walking") + " " + lp("directions", "Directions")
        }
      };
    e.Models.Maps.Directions = function (i) {
      i = i || {}, this.start = i.start || null, this.end = i.end || null, this.geoip = i.geoip && i.geoip.lat && i.geoip.lon ? i.geoip : null, this.startDisplay = i.startDisplay || null, this.endDisplay = i.endDisplay || null, this.isStartUpdating = !1, this.isEndUpdating = !1, this.routeList = [], this.canRoute = !1, this.isRouting = !1, this.hasResults = !1, this.isMapLoaded = !1, this.isPrintPreviewOpen = !1;
      var s = e.userLocator.hasLocation() && e.userLocator.userLocation.getObfuscatedLoc();
      s ? this.addUserLocation({
        lat: s.lat,
        lon: s.lon
      }) : this.geoip && this.geoip.lat && this.geoip.lon ? this.addUserLocation({
        lat: this.geoip.lat,
        lon: this.geoip.lon
      }) : this.fetchUserLocation(), e.device.isMobileDevice && (this.externalMapProvider = e.device.isIDevice ? "apple" : "google", this.externalMapProviderDisplay = "apple" === this.externalMapProvider ? "Apple Maps" : "Maps App"), this._setCurrentTransportType(i.transportType || "drive"), t.call(this, i), this.on("change:start", this._onLocationChange), this.on("change:end", this._onLocationChange), this.on("change:isStartUpdating", this._onLocationUpdatingChange), this.on("change:isEndUpdating", this._onLocationUpdatingChange), e.router.add("directions", this._handleDirections.bind(this))
    }, e.Models.Maps.Directions.prototype = $.extend({}, t.prototype, {
      onDirectionsAction: function (t) {
        t && t.start && (this.addLocation({
          type: "start",
          what: t.start.what,
          where: t.start.where,
          coordinate: t.start.coordinate
        }), t.start.display && this.set("startDisplay", t.start.display)), t && t.end && (this.addLocation({
          type: "end",
          what: t.end.what,
          where: t.end.where,
          coordinate: t.end.coordinate
        }), t.end.display && this.set("endDisplay", t.end.display)), t && t.transport && ("drive" === t.transport || "walk" === t.transport) && this._setCurrentTransportType(t.transport), this.start && this.end && e.router.navigate("directions", t)
      },
      _handleDirections: function (t) {
        e.history.set("iaxm", "directions"), e.history.get("bbox") && e.history.clear("bbox"), e.history.get("strict_bbox") && e.history.clear("strict_bbox"), e.history.get("iai") && e.history.clear("iai"), t && t.state && (t.state.start || t.state.end) ? (["start", "end"].map(function (i) {
          if (t.state[i]) {
            e.history.set(i, t.state[i]);
            var s = e.history.getComposite(i, "what"),
              a = e.history.getComposite(i, "where");
            this.addLocation({
              type: i,
              what: s && decodeURIComponentSafe(s),
              where: a && decodeURIComponentSafe(a)
            })
          }
        }.bind(this)), t.state.transport && (e.history.set("transport", t.state.transport), this._setCurrentTransportType(t.state.transport))) : t && t.state ? (e.history.clear("start"), e.history.clear("end"), e.history.clear("transport"), this.set("start", null), this.set("routeList", [])) : (this.start && this.start.what && e.history.setComposite("start", "what", encodeURIComponent(this.start.what)), this.start && this.start.where && e.history.setComposite("start", "where", encodeURIComponent(this.start.where)), this.end && this.end.what && e.history.setComposite("end", "what", encodeURIComponent(this.end.what)), this.end && this.end.where && e.history.setComposite("end", "where", encodeURIComponent(this.end.where)), e.history.set("transport", this.currentTransportType.id)), !this.start && !this.end || t && t.noRouting || this.route()
      },
      addLocation: function (t) {
        var i = {};
        if (t.what && (i.what = t.what), t.where && (i.where = t.where), t.coordinate && (i.coordinate = t.coordinate), i.what || i.where || i.coordinate) {
          var s = new e.Models.Maps.Location(i);
          this.set("start" === t.type ? "start" : "end", s)
        }
      },
      addUserLocation: function (e) {
        e.lat && e.lon && this.set("userLocation", {
          lat: parseFloat(e.lat),
          lon: parseFloat(e.lon)
        })
      },
      route: function (t, i) {
        if (this.directions = this.directions || w.mapkit && new w.mapkit.Directions, (i || this.directions) && (t && this._setCurrentTransportType(t), this.canRoute))
          if (!i && this.requestID && this.directions.cancel(this.requestID), this.set("isRouting", !0), i) {
            var s = {
              wps: '[{"q":"' + this.start.get() + '"},{"q":"' + this.end.get() + '"}]',
              transport: this.currentTransportType.text,
              n: "3",
              lang: "en",
              mkjsVersion: "5.71.28"
            };
            e.mapkit.directions(s, function (e) {
              this._onRouteCompleted(null, e, !0)
            }.bind(this))
          } else this.requestID = this.directions.route({
            origin: this.start.get(),
            destination: this.end.get(),
            transportType: this.currentTransportType.text,
            requestsAlternateRoutes: !0
          }, this._onRouteCompleted.bind(this))
      },
      tryToRoute: function () {
        e.mapkit.isInitialized && this.canRoute && this.onDirectionsAction()
      },
      selectRoute: function (e, t) {
        e && 1 !== this.routeList.length && (t || this.collapseAllRoutes(), this.routeList.forEach((function (t) {
          t.set("isSelected", t.name === e)
        })))
      },
      toggleRoute: function (e) {
        e && (this.selectRoute(e, !0), this.routeList.forEach((function (t) {
          t.name === e ? t.set("isExpanded", !t.isExpanded) : t.set("isExpanded", !1)
        })))
      },
      collapseAllRoutes: function () {
        this.routeList.forEach((function (e) {
          e.set("isExpanded", !1)
        }))
      },
      autocompleteLocation: function (t, i) {
        if (t.loc && t.type) {
          i || this.mapkitSearch || (this.mapkitSearch = new w.mapkit.Search);
          var s = {
            includeAddresses: !0,
            includePointsOfInterest: !0,
            includeQueries: !1
          };
          if (this.userLocation && (s.coordinate = i ? this.userLocation.lat + "," + this.userLocation.lon : new w.mapkit.Coordinate(this.userLocation.lat, this.userLocation.lon)), i) {
            var a = {
              q: t.loc,
              resultTypeFilter: "address,poi"
            };
            e.mapkit.autocomplete(a, function (e) {
              this._processAutocompleteResults(e, t)
            }.bind(this))
          } else this.mapkitSearch.autocomplete(t.loc, function (e, i) {
            e || this._processAutocompleteResults(i, t)
          }.bind(this), s)
        }
      },
      _processAutocompleteResults: function (e, t) {
        var i = null;
        try {
          var s, a;
          0 === e.results.length ? (i = s = e.query, this.addLocation({
            type: t.type,
            what: s
          })) : (s = e.results[0].displayLines[0], a = e.results[0].displayLines[1], this.addLocation({
            type: t.type,
            what: s,
            where: a
          }), i = s + (a ? " " + a : "")), this.set(t.type + "Display", i)
        } catch (e) {}
        t.callbackFn && $.isFunction(t.callbackFn) && t.callbackFn(i)
      },
      fetchUserLocation: function (t) {
        this.userLocation && $.isFunction(t) ? t(this.userLocation) : e.userLocator.fetchGeoIPLocation(function (e) {
          e && e.lat && e.lon && (this.addUserLocation(e), $.isFunction(t) && t(e))
        }.bind(this))
      },
      _setStartEndCoords: function (e, t) {
        if (t) {
          var i = e.origin && e.origin.center,
            s = e.destination && e.destination.center;
          if (!i || !s) return;
          this.set("coordStart", {
            latitude: i.lat,
            longitude: i.lng
          }), this.set("coordEnd", {
            latitude: s.lat,
            longitude: s.lng
          })
        } else if (e.routes && e.routes.length > 0) {
          var a = e.routes[0].steps[1],
            o = e.routes[0].steps[e.routes[0].steps.length - 2];
          if (!a || !o) return;
          this.set("coordStart", a.path[0]), this.set("coordEnd", o.path[o.path.length - 1])
        } else this.set("coordStart", null), this.set("coordEnd", null)
      },
      _setCurrentTransportType: function (e) {
        e && e in i && this.set("currentTransportType", i[e])
      },
      _canRoute: function () {
        return this.start && "object" == typeof this.start && this.end && "object" == typeof this.end && !this.isStartUpdating && !this.isEndUpdating
      },
      _onRouteCompleted: function (t, i, s) {
        if (this.set("isRouting", !1), this._setStartEndCoords(i, s), !i || !i.routes || 0 === i.routes.length) return this.set("hasResults", !1), void this.set("routeList", []);
        this.hasResults = !0, this.numberOfRoutes = i.routes.length, this.routeList = [];
        var a, o = 0,
          n = i.routes.map(function (t, n) {
            s && (t.steps = [], t.path = [], t.stepIndexes.forEach((function (e) {
              t.steps.push(i.steps[e]), t.path.push(i.stepPaths[e])
            }))), t.index = n;
            var l = new e.Models.Maps.DirectionsRoute({
              route: t,
              directionsModel: this
            });
            return a > t.expectedTravelTime && (o = n, a = t.expectedTravelTime), 1 === this.numberOfRoutes && l.set("isExpanded", !0), l
          }.bind(this));
        n[o].set("isFastestRoute", !0), this.set("fastestRoute", n[o]), this.fastestRoute.set("isSelected", !0), this.set("routeList", n)
      },
      _onLocationChange: function () {
        this.set("canRoute", this._canRoute())
      },
      _onLocationUpdatingChange: function () {
        this.set("canRoute", this._canRoute()), this.tryToRoute()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Maps.DirectionsRoute = function (i) {
      if (this.directionsModel = i.directionsModel, i.route) {
        i.route.steps = this._processSteps(i.route.steps);
        var s = i.route.expectedTravelTime || i.route.durationSeconds || 0,
          a = i.route.distance || i.route.distanceMeters || 0;
        t.call(this, {
          index: i.route.index,
          name: i.route.name,
          expectedTravelTime: s,
          expectedTravelTimeFormatted: this._convertMinutes(s),
          distance: a,
          distanceFormatted: e.geo.formatDistance(a, e.geo.getRoadDistanceUOM()),
          steps: i.route.steps,
          path: i.route.path,
          polyline: i.route.polyline
        })
      }
    }, e.Models.Maps.DirectionsRoute.prototype = $.extend({}, t.prototype, {
      _convertMinutes: function (e) {
        var t = Math.floor(e / 60);
        return Math.floor(t / 60) + " h " + t % 60 + " min"
      },
      _processSteps: function (t) {
        var i = [],
          s = e.geo.getRoadDistanceUOM();
        i = t.map((function (t) {
          var i = t._imageUrl || t.maneuver && t.maneuver.arrowUrl;
          t._imageUrl || (i = "//cdn2.apple-mapkit.com" + i), i && (t.imageUrl = i.replace("{{scale}}", "1"), t.imageUrl = t.imageUrl.replace(/\{\{.*\}\}/, ""), e.settings.isDarkTheme() && (t.imageUrl = t.imageUrl.replace("arrowFill=000000", "arrowFill=cccccc")));
          var a = t.distance || t.distanceMeters;
          return a && (t.stepHeader = e.geo.formatDistance(a, s)), t
        }));
        var a = this.directionsModel.start,
          o = this.directionsModel.end,
          n = {
            stepHeader: a.what || this.directionsModel.startDisplay || a.where,
            instructions: a.what && a.where ? a.where : null,
            imageUrl: "/assets/maps/directions-marker-black.svg"
          },
          l = {
            stepHeader: o.what || this.directionsModel.endDisplay || o.where,
            instructions: o.what && o.where ? o.where : null,
            imageUrl: "/assets/maps/directions-marker-red.svg"
          };
        return i.shift(), i.unshift(n), i.push(l), i
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Maps.DirectionsRouteStep = function (e) {
      t.call(this, e)
    }, e.Models.Maps.DirectionsRouteStep.prototype = $.extend({}, t.prototype, {})
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Maps.Location = function (e) {
      this.what = e.what || null, this.where = e.where || null, this.coordinate = e.coordinate || null, this._setMapkitCoordinate(), t.call(this, e)
    }, e.Models.Maps.Location.prototype = $.extend({}, t.prototype, {
      get: function () {
        return this.what || this.where ? this.getAsText() : this.mkCoordinate ? this.mkCoordinate : this.coordinate ? (this._setMapkitCoordinate(), this.mkCoordinate || this.coordinate.lat + "," + this.coordinate.lon) : void 0
      },
      getAsText: function () {
        var e = "";
        return this.what && (e += this.what), this.where && (e = this.what ? e + " " + this.where : e + this.where), this.what || this.where || (e = "Your Location"), e
      },
      _setMapkitCoordinate: function () {
        w.mapkit && this.coordinate && this.coordinate.lat && this.coordinate.lon && (this.mkCoordinate = new w.mapkit.Coordinate(parseFloat(this.coordinate.lat), parseFloat(this.coordinate.lon)))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = {
        wiki_maps_trigger: [{
          addTo: "maps"
        }],
        imdb_id: [{
          dataTypeOverride: "imdb_title_id",
          matching: /^tt/,
          addTo: "profiles"
        }, {
          dataTypeOverride: "imdb_name_id",
          matching: /^nm/,
          addTo: "profiles"
        }],
        rotten_tomatoes: [{
          matching: /^(tv|m)/,
          addTo: "profiles"
        }],
        twitter_profile: [{
          addTo: "profiles"
        }],
        instagram_profile: [{
          addTo: "profiles"
        }],
        youtube_channel: [{
          addTo: "profiles"
        }],
        facebook_profile: [{
          addTo: "profiles"
        }],
        spotify_artist_id: [{
          addTo: "profiles"
        }],
        soundcloud_id: [{
          addTo: "profiles"
        }]
      };
    e.Models.Modules.AboutInfoBox = function (e) {
      this._defaultVisibleRows = e.minimizeHeight ? 0 : 3, this.maps = [], this.profiles = [], t.call(this, this.transform(e))
    }, e.Models.Modules.AboutInfoBox.prototype = $.extend({}, t.prototype, {
      toggleExpand: function () {
        if (this.canExpand()) {
          for (var e = 0; e < this.items.length; e++) this.items[e].visible = !this.expanded || e < this._defaultVisibleRows;
          this.set("expanded", !this.expanded)
        }
      },
      canExpand: function () {
        return this.items.length > this._defaultVisibleRows
      },
      transform: function (e) {
        var t;
        if (e.Infobox && ((t = e.Infobox.content).forEach(function (e) {
            if (e && e.value) {
              var t = i[e.data_type];
              t && t.forEach(function (t) {
                t.matching && !e.value.match(t.matching) || (t.dataTypeOverride && (e.data_type = t.dataTypeOverride), this[t.addTo].push(e))
              }.bind(this))
            }
          }.bind(this)), t = t.filter((function (e) {
            if (e && e.value && e.data_type) {
              var t = typeof e.value;
              if ("string" === t && "[" === e.value.charAt(0) || "Website" === e.label) return !1;
              if (-1 !== ["string", "object"].indexOf(t) && -1 !== ["string", "template"].indexOf(e.data_type)) return !0
            }
            return !1
          }))), t) {
          e.hasItems = !0;
          for (var s = 0; s < t.length && s < this._defaultVisibleRows; s++) t[s].visible = !0;
          e.items = t
        }
        return e
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.Modules.AboutHeader = function (i) {
      i.location && (this.mapLocation = new e.Models.AnswerItems.MapLocation(i.location)), t.call(this, i), this.staticMapTitle = lp("maps_places", "Open Expanded Map"), this.loadMap()
    }, e.Models.Modules.AboutHeader.prototype = $.extend({}, t.prototype, {
      loadMap: function () {
        this.mapURL && (this.mapURL = this.mapURL.replace("&cb=ddg_spice_maps_maps", ""), $.ajax({
          url: this.mapURL,
          dataType: "json",
          success: this._onMapLoaded.bind(this),
          error: this._onMapError.bind(this)
        }))
      },
      _onMapLoaded: function (t) {
        if (this.mapResponse = DDG.localAPI.getMapsResponse(t), this.mapResponse.results && this.mapResponse.results.length) {
          var i = new e.Models.AnswerItems.MapLocation(this.mapResponse.results[0]);
          this.set("mapLocation", i)
        } else this.set("mapFailed", !0)
      },
      _onMapError: function () {
        this.set("mapFailed", !0)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base,
      i = ["film", "television"],
      s = {
        official_site: {
          url: "{{val}}",
          icon: "website",
          name: "Website",
          sort: 1
        },
        wikipedia: {
          url: "{{val}}",
          icon: "wikipedia",
          name: "Wikipedia",
          sort: 2
        },
        twitter_profile: {
          url: "https://twitter.com/{{val}}",
          icon: "twitter",
          name: "Twitter",
          sort: 3
        },
        instagram_profile: {
          url: "https://instagram.com/{{val}}",
          icon: "instagram",
          name: "Instagram",
          sort: 4
        },
        facebook_profile: {
          url: "https://facebook.com/{{val}}",
          icon: "facebook",
          name: "Facebook",
          sort: 5
        },
        spotify_artist_id: {
          url: "https://open.spotify.com/artist/{{val}}",
          icon: "spotify",
          name: "Spotify",
          sort: 6
        },
        imdb_title_id: {
          url: "https://www.imdb.com/title/{{val}}",
          icon: "imdb",
          name: "IMDb",
          sort: 7
        },
        imdb_name_id: {
          url: "https://www.imdb.com/name/{{val}}",
          icon: "imdb",
          name: "IMDb",
          sort: 8
        },
        rotten_tomatoes: {
          url: "https://www.rottentomatoes.com/{{val}}",
          icon: "rt",
          name: "Rotten Tomatoes",
          sort: 9
        },
        youtube_channel: {
          url: "https://youtube.com/channel/{{val}}",
          icon: "youtube",
          name: "YouTube",
          sort: 10
        },
        soundcloud_id: {
          url: "https://soundcloud.com/{{val}}",
          icon: "soundcloud",
          name: "SoundCloud",
          sort: 11
        },
        itunes: {
          url: "{{val}}",
          icon: "apple",
          name: "iTunes",
          sort: 12
        },
        amazon: {
          url: "{{val}}",
          icon: "amazon",
          name: "Amazon",
          sort: 13
        }
      };
    e.Models.Modules.AboutProfiles = function (e) {
      t.call(this, e), this.links = this._createLinks(this.data), this._isStreamable() && (this._tryAddingITunes(), this._tryAddingAmazon())
    }, e.Models.Modules.AboutProfiles.prototype = $.extend({}, t.prototype, {
      _createLinks: function (e) {
        if (e && e.length) {
          var t = e.map(this._createLinkFromInfoboxData.bind(this));
          return t = t.sort((function (e, t) {
            return e.sort > t.sort ? 1 : -1
          }))
        }
      },
      _createLinkFromInfoboxData: function (e) {
        return this._createLink(e.data_type, e.value)
      },
      _createLink: function (e, t) {
        var i = s[e],
          a = i.url.replace("{{val}}", t),
          o = "/assets/icons/thirdparty/{{icon}}.svg".replace("{{icon}}", i.icon);
        return {
          url: a,
          name: i.name,
          icon: i.icon,
          iconURL: o,
          sort: i.sort
        }
      },
      _addLink: function (e, t) {
        this.links.push(this._createLink(e, t)), this._emitChange("links", this.links)
      },
      _isStreamable: function () {
        if (i.indexOf(this.entity) > -1) return !0
      },
      _tryAddingITunes: function () {
        $.ajax({
          url: "/iit/" + encodeURIComponent(this.title),
          dataType: "json",
          success: function (e) {
            e && e.results && e.results.length && e.results[0].trackViewUrl && this._addLink("itunes", e.results[0].trackViewUrl)
          }.bind(this)
        })
      },
      _tryAddingAmazon: function () {
        $.ajax({
          url: "/m.js?q=" + encodeURIComponent(this.title) + "&c=v&o=json&l=" + e.settings.get("kl") + "&country=" + window.ct,
          dataType: "json",
          success: function (e) {
            e && e.results && e.results.length && this._addLink("amazon", e.results[0].url)
          }.bind(this)
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Covid19 = function (e) {
      e.country = window.ct, e.locale = window.locale, e.region = window.kl, t.call(this, e), this.countries = [], this._setCopy(e)
    }, e.Models.Answers.Covid19.prototype = $.extend({}, t.prototype, {
      getPixelData: function () {
        return {
          l: this.locale
        }
      },
      getCasesData: function () {
        var t = new Date,
          i = t.getDate() + "-" + t.getMonth() + "-" + t.getHours();
        $.getJSON("/covid_data/countries.json?" + i, function (t) {
          try {
            for (var i, s = t.Countries, a = 0, o = 0; o < s.length; o++) "World" === (i = s[o])[0] && (a = new Number(i[1])), this.countryName === i[0] && (this.local = this._formatNumber(i[1])), this.countries.push({
              location: i[0],
              isCountryMatch: this.countryName === i[0],
              cases: this._formatNumber(i[1]),
              deaths: this._formatNumber(i[2]),
              recovered: this._formatNumber(i[3])
            });
            this.updated = e.Utils.ParseDate.getFormattedDate(t.Updated, window.locale), a > 0 && (this.world = a, this.set("loaded", !0))
          } catch (t) {
            e.pixel.fire("jse", "covid19", {
              e: t
            })
          }
        }.bind(this))
      },
      _formatNumber: function (e) {
        var t = parseInt(e, 10);
        return window.isNaN(t) ? "-" : t.toLocaleString()
      },
      _setCopy: function (t) {
        var i, s, a, o, n = [];
        t.region && "wt-wt" !== t.region ? (i = (a = t.region.split("-"))[0], s = a[1], "uk" === i && (i = "gb"), "in" === i && "hi_IN" === t.locale && (s = "hi")) : t.locale && (i = (a = window.locale.split("_"))[1].toLowerCase(), s = a[0]), this.confirmed = "Confirmed Cases", this.worldLabel = "World", this.mapLinkText = "Worldwide Coverage Map", this.moreStatsText = "en" === s ? "More statistics" : lp("additional", "More"), this.tab1 = "Summary", this.tab2 = "Tips", this.tab3 = "Symptoms", this.tab4 = "Statistics", this.tab5 = "Vaccines", "fr" === s ? (this.title = "Maladie à coronavirus (COVID-19)", this.subtitle = "Obtenez les dernières informations officielles :", this.confirmed = "Nombre de cas confirmés (selon l'OMS)", this.worldLabel = "Monde", this.mapLinkText = "Carte de la situation mondiale (OMS)", this.tab1 = "Aperçu", this.tab2 = "Recommandations", this.tab3 = "Symptômes", this.tab4 = "Statistiques", "fr" === i ? (n.push({
          linkUrl: "https://www.gouvernement.fr/info-coronavirus",
          linkText: "Gouvernement français",
          icon: "www.gouvernement.fr.ico"
        }), o = n[0].linkUrl, this.flagIcon = "fr", this.countryName = "France", this.displayCountryName = "France") : "ca" === i ? (n.push({
          linkUrl: "https://www.canada.ca/fr/sante-publique/services/maladies/2019-nouveau-coronavirus.html",
          linkText: "Gouvernement du Canada",
          icon: "www.canada.ca.ico"
        }), o = n[0].linkUrl, this.flagIcon = "ca", this.countryName = "Canada", this.displayCountryName = "Canada") : "be" === i ? (n.push({
          linkUrl: "https://www.info-coronavirus.be/fr",
          linkText: "SPF Santé Publique",
          icon: "www.info-coronavirus.be.ico"
        }), o = n[0].linkUrl, this.flagIcon = "be", this.countryName = "Belgium", this.displayCountryName = "Belgique") : "ch" === i && (n.push({
          linkUrl: "https://www.bag.admin.ch/bag/fr/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",
          linkText: "Office fédéral de la santé publique OFSP",
          icon: "www.bag.admin.ch.ico"
        }), o = n[0].linkUrl, this.flagIcon = "ch", this.countryName = "Switzerland", this.displayCountryName = "Suisse"), n.push({
          linkUrl: "https://www.who.int/fr/emergencies/diseases/novel-coronavirus-2019",
          linkText: "OMS",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Recommandations de l'Organisation mondiale de la Santé :",
          items: ["Lavez-vous fréquemment les mains.", "Évitez de vous toucher le visage.", "Éternuez et toussez dans un mouchoir ou le pli de votre coude.", "Évitez les foules et les contacts proches.", "Restez chez vous si vous pensez être malade.", "Si vous avez de la fièvre, de la toux ou des difficultés à respirer, suivez les recommandations de votre " + this._getLocalAuthorityLink("autorité de santé publique", o) + "."]
        }, this.symptoms = {
          heading: "Info santé COVID-19 :",
          items: ["Symptômes: fièvre, toux, difficultés à respirer.", "Complications: pneumonie, syndrome de détresse respiratoire aiguë (SDRA), insuffisance rénale.", "Facteurs de risques: âge, existence de pathologies sous-jacentes (p.ex. maladies cardiovasculaires, diabète, maladies pulmonaires, etc.)."]
        }) : "it" === s ? (this.title = "Coronavirus (COVID-19)", this.subtitle = "Ricevi le ultime informazioni ufficiali:", this.confirmed = "Casi confermati (fonte: OMS)", this.worldLabel = "Tutto il mondo", this.mapLinkText = "Mappa Diffusione Globale (OMS)", this.tab1 = "Riepilogo", this.tab2 = "Consigli", this.tab3 = "Sintomi", this.tab4 = "Statistica", "it" === i ? (this.flagIcon = "it", this.countryName = "Italy", this.displayCountryName = "Italia", n.push({
          linkUrl: "http://www.salute.gov.it/nuovocoronavirus",
          linkText: "Ministero della Salute",
          icon: "www.salute.gov.it.ico"
        })) : "ch" === i && (this.flagIcon = "ch", this.countryName = "Switzerland", this.displayCountryName = "Svizzera", n.push({
          linkUrl: "https://www.bag.admin.ch/bag/it/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",
          linkText: "Ufficio federale della sanità pubblica UFSP",
          icon: "www.bag.admin.ch.ico"
        })), n.push({
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "Organizzazione mondiale della sanità",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "I consigli dell'Organizzazione Mondiale della Sanità:",
          items: ["Lava spesso le mani.", "Evita di toccarti la faccia.", "Starnutisci e tossici in un fazzoletto o all'interno del gomito.", "Evita luoghi affollati e contatti ravvicinati.", "Se sospetti di essere malato, resta a casa.", "Se hai febbre, tosse o difficoltà respiratorie, segui le indicazioni delle " + this._getLocalAuthorityLink("autorità sanitarie", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "COVID-19 informazioni sanitarie:",
          items: ["Sintomi: febbre, tosse, difficoltà respiratorie.", "Complicazioni: polmonite, sindrome da distress respiratorio (ARDS), insufficienza renale.", "Fattori di Rischio: età, gravi patologie pregresse (ad esempio, cardiopatia, diabete, malattie polmonari, ecc.)."]
        }) : "es" === s ? (this.title = "Coronavirus (COVID-19)", this.subtitle = "Obtenga la última información oficial:", this.confirmed = "Casos confirmados (fuente OMS)", this.worldLabel = "Mundo", this.mapLinkText = "Mapa de incidencia mundial (OMS)", this.tab1 = "Resumen", this.tab2 = "Consejos", this.tab3 = "Síntomas", this.tab4 = "Estadísticas", "es" === i ? (n.push({
          linkUrl: "https://www.mscbs.gob.es/profesionales/saludPublica/ccayes/alertasActual/nCov-China/home.htm",
          linkText: "Gobierno de españa",
          icon: "www.mscbs.gob.es.ico"
        }, {
          linkUrl: "http://www.euro.who.int/en/home",
          linkText: "World Health Organization",
          icon: "www.who.int.ico"
        }), o = n[0].linkUrl, this.flagIcon = "es", this.countryName = "Spain", this.displayCountryName = "España") : "us" === i ? (this.flagIcon = "us", this.countryName = "United States", this.displayCountryName = "Estados Unidos", n.push({
          linkUrl: "https://www.cdc.gov/coronavirus/2019-ncov",
          linkText: e.device.isMobile ? "CDC (Centers for Disease Control...)" : "CDC (Centers for Disease Control and Prevention)",
          icon: "www.cdc.gov.ico"
        }, {
          linkUrl: "https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",
          linkText: "Organización Mundial de la Salud",
          icon: "www.who.int.ico"
        }), o = n[0].linkUrl) : "ar" === i ? (this.flagIcon = "ar", this.countryName = "Argentina", this.displayCountryName = "Argentina", n.push({
          linkUrl: "https://www.argentina.gob.ar/salud/coronavirus-COVID-19",
          linkText: "Ministerio de Salud",
          icon: ""
        }), o = n[0].linkUrl) : "cl" === i ? (this.flagIcon = "cl", this.countryName = "Chile", this.displayCountryName = "Chile", n.push({
          linkUrl: "https://www.minsal.cl/nuevo-coronavirus-2019-ncov/",
          linkText: "Ministerio de Salud",
          icon: "www.minsal.cl.ico"
        }), o = n[0].linkUrl) : "co" === i ? (this.flagIcon = "co", this.countryName = "Colombia", this.displayCountryName = "Colombia", n.push({
          linkUrl: "https://twitter.com/minsaludcol",
          linkText: "Minsalud",
          icon: "www.minsalud.gov.co.ico"
        }), o = n[0].linkUrl) : "mx" === i ? (this.flagIcon = "mx", this.countryName = "Mexico", this.displayCountryName = "México", n.push({
          linkUrl: "https://coronavirus.gob.mx/",
          linkText: "Gobierno de México",
          icon: "coronavirus.gob.mx.ico"
        }), o = n[0].linkUrl) : "pe" === i && (this.flagIcon = "pe", this.countryName = "Peru", this.displayCountryName = "Perú", n.push({
          linkUrl: "https://www.gob.pe/coronavirus",
          linkText: "Gobierno del Perú",
          icon: "www.gob.pe.ico"
        }), o = n[0].linkUrl), n.length < 2 && n.push({
          linkUrl: "https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",
          linkText: "Organización Mundial de la Salud",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Consejos de la Organización Mundial de la Salud:",
          items: ["Lávese las manos frecuentemente.", "Evite tocarse la cara.", "Estornude y tosa en un pañuelo de papel o la cara interna del codo.", "Evite aglomeraciones de gente y procure mantener la distancia.", "Permanezca en su domicilio si se siente enfermo.", "Si tiene fiebre, tos o dificultad para respirar, siga los consejos de " + this._getLocalAuthorityLink("las autoridades sanitarias", o) + "."]
        }, this.symptoms = {
          heading: "COVID-19 información sanitaria:",
          items: ["Síntomas: fiebre, tos, falta de aliento.", "Complicaciones: neumonía, Síndrome de disnea aguda (SDRA), fallo renal.", "Factores de riesgo: edad, problemas de salud serios (p.e. enfermedades cardiacas, diabetes, enfermendades de pulmón, etc)."]
        }) : "de" === s ? (this.title = "Coronavirus (COVID-19)", this.subtitle = "Die neuesten offiziellen Informationen:", this.confirmed = "Bestätigte Fälle (laut WHO)", this.worldLabel = "Welt", this.mapLinkText = "Karte der Infektionszahlen weltweit (WHO)", this.tab1 = "Zusammenfassung", this.tab2 = "Tipps", this.tab3 = "Symptome", this.tab4 = "Statistiken", "de" === i ? (n.push({
          linkUrl: "https://www.bundesgesundheitsministerium.de/coronavirus.html",
          linkText: "Bundesministerium für Gesundheit",
          icon: "www.bundesgesundheitsministerium.de.ico"
        }, {
          linkUrl: "https://www.infektionsschutz.de/coronavirus-sars-cov-2.html",
          linkText: "Schutz vor Infektionskrankheiten",
          icon: "www.infektionsschutz.de.ico"
        }), this.flagIcon = "de", this.countryName = "Germany", this.displayCountryName = "Deutschland") : "at" === i ? (n.push({
          linkUrl: "https://www.sozialministerium.at/Informationen-zum-Coronavirus/Neuartiges-Coronavirus-(2019-nCov).html",
          linkText: "BMSGPK",
          icon: "www.sozialministerium.at.ico"
        }), this.flagIcon = "at", this.countryName = "Austria", this.displayCountryName = "Österreich") : "ch" === i && (n.push({
          linkUrl: "https://www.bag.admin.ch/bag/de/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",
          linkText: "Bundesamt für Gesundheit BAG",
          icon: "www.bag.admin.ch.ico"
        }), this.flagIcon = "ch", this.countryName = "Switzerland", this.displayCountryName = "Schweiz"), n.length < 2 && n.push({
          linkUrl: "http://www.euro.who.int/de/health-topics/health-emergencies/coronavirus-covid-19",
          linkText: "WHO",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Hinweise der Weltgesundheitsorganisation",
          items: ["Waschen Sie sich oft die Hände.", "Vermeiden Sie es, Ihr Gesicht zu berühren.", "Niesen und husten Sie in ein Taschentuch oder Ihren Ellbogen.", "Vermeiden Sie Menschenansammlungen und das Stehen in unmittelbarer Nähe zu Anderen.", "Bleiben Sie zuhause wenn Sie meinen krank zu sein.", "Wenn Sie unter Fieber leiden, oder unter einem Husten, oder Schwierigkeiten haben mit dem Atmen, richten Sie sich nach dem Rat des " + this._getLocalAuthorityLink("Bundesministeriums für Gesundheit", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "COVID-19 Gesundheitsinformationen",
          items: ["Symptome: Fieber, Husten, Kurzatmigkeit.", "Komplikationen: Lungenentzündung, akutes Lungenversagen, Nierenversagen.", "Risikofaktoren: Alter, schwerwiegende Vorerkrankungen wie Herzerkrankungen, Diabetes, Lungenerkrankungen usw."]
        }) : "nl" !== s || "be" !== i && "nl" !== i ? "bg" === s ? (this.title = "Коронавирус (COVID-19)", this.subtitle = "Вижте най-новата официална информация:", this.flagIcon = "bg", this.countryName = "Bulgaria", this.displayCountryName = "България", this.confirmed = "Потвърдени случаи (според СЗО)", this.worldLabel = "Свят", this.mapLinkText = "Карта на световните случаи (СЗО)", this.tab1 = "Обобщение", this.tab2 = "Съвети", this.tab3 = "Симптоми", n.push({
          linkUrl: "https://www.mh.government.bg/bg/ ",
          linkText: "Министерство на здравеопазването",
          icon: "www.mh.government.bg.ico"
        }, {
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "Световна здравна организация",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Съвети от Световната здравна организация:",
          items: ["Мийте често ръцете си.", "Избягвайте да пипате лицето си.", "Кихайте и кашляйте в носна кърпичка или в сгъвката на лакътя си.", "Избягвайте струпвания на хора.", "Стойте вкъщи, ако смятате, че сте болни.", "Ако имате треска, кашлица, или затруднено дишане, следвайте упътванията на " + this._getLocalAuthorityLink("Министерството на здравеопазването", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "Здравна информация за COVID-19:",
          items: ["Симптоми: треска, кашлица, затруднено дишане", "Усложнения: пневмония, остър респираторен дистрес синдром (ARDS), бъбречна недостатъчност", "Рискови фактори: възраст, предхождащи заболявания (напр. сърдечно-съдови заболявания, диабет, белодробни заболявания и т.н.)"]
        }) : "hi" === s ? (this.title = "कोरोना वायरस (कोविद -19)", this.subtitle = "नवीनतम आधिकारिक जानकारी प्राप्त करें:", this.flagIcon = "in", this.countryName = "India", this.displayCountryName = "भारत", this.confirmed = "पुष्ट हो चुके मामले (सौजन्य: विश्व स्वास्थ्य संगठन )", this.worldLabel = "विश्व", this.mapLinkText = "विश्वव्यापी प्रभावित क्षेत्र  (विश्व स्वास्थ्य संगठन)", this.tab1 = "सारांश", this.tab2 = "सुझाव", this.tab3 = "लक्षण", n.push({
          linkUrl: "https://www.mohfw.gov.in",
          linkText: "स्वास्थ्य एवं परिवार कल्याण मन्त्रालय, भारत सरकार",
          icon: "www.mohfw.gov.in.ico"
        }, {
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "विश्व स्वास्थ्य संगठन",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "विश्व स्वास्थ्य संगठन से सुझाव:",
          items: ["समय-समय पर अपने हाथों को धोते रहें.", "अपने चेहरे पर हाथ लगाने से बचें.", "खांसते समय अथवा कफ आने की स्थिति में टिश्यू पेपर अथवा अपनी कोहनी का उपयोग करें.", "भीड़भाड़ अथवा दूसरे लोगों के पास खड़े होने से बचें.", "यदि आपको लगे कि आप बीमार हो सकते हैं तो घर पर ही रहें.", "यदि आपको बुखार, कफ अथवा सांस लेने की शिकायत हो तो " + this._getLocalAuthorityLink("सरकार के स्वास्थ्य प्राधिकारी", n[0].linkUrl) + " की सलाह लें."]
        }, this.symptoms = {
          heading: "कोविद - 19 स्वास्थ्य जानकारी ",
          items: ["लक्षण: बुखार, खांसी, सांस लेने में तकलीफ़", "जटिलताएं: निमोनिया, गहन श्वसन संकट सिंड्रोम (ARDS), गुर्दा ख़राब होना।", "जोखिम कारक : आयु, स्वास्थ की गंभीर अंतर्निहित परिस्थितियां (उदाहरण : हृदय रोग, मधुमेह, फेफड़े की बीमारी, आदि)।"]
        }) : "ru" === s ? (this.title = "Коронавирусная инфекция (COVID-19)", this.subtitle = "Последняя официальная информация:", this.flagIcon = "ru", this.countryName = "Russia", this.displayCountryName = "Российская Федерация", this.confirmed = "Подтвержденные случаи (ВОЗ)", this.worldLabel = "Мир", this.mapLinkText = "Карта распространения по миру (ВОЗ)", this.tab1 = "Краткий обзор", this.tab2 = "Рекомендации", this.tab3 = "Симптомы", n.push({
          linkUrl: "https://www.rosminzdrav.ru/ministry/covid19",
          linkText: "Rosminzdrav.ru",
          icon: "www.rosminzdrav.ru.ico"
        }, {
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "World Health Organization",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Рекомендации Всемирной организации здравоохранения:",
          items: ["Чаще мойте руки.", "Прикасайтесь к лицу и глазам только недавно вымытыми руками.", "При кашле и чихании используйте одноразовую салфетку или свой локоть.", "Избегайте мест массового скопления людей.", "При появлении признаков болезни оставайтесь дома.", "В случае лихорадки, кашля или затрудненного дыхания следуйте рекомендациям " + this._getLocalAuthorityLink("министерства здравоохранения вашей страны", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "Информация о COVID-19:",
          items: ["Симптомы: лихорадка, кашель, затрудненное дыхание.", "Осложнения: пневмония, острый респираторный дистресс-синдром (ОРДС), почечная недостаточность.", "Факторы риска: возраст, серьезные хронические заболевания (болезни сердца, диабет, заболевания легких, и т.д.)."]
        }) : "pl" === s ? (this.title = "Koronawirus (COVID-19)", this.subtitle = "Najnowsze oficjalne wiadomości:", this.flagIcon = "pl", this.countryName = "Poland", this.displayCountryName = "Polska", this.confirmed = "Potwierdzone przypadki (za WHO)", this.worldLabel = "Świat", this.mapLinkText = "Mapa zarażeń na świecie (WHO)", this.tab1 = "W skrócie", this.tab2 = "Wskazówki", this.tab3 = "Objawy", this.tab4 = "Statystyka", n.push({
          linkUrl: "https://www.gov.pl/web/zdrowie/wiadomosci",
          linkText: "Ministerstwo Zdrowia",
          icon: "www.gov.pl.ico"
        }, {
          linkUrl: "https://www.gov.pl/web/koronawirus",
          linkText: "Informacje i zalecenia Koronawirus",
          icon: "www.gov.pl.ico"
        }), this.tips = {
          heading: "Światowa Organizacja Zdrowia radzi:",
          items: ["Często myj ręce.", "Unikaj dotykania twarzy.", "Jeśli kichasz lub kaszlesz, zasłaniaj usta chusteczką albo łokciem.", "Unikaj tłumów i stania w pobliżu innych osób.", "Zostań w domu, jeśli myślisz, że możesz być chory.", "Jeśli masz gorączkę, kaszel lub trudności z oddychaniem, postępuj zgodnie z zaleceniami " + this._getLocalAuthorityLink("Ministerstwa Zdrowia", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "Informacja zdrowotna dla COVID-19:",
          items: ["Objawy: gorączka, kaszel, duszności.", "Powikłania: zapalenie płuc, zespół ciężkiej ostrej niewydolności oddechowej, niewydolność nerek.", "Czynniki ryzyka: wiek, poważne schorzenia towarzyszące (np. choroba serca, cukrzyca, choroba płuc, itp.)."]
        }) : "tl" === s ? (this.title = "Sakit ng Coronavirus (COVID-19)", this.subtitle = "Basahin ang pinakabagong opisyal na impormasyon:", this.flagIcon = "ph", this.countryName = "Philippines", this.displayCountryName = "Pilipinas", this.confirmed = "Mga kumpirmadong kaso (mula sa WHO)", this.worldLabel = "Mundo", this.mapLinkText = "Mapa ng pandemya (WHO)", this.tab1 = "Buod", this.tab2 = "Mga payo", this.tab3 = "Sintomas", n.push({
          linkUrl: "https://www.doh.gov.ph/2019-nCoV",
          linkText: "Department of Health (Kagawaran ng Kalusugan)",
          icon: "www.doh.gov.ph.ico"
        }, {
          linkUrl: "https://www.who.int/philippines/emergencies/covid-19-in-the-philippines",
          linkText: "World Health Organization",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Mga tip mula sa World Health Organization:",
          items: ["Ugaliin ang paghuhugas ng kamay.", "Iwasan ang paghawak ng mukha.", "Bumahing o umubo sa tissue o sa loob ng siko.", "Lumayo sa mga grupo at huwag tumayo ng malapit sa ibang tao.", "Manatili sa bahay kapag tingin mo may sakit ka.", "Kapag may lagnat, ubo, o kaya nahihirapan huminga, sundan ang payo ng " + this._getLocalAuthorityLink("kagawaran ng kalusugan ng iyong pamahalaan", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "Impormasyon sa COVID-19",
          items: ["Sintomas: lagnat, ubo, at hirap sa paghinga.", "Komplikasyon: pulmonya, Acute respiratory distress syndrome (ARDS), kidney failure.", "Risk factors: edad, ang mga may seryosong kondisyon (tulad ng sakit sa puso, diabetes, at ang may mga sakit sa baga, etc.)"]
        }) : (this.title = "Coronavirus Disease (COVID-19)", this.subtitle = "Get the latest information:", this.confirmed = "Confirmed Cases", this.worldLabel = "World", "gb" === i ? (this.flagIcon = "uk", this.countryName = "United Kingdom", this.displayCountryName = "United Kingdom", n.push({
          linkUrl: "https://www.gov.uk/government/topical-events/coronavirus-covid-19-uk-government-response",
          linkText: "UK government response",
          icon: "www.gov.uk.ico"
        }, {
          linkUrl: "https://www.nhs.uk/conditions/coronavirus-covid-19/",
          linkText: "Information from the NHS",
          icon: "www.nhs.uk.ico"
        }), o = n[1].linkUrl) : "ca" === i ? (this.flagIcon = "ca", this.countryName = "Canada", this.displayCountryName = "Canada", n.push({
          linkUrl: "https://www.canada.ca/coronavirus",
          linkText: "Government of Canada",
          icon: "www.canada.ca.ico"
        }), o = n[0].linkUrl) : "us" === i ? (this.flagIcon = "us", this.countryName = "United States", this.displayCountryName = "United States", n.push({
          linkUrl: "https://www.cdc.gov/coronavirus/2019-ncov",
          linkText: e.device.isMobile ? "CDC (Centers for Disease Control...)" : "CDC (Centers for Disease Control and Prevention)",
          icon: "www.cdc.gov.ico"
        }), o = n[0].linkUrl, this.vaccines = {
          text: '"Vaccines in the US are highly effective, including against the Delta variant. The COVID-19 vaccines authorized in the United States are highly effective at preventing severe disease and death, including against the Delta variant. But they are not 100% effective and some fully vaccinated people will become infected (called a breakthrough infection) and experience illness. For such people, the vaccine still provides them strong protection against serious illness and death." ' + this._getLocalAuthorityLink("CDC", "https://www.cdc.gov/coronavirus/2019-ncov/variants/delta-variant.html")
        }) : "au" === i ? (this.flagIcon = "au", this.countryName = "Australia", this.displayCountryName = "Australia", n.push({
          linkUrl: "https://www.health.gov.au/news/health-alerts/novel-coronavirus-2019-ncov-health-alert",
          linkText: "Australian Government",
          icon: "www.health.gov.au.ico"
        }), o = n[0].linkUrl) : "ie" === i ? (this.flagIcon = "ie", this.countryName = "Ireland", this.displayCountryName = "Republic of Ireland", n.push({
          linkUrl: "https://www2.hse.ie/conditions/coronavirus/coronavirus.html",
          linkText: "HSE (Health Service Executive)",
          icon: "www2.hse.ie.ico"
        }), o = n[0].linkUrl) : "nz" === i ? (this.flagIcon = "nz", this.countryName = "New Zealand", this.displayCountryName = "New Zealand", n.push({
          linkUrl: "https://covid19.govt.nz/",
          linkText: "New Zealand government response",
          icon: "covid19.govt.nz.ico"
        }), o = n[0].linkUrl) : "sg" === i ? (this.flagIcon = "sg", this.countryName = "Singapore", this.displayCountryName = "Singapore", n.push({
          linkUrl: "https://www.moh.gov.sg/covid-19",
          linkText: "Ministry of Health",
          icon: "www.moh.gov.sg.ico"
        }), o = n[0].linkUrl) : "in" === i ? (this.flagIcon = "in", this.countryName = "India", this.displayCountryName = "India", n.push({
          linkUrl: "https://www.mohfw.gov.in",
          linkText: "Ministry of Health and Family welfare",
          icon: "www.mohfw.gov.in.ico"
        }), o = n[0].linkUrl) : "ph" === i ? (this.flagIcon = "ph", this.countryName = "Philippines", this.displayCountryName = "Philippines", n.push({
          linkUrl: "https://www.doh.gov.ph/2019-nCoV",
          linkText: "Department of Health (Kagawaran ng Kalusugan)",
          icon: "www.doh.gov.ph.ico"
        }), o = n[0].linkUrl) : "za" === i ? (this.flagIcon = "za", this.countryName = "South Africa", this.displayCountryName = "South Africa", n.push({
          linkUrl: "https://www.gov.za/Coronavirus",
          linkText: "South Africa government response",
          icon: "www.gov.za.ico"
        }), o = n[0].linkUrl) : n.push({
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "WHO (World Health Organization)",
          icon: "www.who.int.ico"
        }, {
          linkUrl: "https://www.cdc.gov/coronavirus/2019-ncov",
          linkText: e.device.isMobile ? "CDC (Centers for Disease Control...)" : "CDC (Centers for Disease Control and Prevention)",
          icon: "www.cdc.gov.ico"
        }), 1 === n.length && n.push({
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "WHO (World Health Organization)",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Tips from the World Health Organization:",
          items: ["Wash your hands frequently.", "Avoid touching your face.", "Sneeze and cough into a tissue or your elbow.", "Avoid crowds and standing near others.", "Stay home if you think you might be sick.", "If you have a fever, cough, or difficulty breathing, follow advice given by your " + this._getLocalAuthorityLink("government's health authority", o) + "."]
        }, this.symptoms = {
          heading: "COVID-19 health information:",
          items: ["Symptoms: fever, cough, shortness of breath.", "Complications: pneumonia, Acute respiratory distress syndrome (ARDS), kidney failure.", "Risk Factors: age, serious underlying medical conditions (e.g. heart disease, diabetes, lung disease, etc)."]
        }) : (this.title = "Coronavirus Ziekte (COVID-19)", this.subtitle = "Verkrijg de laatste officiële informatie:", this.confirmed = "Bevestigde gevallen (door WHO)", this.worldLabel = "Wereld", this.mapLinkText = "Wereldwijde dekkingskaart (WHO)", this.tab1 = "Overzicht", this.tab2 = "Tips", this.tab3 = "Symptomen", this.tab4 = "Statistieken", "nl" === i ? (this.flagIcon = "nl", this.countryName = "Netherlands", this.displayCountryName = "Nederland", n.push({
          linkUrl: "https://www.rijksoverheid.nl/onderwerpen/coronavirus-covid-19",
          linkText: "Rijksoverheid",
          icon: "www.rijksoverheid.nl.ico"
        })) : (this.flagIcon = "be", this.countryName = "Belgium", this.displayCountryName = "België", n.push({
          linkUrl: "https://www.info-coronavirus.be/nl",
          linkText: "FOD Volksgezondheid",
          icon: "www.info-coronavirus.be.ico"
        })), n.push({
          linkUrl: "https://www.who.int/emergencies/diseases/novel-coronavirus-2019",
          linkText: "World Health Organization",
          icon: "www.who.int.ico"
        }), this.tips = {
          heading: "Tips van de Wereldgezondheidsorganisatie (WHO):",
          items: ["Was je handen regelmatig.", "Vermijd aanraken van je gezicht.", "Hoest en nies in een tissue of je elleboog.", "Vermijd groepen en houd voldoende afstand tot anderen.", "Blijf thuis als je verkoudheidsklachten krijgt.", "Volg bij koorts, hoesten, of kortademigheid het advies van " + this._getLocalAuthorityLink("de overheid", n[0].linkUrl) + "."]
        }, this.symptoms = {
          heading: "COVID-19 gezondheidsinformatie:",
          items: ["Symptomen: koorts, hoesten, kortademigheid.", "Complicaties: longontsteking, acute respiratory distress syndrome (ARDS), nierfalen.", "Risicofactoren: leeftijd, ernstige onderliggende medische aandoeningen (bijv. hartziekte, diabetes, longziekte, enz.)."]
        }), this.lang = s, n.forEach((function (t) {
          t.icon && (t.iconURL = e.services.getURL("icons") + t.icon)
        })), this.links = n
      },
      _getLocalAuthorityLink: function (e, t) {
        return t ? '<a class="js-covid19-link module__more-at" href="' + t + '" target="_blank" rel="noopener">' + e + "</a>" : e
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer;
    e.Models.Answers.Definitions = function (e) {
      var i = this._hasSingular(e.data);
      i ? $.getJSON("js/spice/dictionary/reference/" + i, function (t) {
        this._processData(t, e.data[0].word)
      }.bind(this)) : this._processData(e.data), t.call(this, e), this.loaded = !1
    }, e.Models.Answers.Definitions.prototype = $.extend({}, t.prototype, {
      _hasSingular: function (e) {
        var t = this._definitionsWithText(e)[0].text.match(/^(?:A )?plural (?:form )?of <xref>([^<]+)<\/xref>/i);
        return t && t[1]
      },
      _processData: function (e, t) {
        this.word = t || e[0].word, this.pluralFormOf = t && e[0].word, this.collapsedDefinitions = this._collapsedDefinitions(e), this.groups = this._groupByPartsOfSpeech(e), e[0].attributionText && (this.attribution = {
          text: e[0].attributionText.replace(/^from\s+/, ""),
          url: "https://www.wordnik.com/words/" + e[0].word
        }), this.canModuleExpand = this._definitionsWithText(e).length > 3 || this.groups.length > 1, this.getPronunciation(e[0].word), this.getAudio(e[0].word), this.set("loaded", !0)
      },
      _definitionsWithText: function (e) {
        return e.filter((function (e) {
          return e.text
        }))
      },
      _groupByPartsOfSpeech: function (e) {
        var t = e.reduce(function (e, t) {
          if (t.text) {
            var i = t.partOfSpeech;
            i && (e[i] = e[i] || [], e[i].push(this._formatText(t.text)))
          }
          return e
        }.bind(this), {});
        return Object.keys(t).map((function (e) {
          return {
            partOfSpeech: e,
            definitions: t[e]
          }
        }))
      },
      _formatText: function (e) {
        var t = e.replace(/<(?!\/?xref).+?>/g, "");
        return Handlebars.Utils.escapeExpression(t).replace(/&lt;xref.*?&gt;(.+?)&lt;\/xref&gt;/g, '<a class="module--definitions__reference js-definitions-link" href="https://www.wordnik.com/words/$1">$1</a>')
      },
      _collapsedDefinitions: function (e) {
        var t = this._groupByPartsOfSpeech(e);
        return {
          partOfSpeech: t[0].partOfSpeech,
          definitions: t[0].definitions.slice(0, 3)
        }
      },
      getPronunciation: function (e) {
        $.getJSON("js/spice/dictionary/pronunciation/" + e, function (e) {
          if (e && e.length) {
            var t = e.filter((function (e) {
              return "ahd-legacy" === e.rawType || "ahd-5" === e.rawType
            }));
            t.length && this.set("pronunciation", t[0].raw)
          }
        }.bind(this))
      },
      getAudio: function (e) {
        $.getJSON("js/spice/dictionary/audio/" + e, function (e) {
          if (e && e.length) {
            var t = e.find((function (e) {
              return "macmillan" === e.createdBy
            })) || e[0];
            if (t && t.fileUrl) {
              var i = "/audio/?u=" + encodeURIComponent(t.fileUrl);
              this.set("audio", i)
            }
          }
        }.bind(this)).fail(function () {
          this.set("noAudio", !0)
        }.bind(this))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Base;
    e.Models.CustomDateRange = function (i) {
      var s = e.search.getDateRange();
      this.fromDate = i.fromDate || s[0] || this._yesterday(), this.toDate = i.toDate || s[1] || new Date, t.call(this, i)
    }, e.Models.CustomDateRange.prototype = $.extend({}, t.prototype, {
      _yesterday: function () {
        var e = new Date;
        return e.setHours(0, 0, 0, 0), e.setDate((new Date).getDate() - 1), e
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base,
      i = "is-expanded";
    e.Views.Modules.Base = function (e) {
      this.model = e.model, t.call(this, e), this.bindEvents([
        [this.model, "change:expanded", this._onExpandedChanged],
        [this.model, "change:active", this._onActiveChanged]
      ])
    }, e.Views.Modules.Base.prototype = $.extend({}, t.prototype, {
      show: function () {
        this.$el.show();
        [{
          qsParam: "iax",
          modelState: "expanded"
        }, {
          qsParam: "iaxm",
          modelState: "isMapExpanded"
        }].map(function (e) {
          if (this._isModelInQuerystring(e.qsParam)) {
            var t = {};
            t[e.modelState] = !0, this.model.set(t)
          }
        }.bind(this))
      },
      hide: function () {
        this.$el.hide(), this.answer && this.answer.set("isMapExpanded", !1)
      },
      isValid: function () {
        return !0
      },
      showNoResults: function () {},
      _render: function () {
        t.prototype._render.call(this, this.model)
      },
      _wrapLinks: function () {},
      _expand: function () {
        e.keyboard.set("namespace", this.model.pixelId), DDG.addClass(this.model.id, this.$parent, i), "maps" === this.model.nameId ? e.history.set({
          iaxm: this.model.nameId
        }) : e.history.set({
          iax: this.model.nameId
        }), DDG.page.views.atb && DDG.page.views.atb.hide()
      },
      _collapse: function () {
        e.keyboard.set("namespace"), DDG.removeClass(this.model.id, this.$parent, i), "maps" === this.model.nameId ? e.history.clear("iaxm") : e.history.clear("iax")
      },
      _isModelInQuerystring: function (t) {
        var i = e.history.get(t),
          s = 1 === i || 0 === i ? e.history.get("ia") : i;
        return !!s && (this.model.id === s || this.model.parentId === s || this.model.nameId === s)
      },
      _onActiveChanged: function () {
        return this.model.active ? this.show() : this.hide()
      },
      _onExpandedChanged: function () {
        return this.model.expanded ? this._expand() : this._collapse()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.About = function (i) {
      if (t.call(this, i), this.itemModel = this.model.items[0], this._cacheElems(".js-about-module", ["content", "toggle", "more", "less"]), this.bindEvents([
          [this.model, "change:expanded", this._onExpandedChange],
          [this.$content, "click", this._onClick],
          [this.$toggle, "click", this._onToggleClick]
        ]), this.itemModel.header) {
        this.model.set("headerType", this.itemModel.headerType);
        var s = i.customHeader ? i.customHeader.headerClass : e.Views.About.AboutHeader;
        this.views.header = new s({
          before: this.$content,
          model: this.itemModel.header,
          answer: this.model,
          imagesVqd: this.itemModel.images_vqd
        })
      }
      this.model.items.length && (this.views.item = new e.Views.About.AboutItem({
        appendTo: this.$content,
        model: this.itemModel,
        answer: this.model
      })), this.calculateSize()
    }, e.Views.Modules.About.prototype = $.extend({}, t.prototype, {
      template: "about_module",
      calculateSize: function () {
        this._calculateHeight(), this._updateExpandedState()
      },
      _render: function (i) {
        t.prototype._render.call(this, i);
        var s = this.model.meta && this.model.meta.name;
        e.device.isEnglish && "maps_expanded" !== this.model.id && (this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          sourceName: this.model.meta.src_name,
          category: "wikipedia",
          categoryName: s,
          categoryValue: "Wikipedia" !== s ? "about" : "",
          promptText: lp("feedback form", "Share Feedback"),
          appendTo: this.$el,
          showYesNo: !1
        }))
      },
      _calculateHeight: function () {
        var e = this.$content[0];
        if (e && e.scrollHeight) {
          var t = e.clientHeight + (this.model.isSideModule ? 75 : 0);
          e.scrollHeight > t ? this.itemModel.set("isTooHigh", !0) : this.model.isSideModule && this.$el.addClass("has-content-height")
        }
      },
      _updateExpandedState: function () {
        this.itemModel.canModuleExpand && (this.itemModel.canModuleExpand() && !this.model.expanded ? (this.$toggle.show(), this.$more.show(), this.$less.hide(), this.$el.removeClass("is-expanded")) : this.itemModel.canModuleExpand() && this.model.expanded ? (this.$toggle.show(), this.$more.hide(), this.$less.show(), this.$el.addClass("is-expanded")) : (this.$more.hide(), this.$less.hide(), this.$el.removeClass("is-expanded")))
      },
      _onExpandedChange: function () {
        this._updateExpandedState()
      },
      _onClick: function () {
        this.model.engaged && this.model.engaged(), e.device.isMobileDevice && !this.model.isMapExpanded && (e.pixel.fire("iasm", this.model.pixelId, this.model.openType), this.model.set("expanded", !this.model.expanded))
      },
      _onToggleClick: function (t) {
        t.stopPropagation(), this.model.engaged(), e.pixel.fire("iasm", this.model.pixelId, this.model.openType), this.model.set("expanded", !this.model.expanded)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.About;
    e.Views.Modules.AboutMap = function (i) {
      this.model = i.answer, this.itemModel = i.model, i.customHeader = {
        headerClass: e.Views.ModuleImageHeader,
        answer: this.model
      }, i.model = this.model, t.call(this, i), this.bindEvents([
        [this.model, "change:isMapExpanded", this._onMapExpandedChange]
      ])
    }, e.Views.Modules.AboutMap.prototype = $.extend({}, t.prototype, {
      _render: function (e) {
        this.itemModel.expand(), t.prototype._render.call(this, e)
      },
      _onMapExpandedChange: function (e) {
        e && !this.model.expanded ? this.model.set("expanded", !0) : e || this.model.expanded || this.model.set("expanded", !1)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base,
      i = "half-opacity";
    e.Views.Modules.Forecast = function (i) {
      t.call(this, i), this._cacheElems(".js-forecast-module-detail", ["moreat"]), this._updateIcon(), this.bindEvents([
        [this.model.items, "change:hour", this._updateDetail],
        [this.model.items, "change:selected", this._updateDetail],
        [this.model.items, "beforeSend", this._setDetailTimer],
        [e.settings, "change:kae", this._rerender],
        [this.model.items, "change:unit", this._rerender],
        [this.$moreat, "click", this._onExternalLinkClick],
        [this.model, "change:openType", this._onOpenTypeChanged]
      ])
    }, e.Views.Modules.Forecast.prototype = $.extend({}, t.prototype, {
      template: "forecast_module",
      _getItems: function () {
        this.model && this.model.items && (this.model.items = this.model.items[0] ? this.model.items[0] : this.model.items)
      },
      _updateDetail: function () {
        clearTimeout(this._timer), this.$detail.html(e.exec_template("forecast_detail", this.model)), this._cacheElems(".js-forecast-module-detail", ["unit", "moreat", "moreatcontainer", "hours", "hoursmobile", "top", "bottom", "more"]), this.$top.removeClass(i), this.$bottom.removeClass(i), this.bindEvents([
          [this.$unit, "click", this._onUnitClick],
          [this.$more, "click", this._onExternalLinkClick]
        ])
      },
      _render: function (i) {
        this._getItems(), this.model.items.isEnglishDevice = e.device.isEnglish, t.prototype._render.call(this, this.model), this._cacheElems(".js-forecast-module", ["item", "detail"]), this.bindEvents([
          [this.$item, "click", this._onDailyCardClick]
        ]), this._updateDetail(), e.device.isEnglish && (this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          category: "forecast",
          promptText: lp("feedback form", "Share Feedback"),
          appendTo: this.$moreatcontainer,
          showYesNo: !1
        }))
      },
      _onDailyCardClick: function (e) {
        var t = $(e.currentTarget);
        this.$item.each((function (e, t) {
          $(t).removeClass("module__items-item--selected")
        })), t.addClass("module__items-item--selected"), e.preventDefault(), this.model.engaged(), this.model.items.updateSelected(t.data("item-index"))
      },
      _setDetailTimer: function () {
        this._timer = setTimeout(function () {
          this.$top.addClass(i), this.$bottom.addClass(i)
        }.bind(this), 500)
      },
      _onUnitClick: function (e) {
        e.preventDefault(), this.model.engaged(), this.model.items.updateUnit($(e.currentTarget).data("unit"))
      },
      _updateIcon: function () {
        if (this.model.openType && !this._changedIcon) {
          var e = "https://duckduckgo.com/assets/icons/meta/DDG-iOS-weather-icon_";
          $("#icon60").attr("href", e + "60x60.png"), $("#icon76").attr("href", e + "76x76.png"), $("#icon120").attr("href", e + "120x120.png"), $("#icon152").attr("href", e + "152x152.png"), this._changedIcon = !0
        }
      },
      _onExternalLinkClick: function (e) {
        return e.stopPropagation(), this.model.engaged(), this.model.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _onOpenTypeChanged: function () {
        this._updateIcon()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.Maps = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "change:isMapExpanded", this._onMapExpandedChanged]
      ])
    }, e.Views.Modules.Maps.prototype = $.extend({}, t.prototype, {
      template: "maps_module",
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-maps-module", ["map", "detailview", "control-topright", "control-bottomleft"]), this._renderAddressDetails(), this._renderStaticMap(), e.device.isEnglish && (this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          category: "maps",
          promptText: "Is this map helpful?",
          subtitleText: lp("feedback form", "Want to tell us a bit more?"),
          appendTo: this.$el
        }))
      },
      _renderStaticMap: function () {
        this.views.staticMap || (this.views.staticMap = new e.Views.Mapkit.StaticMap({
          markers: [this.model.selectedItem],
          marker: this.model.selectedItem,
          width: this.$el.outerWidth(),
          height: 200,
          appendTo: this.$map,
          showCTA: !0,
          answer: this.model
        }), this.bindEvents([
          [this.views.staticMap, "click", this._onStaticMapClicked]
        ]))
      },
      _renderAddressDetails: function () {
        this.views.detail || (this.views.detail = new e.Views.Address.AddressDetail({
          model: this.model.selectedItem,
          appendTo: this.$detailview,
          answer: this.model
        }))
      },
      _onStaticMapClicked: function () {
        e.router.navigate("toggle-map", {
          model: this.model,
          directionsModel: this.model.directionsModel,
          isMapExpanded: !0
        }), this.model.fire("iacg"), this.model.engaged()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.Directions = function (i) {
      if (!e.history.get("iaxm")) {
        this._ops = i, this.model = i.model, this._rawLocations = this.model && this.model.data && this.model.data[0];
        var s = e.duckbar.tabs.maps_expanded,
          a = s && s.expandedMap && s.expandedMap.model,
          o = a && a.directionsModel;
        this.directionsModel = o || new e.Models.Maps.Directions({
          start: this._rawLocations.start,
          end: this._rawLocations.end,
          userLocation: this._rawLocations.user_location
        }), e.modulesLayout && e.modulesLayout.modules && e.modulesLayout.modules.directions && (e.modulesLayout.modules.directions.directionsModel = this.directionsModel), this._rawLocations && (this._rawLocations.start || this._rawLocations.end) ? (this.model.canShowMap = !0, e.pixel.fire("dir_map", {
          start: !!this._rawLocations.start,
          end: !!this._rawLocations.end
        })) : e.pixel.fire("dir_emp"), t.call(this, this._ops), this.bindEvents([
          [this.model, "change:isMapExpanded", this._onMapExpandedChanged],
          [this.directionsModel, "change:start", this._onLocationChange],
          [this.directionsModel, "change:end", this._onLocationChange],
          [this.directionsModel, "change:routeList", this._onRouteListChange],
          [this.directionsModel, "change:canRoute", this._onCanRouteChange],
          [this.directionsModel, "change:isRouting", this._onIsRoutingChange],
          [e.settings, "change:kae", this._onThemeChange]
        ])
      }
    }, e.Views.Modules.Directions.prototype = $.extend({}, t.prototype, {
      template: "directions_module",
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-directions-module", ["search", "map", "cta", "details", "skeletonloader", "privacy-link"]), this.bindEvents([
          [this.$cta, "click", this._expandMapDirections],
          [this.$map, "click", this._expandMapDirections],
          [this.$el, "submit", this._expandMapDirections]
        ]), this._rawLocations && (this._addLocations(this._rawLocations), this._rawLocations.start && this._rawLocations.end && (this._toggleCTA(!0), this._tryToRoute())), this._initSearch(), this.model.isMapExpanded || (this.$el.addClass("has-feedback-prompt"), this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          sourceName: this.model.sourceName,
          category: "directions",
          categoryName: "Directions",
          categoryValue: "directions",
          promptText: lp("feedback form", "Share Feedback"),
          showYesNo: !1,
          appendTo: this.$el,
          subtitleText: lp("feedback form", "Share feedback for this result.")
        }), e.device.isDesktop && (this.views.feedback && this.views.feedback.$el.prepend(this.$privacylink), this.$privacylink.removeClass("is-hidden")))
      },
      _tryToRoute: function () {
        this.directionsModel.startDisplay && this.directionsModel.endDisplay && this.directionsModel.canRoute && (this.model.isMapExpanded || this._route())
      },
      _addLocations: function (e) {
        e && (e.start || e.end) && ["start", "end"].forEach(function (t) {
          var i = "start" === t ? "end" : "start";
          e[t] && (this.directionsModel.autocompleteLocation({
            loc: e[t],
            type: t
          }, !0), !e[i] && e.user_location && (this.directionsModel.addLocation({
            coordinate: {
              lat: e.user_location.lat,
              lon: e.user_location.lon
            },
            type: i
          }), this.directionsModel.set(i + "Display", lp("directions", "Your Location"))))
        }.bind(this))
      },
      _initSearch: function () {
        this.views.directionsSearch = new e.Views.Maps.DirectionsSearch({
          model: this.model,
          directionsModel: this.directionsModel,
          appendTo: this.$search
        })
      },
      _route: function () {
        this.model.canShowMap && this.directionsModel.canRoute && this.directionsModel.route(null, !0)
      },
      _expandMapDirections: function (t) {
        t.preventDefault(), e.pixel.fire("dir_exp");
        try {
          var i = {};
          i.start = this.views.directionsSearch.views.mapSearchbarStart.getCurrentValue(), i.end = this.views.directionsSearch.views.mapSearchbarEnd.getCurrentValue(), ["start", "end"].forEach(function (e) {
            i[e] !== this.directionsModel[e + "Display"] && (this.directionsModel.set("start" === e ? "isStartUpdating" : "isEndUpdating", !0), this.directionsModel.autocompleteLocation({
              loc: i[e],
              type: e,
              callbackFn: function () {
                this.set("isStartUpdating", !1), this.set("start" === e ? "isStartUpdating" : "isEndUpdating", !1)
              }.bind(this.directionsModel)
            }))
          }.bind(this))
        } catch (t) {}
        this.directionsModel.start && this.directionsModel.end && e.router.navigate("toggle-map", {
          model: this.model,
          directionsModel: this.directionsModel,
          isMapExpanded: !0,
          isDirections: !0
        })
      },
      _toggleCTA: function (e) {
        this.$cta.toggleClass("is-disabled", !e)
      },
      _toggleIsLoaded: function (e) {
        this.$el.toggleClass("is-loaded", e), this.$cta.toggleClass("is-disabled", !e)
      },
      _toggleHasResults: function (e) {
        this.$el.toggleClass("has-results", e), this.$cta.toggleClass("is-disabled", !e)
      },
      _updateSnapshot: function () {
        this.$map.find("img").remove();
        var t = "";
        if (this._points && this._points.length > 0) t = e.mapkit.getStaticDirectionsURL(this._points, {
          width: this.$map.outerWidth(),
          height: this.$map.outerHeight()
        });
        else {
          var i = this.directionsModel.userLocation || this.directionsModel.coordEnd;
          t = e.mapkit.getStaticEmptyMapURL({
            latitude: i.lat || i.latitude,
            longitude: i.lon || i.longitude,
            width: this.$map.outerWidth(),
            height: this.$map.outerHeight()
          })
        }
        var s = document.createElement("img");
        s.src = t, this.$map.append(s)
      },
      _onCanRouteChange: function (e) {
        this._toggleCTA(e)
      },
      _onLocationChange: function () {
        e.history.get("iaxm") || this._route()
      },
      _onIsRoutingChange: function (e) {
        this._toggleCTA(!e), this.$skeletonloader.toggle(e)
      },
      _onRouteListChange: function () {
        if (!e.history.get("iaxm")) {
          var t = this.directionsModel.routeList.length;
          0 === t && e.pixel.fire("dir_no"), this._toggleHasResults(t > 0), this.directionsModel.set("canShowMap", !0), this.views.directionsRouteInfo = this.views.directionsRouteInfo || new e.Views.Maps.DirectionsRouteInfo({
            model: this.directionsModel,
            appendTo: this.$details
          }), this._points = [], t > 0 && this.directionsModel.fastestRoute.path.forEach(function (e) {
            e.forEach(function (e) {
              this._points.push([e.lat, e.lng])
            }.bind(this))
          }.bind(this)), this._updateSnapshot()
        }
      },
      _onThemeChange: function () {
        this._updateSnapshot()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.ClickableItem;
    e.Views.Modules.CarouselItem = function (i) {
      if (this.model = i.model, this.answer = i.answer, "news" !== this.model.parentId ? this.model.link = this.model.url : (this.model.isNews = 1, this.model.link = this.model.id), this._isSingleVideoModule = !!(this.answer && "Videos" === this.answer.answerType && this.answer.items && 1 === this.answer.items.length && this.model && this.model.images && this.model.images.medium), t.call(this, i), this._cacheElems(".js-carousel-item", ["image-wrapper", "image", "img-placeholder", "title", "content"]), this._isSingleVideoModule) {
        var s = this.$image.get(0),
          a = DDG.getImageProxyURL(this.model.images.medium, {
            width: 200 * Math.ceil(s.clientWidth / 200),
            noAutoPadding: !0
          });
        s.style.cssText = "background-image: url(" + a + ");"
      }
      this.bindEvents([
        [this.$el, "mouseenter", this._onMouseEnter],
        [this.$el, "mouseleave", this._onMouseLeave],
        [this.model, "change:image", this._onImageFetched],
        [this.model, "change:highlighted", this._onHighlightedChanged],
        [e.device, "resize", this.calculateSize]
      ]), this._updateEllipsis()
    }, e.Views.Modules.CarouselItem.prototype = $.extend({}, t.prototype, {
      template: "carousel_module_item",
      getWidth: function () {
        return this._width || (this._width = this.$el.outerWidth(!0)), this._width
      },
      calculateSize: function () {
        this._updateEllipsis(), delete this._width
      },
      _render: function (e) {
        t.prototype._render.call(this, $.extend({
          isSingleVideoModule: this._isSingleVideoModule
        }, this.model))
      },
      _updateEllipsis: function () {
        this.$title.ellipsis({
          id: this.model.id + "-title"
        }), this.$content.ellipsis({
          id: this.model.id + "-content"
        })
      },
      _onImageFetched: function () {
        var e = DDG.getImageProxyURL(this.model.image, {
          height: 120
        });
        this.$img = $('<div class="module--carousel__image" style="background-image:url(' + e + ')"></div>'), this.$imagewrapper.append(this.$img), this.$imgplaceholder.hide()
      },
      _onMouseEnter: function () {
        this.model.highlight()
      },
      _onMouseLeave: function () {
        this.model.unhighlight()
      },
      _onClick: function (i, s) {
        if (this.model.highlight(), "2" === e.settings.get("k5") || "videos" !== this.answer.id) t.prototype._onClick.call(this, i, s);
        else {
          e.duckbar.open("videos");
          var a = e.duckbar.tabs.videos.model,
            o = a.itemsById[this.model.id];
          if (o && o.pixelated) return;
          a.itemsById[this.model.id] ? (a.itemsById[this.model.id].set("selected", 1), a.set("openedFromModule", !0)) : e.pixel.fire("jse", "videos")
        }
      },
      _onHighlightedChanged: function () {
        this.$el.toggleClass("is-highlighted", !!this.model.highlighted)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.CarouselItem;
    e.Views.Modules.AdsCarouselItem = function (e) {
      i.call(this, e)
    }, t.AdsCarouselItem.prototype = $.extend({}, i.prototype, {
      _onClick: function (e, t) {
        this.model.bing && this.answer.clickedExternalLink({}, e), i.prototype._onClick.call(this, e, t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.AdsCarouselItem;
    e.Views.Modules.ProductsCarouselItem = function (e) {
      i.call(this, e)
    }, t.ProductsCarouselItem.prototype = $.extend({}, i.prototype, {
      template: "carousel_module_item_products"
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.AdsCarouselItem;
    e.Views.Modules.AutoAdsCarouselItem = function (t) {
      this.tooltip = new e.Views.TooltipMixin(this), i.call(this, t)
    }, t.AutoAdsCarouselItem.prototype = $.extend({}, i.prototype, {
      template: "carousel_module_item_auto_ads",
      _render: function (e) {
        i.prototype._render.call(this, e), this.model.location && this.tooltip.setup({
          $triggerElement: this.$(".module--carousel__location"),
          content: new DDG.Views.AutoAdsTooltip({
            hasDeliveryLocation: this.model.hasDeliveryLocation
          }),
          align: "left",
          darkerBackgroundDarkTheme: !0,
          tooltipHoverable: !1,
          centerTriangleOnTriggerElement: !1
        })
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base,
      i = ["videos", "news", "maps_expanded", "products"],
      s = {
        maps_expanded: "maps",
        products: "shopping"
      },
      a = 2;
    e.Views.Modules.Carousel = function (e) {
      t.call(this, e), this.views = {
        items: [],
        itemsById: {}
      }, this._cacheElems(".js-carousel-module", ["items", "more", "title", "left", "right", "more-at", "main-source"]), this.bindEvents([
        [this.model, "change:items", this._updateItems],
        [this.$moreat, "click", this._onExternalLinkClick],
        [this.$items, "scroll", this._onScroll]
      ]), this.model.items.length ? this._updateItems() : DDG.deep.isBingV7() && !this.model.loaded ? this.model.on("load", this._onLoadedFromDeep.bind(this)) : this._onLoadedFromDeep()
    }, e.Views.Modules.Carousel.ITEMS_PER_PAGE = 3, e.Views.Modules.Carousel.prototype = $.extend({}, t.prototype, {
      template: "carousel_module",
      ItemClass: e.Views.Modules.CarouselItem,
      _render: function () {
        e.$html.hasClass("is-vertical-tabs-exp") && !e.device.isMobile && i.includes(this.model.id) && (a = 0, this.model.icon_template = "icon_" + (s[this.model.id] || this.model.id)), t.prototype._render.call(this, this.model)
      },
      hide: function () {
        $.noop()
      },
      calculateSize: function () {
        var e = this.$el.width();
        this._width !== e && (this._scrollToPage(this._currentPage, !1), this._width = e)
      },
      _updateItems: function () {
        if (!this._rendered) {
          this._rendered = !0, this.$title.removeClass("is-hidden");
          var t = this.model.items,
            i = this.model.gridColumns;
          this._isPagedCarousel = !e.device.isMobileDevice && t.length > 3 && !i, this._showMoreItemsCTA() ? (this.$more.removeClass("is-hidden"), this.bindEvents([
            [this.$more, "click", this._onMoreClick],
            [this.$title, "click", this._onMoreClick]
          ])) : 2 === t.length ? this.$el.addClass("has-two-items") : 1 === t.length && (this.$el.addClass("has-one-item"), "videos" === this.model.id && this.bindEvents([
            [this.$title, "click", this._onMoreClick]
          ]));
          for (var s = 0; s < 12; s++) {
            var a = t[s];
            if (!a) break;
            var o = new this.ItemClass({
              appendTo: this.$items,
              model: a,
              answer: this.model
            });
            this.views.items.push(o), this.views.itemsById[a.id] = o
          }
          this._width = this.$el.width(), this._appendFeedback(), this._isPagedCarousel && this._initPagedCarousel(), this._selectItemFromQueryString()
        }
      },
      _showMoreItemsCTA: function () {
        var e = this.model.items,
          t = DDG.deep.isBingV7() && "videos" === this.model.id;
        return this._isPagedCarousel || e.length > 12 || t && 10 === e.length
      },
      _feedbackOptions: function () {
        var e = "videos" === this.model.id && 1 === this.model.items.length;
        return {
          extraData: "videos" === this.model.id ? {
            single: +e
          } : null,
          promptText: e ? lp("feedback form", "Is this video helpful?") : lp("feedback form", "Are these links helpful?")
        }
      },
      _appendFeedback: function () {
        if (e.device.isEnglish && !e.device.isMobile) {
          var t = this._feedbackOptions();
          this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
            category: this.model.id,
            promptText: t.promptText,
            extraData: t.extraData,
            subtitleText: lp("feedback form", "Want to tell us a bit more?"),
            appendTo: this.$el
          })
        }
      },
      _initPagedCarousel: function () {
        this._currentPage = 0;
        var t = this.views.items.length;
        this._lastPage = Math.ceil(t / 3) - 1, this.$right.removeClass("is-hidden"), this.bindEvents([
          [this.$left, "click", this._onLeftClick],
          [this.$right, "click", this._onRightClick],
          [e.device, "resize", this.calculateSize]
        ])
      },
      _selectItemFromQueryString: function () {
        var t = e.history.get("iai"),
          i = e.history.get("ia");
        this.model.nameId === i && void 0 !== t && this._highlightAndScrollToItem(t)
      },
      _highlightAndScrollToItem: function (e) {
        var t = this.model.itemsById[e];
        if (t && t.highlight(), this._isPagedCarousel)
          for (var i = 0; i < this.views.items.length; i++)
            if (this.views.itemsById[e] === this.views.items[i]) {
              var s = Math.floor(i / 3);
              this._scrollToPage(s, !1);
              break
            }
      },
      _scrollToPage: function (e, t) {
        if (void 0 !== e) {
          t = t || void 0 === t;
          var i = this.views.items[0].getWidth() * e * 3;
          i -= a, t ? this.$items.animate({
            scrollLeft: i
          }) : this.$items.scrollLeft(i), 0 === e ? this.$left.addClass("is-hidden") : this.$left.removeClass("is-hidden"), e === this._lastPage ? this.$right.addClass("is-hidden") : this.$right.removeClass("is-hidden"), this._currentPage = e
        }
      },
      _onMoreClick: function (t) {
        t.preventDefault(), this.model.engaged(), this.model.fire("iacg"), e.duckbar.open(this.model.id)
      },
      _onLeftClick: function () {
        var e = Math.max(0, this._currentPage - 1);
        this._scrollToPage(e), this.model.engaged()
      },
      _onRightClick: function () {
        var e = Math.min(this._lastPage, this._currentPage + 1);
        this._scrollToPage(e), this.model.engaged()
      },
      _onExternalLinkClick: function (e) {
        return e.stopPropagation(), this.model.engaged(), this.model.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _hasScrolled: !1,
      _onScroll: function () {
        this._hasScrolled || (this.model.engaged(), this._hasScrolled = !0)
      },
      _onLoadedFromDeep: function () {
        this.model.items.length ? this._updateItems() : this.model.load()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.Carousel;
    t.AdsCarousel = function (t) {
      i.call(this, t), e.device.isMobileDevice ? this.$items.on("touchend", this._triggerSendVisibility.bind(this)) : this.model.gridColumns && e.device.on("scroll", this._triggerSendVisibility.bind(this)), this._appendAdBadge()
    }, t.AdsCarousel.prototype = $.extend({}, i.prototype, {
      ItemClass: e.Views.Modules.AdsCarouselItem,
      _updateItems: function () {
        i.prototype._updateItems.call(this), this._reportVisibility()
      },
      _feedbackOptions: function () {
        return {
          extraData: null,
          promptText: lp("feedback form", "Are these ads helpful?")
        }
      },
      _showMoreItemsCTA: function () {
        return !this.model.meta.hidden && (i.prototype._showMoreItemsCTA.call(this) || this.model.items.length > e.Views.Modules.Carousel.ITEMS_PER_PAGE)
      },
      _appendAdBadge: function () {
        if (this.model.bing) {
          var e = this.$el,
            t = this.$mainsource,
            i = this.model.isSideModule ? t : e;
          this.views.adBadge = new DDG.Views.AdBadge({
            appendTo: i,
            context: "product-carousel",
            label: 1 === this.model.items.length ? l("Ad") : l("Ads")
          })
        }
      },
      _scrollToPage: function (e, t) {
        t = t || void 0 === t, i.prototype._scrollToPage.call(this, e, t);
        var s = !1;
        t || (s = !0), s ? this._reportVisibility() : this._triggerSendVisibility()
      },
      _highlightAndScrollToItem: function (e) {
        this.model.bing || i.prototype._highlightAndScrollToItem.call(this, e)
      },
      _getVisibleItemIndexes: function () {
        if (this._isPagedCarousel) return this._getVisiblePagedCarouselIndexes();
        if (this.model.gridColumns) return this._getVisibleItemIndexesGrid();
        for (var e = this.$items.scrollLeft(), t = e + this._width, i = 0, s = [], a = 0; a < this.views.items.length; a++) {
          var o = this.views.items[a].getWidth(),
            n = i + o;
          if (i >= t) break;
          n > e && s.push(a), i += o
        }
        return s
      },
      _getVisibleItemIndexesGrid: function () {
        var e = $(window),
          t = [];
        for (var i in this.views.items) {
          var s = this.views.items[i].$el,
            a = s && s.offset();
          a && a.left + s.width() > e.scrollLeft() && a.top + s.height() > e.scrollTop() && a.left < e.scrollLeft() + e.innerWidth() && a.top < e.scrollTop() + e.innerHeight() && t.push(parseInt(i, 10))
        }
        return t
      },
      _getVisiblePagedCarouselIndexes: function () {
        var t = this._currentPage * e.Views.Modules.Carousel.ITEMS_PER_PAGE,
          i = [];
        t + e.Views.Modules.Carousel.ITEMS_PER_PAGE > this.views.items.length && this.views.items[t - 1] && (t -= 1);
        for (var s = t; s < t + e.Views.Modules.Carousel.ITEMS_PER_PAGE; s++) this.views.items[s] && i.push(s);
        return i
      },
      _reportVisibility: function () {
        if (this.model.hasCarouselFeedbackReporting) {
          var t = this._getVisibleAndHiddenItems();
          return e.pageLayout.reportProductAdVisibility(t.position, t.visible, t.hidden)
        }
      },
      _triggerSendVisibility: function () {
        if (this.model.hasCarouselFeedbackReporting) {
          var t = this._reportVisibility();
          e.pageLayout.adReporting.sendCarouselAdsVisibility(t)
        }
      },
      _getVisibleAndHiddenItems: function () {
        var e = this._getVisibleItemIndexes();
        if (e) {
          var t = {
            hidden: [],
            visible: [],
            position: this.model.isSideModule ? "sidebar" : "mainline"
          };
          return this.views.items.forEach((function (i, s) {
            -1 === e.indexOf(s) ? t.hidden.push(i) : t.visible.push(i)
          })), t
        }
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.AdsCarousel;
    t.ProductsCarousel = function (e) {
      i.call(this, e)
    }, t.ProductsCarousel.prototype = $.extend({}, i.prototype, {
      ItemClass: e.Views.Modules.ProductsCarouselItem,
      _feedbackOptions: function () {
        return {
          extraData: "products" === this.model.id && !this.model.bing ? {
            amazon: 1
          } : null,
          promptText: "products" === this.model.id && this.model.bing ? lp("feedback form", "Are these ads helpful?") : lp("feedback form", "Are these links helpful?")
        }
      },
      _showMoreItemsCTA: function () {
        return !this.model.meta.hidden && (i.prototype._showMoreItemsCTA.call(this) || this.model.items.length > e.Views.Modules.Carousel.ITEMS_PER_PAGE)
      },
      _appendFeedback: function () {
        this.model.gridColumns && !this.model.meta.hidden || i.prototype._appendFeedback.call(this)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.AdsCarousel;
    t.AutoAdsCarousel = function (e) {
      i.call(this, e)
    }, t.AutoAdsCarousel.prototype = $.extend({}, i.prototype, {
      ItemClass: e.Views.Modules.AutoAdsCarouselItem,
      _showMoreItemsCTA: function () {
        return !1
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base,
      i = e.device.isMobile ? 44 : 57,
      s = e.device.isMobile ? 2 : 20,
      a = {
        regular: {
          desktop: {
            height: 280,
            rows: 2
          },
          desktopSmall: {
            height: 280,
            rows: 2
          },
          mobile: {
            height: 142,
            rows: 1
          }
        },
        fallback: {
          desktop: {
            rows: 2
          },
          desktopSmall: {
            rows: 2
          },
          mobile: {
            rows: 2
          }
        }
      };
    e.Views.Modules.Images = function (i) {
      t.call(this, i), this._cacheElems(".js-images", ["show-more", "thumbnails"]), this._updateContainerDimensions(), this._numRows = this._getSettings().rows, this.bindEvents([
        [this.model, "change:items", this._onItemsChanged],
        [this.model, "change:failed", this._onItemsChanged],
        [e.device, "resize", this._onResize],
        [this.$showmore, "click", this._onMoreClick]
      ]), this.model.items.length ? this._onItemsChanged() : DDG.deep.isBingV7() && !this.model.loaded ? this.model.on("load", this._onLoadedFromDeep.bind(this)) : this._onLoadedFromDeep()
    }, e.Views.Modules.Images.prototype = $.extend({}, t.prototype, {
      template: "images_module",
      calculateSize: function (e) {
        this.$parent.width() - s !== this._containerWidth && (this._updateContainerDimensions(), this.$thumbnails.empty(), this.thumbnailsLoaded = !1, this._onItemsChanged())
      },
      _render: function () {
        e.$html.hasClass("is-vertical-tabs-exp") && !e.device.isMobile && (this.model.icon_template = "icon_images", s = 0), t.prototype._render.call(this, this.model)
      },
      _openImagesIA: function () {
        this.model.engaged(), e.duckbar.open("images", {})
      },
      _updateContainerDimensions: function () {
        this.$thumbnails.css("height", this._getSettings().height), this._containerHeight = this.$el.height() - i, this._containerWidth = this.$el.width() - s
      },
      _onItemsChanged: function () {
        if (this.model.items.length) {
          var t = 0;
          if (!this.thumbnailsLoaded) {
            this.thumbnailsLoaded = !0;
            for (var i = [], s = 0; s < this._numRows; s++) {
              var a = this.model.getModuleRow(i.length, this._containerWidth, this._getSettings().height / this._numRows);
              a && a.length && t++, i = i.concat(a)
            }
            if (!i.length) return void this.$parent.css({
              height: "0px",
              overflow: "hidden"
            });
            this.$el.css({
              visibility: "visible"
            }), t < this._numRows && this.$thumbnails.css("height", this._containerHeight / this._numRows * t), this.$thumbnails.append(e.$exec_template("images_module_thumbnails", i)), this.$(".js-images-link").on("click", this._onItemClick.bind(this))
          }
        } else this.$parent.css({
          height: "0px",
          overflow: "hidden"
        })
      },
      _onItemClick: function (t) {
        t.preventDefault(), t.stopPropagation();
        var i = $(t.currentTarget).data("id"),
          s = this.model.itemsById[i];
        !e.device.isMobile || this.model.isFallback || s.pixelated || this.model.set("openedFromModule", !0), this._openImagesIA(), s.pixelated || s && s.select()
      },
      _onMoreClick: function (e) {
        e.preventDefault(), this.model.fire("iacg"), this._openImagesIA()
      },
      _cachedOuterWidth: window.outerWidth,
      _onResize: function () {
        this._cachedOuterWidth !== window.outerWidth && (this.calculateSize(), this._cachedOuterWidth = window.outerWidth)
      },
      _getSettings: function () {
        var t = e.device.isMobile ? "mobile" : "desktop";
        return this.$parent.hasClass("module--placeholder") ? {
          height: this.$parent.height() - i,
          rows: this.$parent.height() > 200 ? a.fallback[t].rows : 1
        } : (this.model.items.length && this.model.items.length < 10 && !e.device.isMobile && (t += "Small"), a.regular[t])
      },
      _onLoadedFromDeep: function () {
        this.model.items.length ? this._onItemsChanged() : this.model.load()
      },
      hide: function () {
        $.noop()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules,
      i = t.Base,
      s = {
        forecast: {
          desktop: 404,
          mobile: 418
        },
        maps_maps: {
          desktop: 285
        },
        maps_places: {
          mobile: 363
        },
        news: {
          desktop: 343,
          mobile: 343
        },
        videos: {
          desktop: 343,
          mobile: 343
        },
        images: {
          desktop: 367,
          mobile: 188
        },
        recipes: {
          desktop: 343,
          mobile: 343
        },
        products: {
          desktop: 343,
          mobile: 343
        },
        maps_places_snippet: {
          desktop: 96
        }
      };
    t.Placeholder = function (e) {
      this.signalWait = e.signalWait, this.timeAdded = (new Date).getTime(), i.call(this, e), this.show(), this.updateHeight()
    }, t.Placeholder.prototype = $.extend({}, i.prototype, {
      template: "module_placeholder",
      isModule: !0,
      updateHeight: function () {
        var t = 190;
        e.device.isMobile && s[this.signalWait] && s[this.signalWait].mobile ? t = s[this.signalWait].mobile : s[this.signalWait] && (t = s[this.signalWait].desktop), this.$el.height(t)
      },
      showImages: function (t) {
        t.set("isFallback", !0), this.views.images = new e.Views.Modules.Images({
          model: t,
          appendTo: this.$el
        }), DDG.deep.isBingV7() && t.emit("load")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.Places = function (i) {
      if (i.model = i.answer ? i.answer : i.model, t.call(this, i), this.bindEvents([
          [this.$el, "click", this._onClick],
          [this.$map, "click", this._onMapClick]
        ]), this.model.geoip) {
        var s = new e.Models.UserLocation({
          lat: parseFloat(this.model.geoip.lat),
          lon: parseFloat(this.model.geoip.lon),
          type: e.Models.UserLocation.GEOIP_LOCATION
        });
        s.isValid() && e.userLocator.setGeoIPLocation(s)
      }
    }, e.Views.Modules.Places.prototype = $.extend({}, t.prototype, {
      template: "places_module",
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-places-module", ["content", "more", "less", "map"]), this._viewClass = this.model.items.length > 1 ? "PlacesMultiple" : "PlacesSingle", this.views.module = new e.Views.Places[this._viewClass]({
          appendTo: this.$content,
          model: this.model
        }), this.model.isMapExpanded || (this.$el.addClass("has-feedback-prompt"), this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          sourceName: this.model.sourceName,
          category: "maps",
          categoryName: "Places",
          categoryValue: this.model.items.length > 1 ? "places_multiple" : "places_single",
          promptText: lp("feedback form", "Share Feedback"),
          showYesNo: !1,
          appendTo: this.$el,
          subtitleText: lp("feedback form", "Share feedback for this result.")
        }))
      },
      _onClick: function (e) {
        e.stopPropagation(), this.model.engaged()
      },
      _onMapClick: function () {
        e.router.navigate("toggle-map", {
          model: this.model,
          isMapExpanded: !0
        }), e.pixel.fire("map_cta", "link")
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.RelatedSearches = function (e) {
      e.model.items && e.model.items.forEach((function (e) {
        e.web_search_url = e.web_search_url + (w.rv ? "&v=" + w.rv : "") + (w.kurl ? w.kurl : "")
      })), t.call(this, e), this._cacheElems(".js-related-searches", ["link"]), this.bindEvents([
        [this.$link, "click", this._onLinkClick]
      ])
    }, e.Views.Modules.RelatedSearches.prototype = $.extend({}, t.prototype, {
      template: "related_searches_module",
      _render: function (i) {
        var s = Math.ceil(i.model.items.length / 2),
          a = i.model.items,
          o = {
            query: Handlebars.Utils.escapeExpression(e.history.get("q")),
            firstHalf: a.slice(0, s),
            secondHalf: a.slice(s)
          };
        $.extend(this.model, o), t.prototype._render.call(this)
      },
      _onLinkClick: function (e) {
        e.stopPropagation();
        var i = {
          isPinnedToBottom: !!this.model.isAtBottom
        };
        return this.model.engaged(i), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.Covid19 = function (i) {
      t.call(this, i), this._cacheElems(".js-covid19", ["link", "cases", "local", "localrow", "world", "tab1", "tab2", "tab3", "tab4", "tab5", "panel1", "panel2", "panel3", "panel4", "panel5", "feedback", "footer", "stats", "updated", "wiki"]), this.bindEvents([
        [this.$link, "click", this._onExternalLinkClick],
        [this.$wiki, "click", this._onExternalLinkClick],
        [this.$tab1, "click", this._tabClick],
        [this.$tab2, "click", this._tabClick],
        [this.$tab3, "click", this._tabClick],
        [this.$tab4, "click", this._tabClick],
        [this.$tab5, "click", this._tabClick],
        [this.$stats, "click", this._moreStats],
        [this.model, "change:loaded", this._showCases]
      ]), this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
        category: "covid",
        promptText: lp("feedback form", "Share Feedback"),
        appendTo: this.$feedback,
        showYesNo: !1
      }), this.pixelId = "covid19", this.model.getCasesData();
      var s = this.model.vaccines && /(vaccines?)|(mortality)|(deaths)/.test(this.model.query);
      this._openTab(s ? 5 : 1)
    }, e.Views.Modules.Covid19.prototype = $.extend({}, t.prototype, {
      template: "covid_19",
      _openTab: function (t) {
        this.$tab1.removeClass("is-active"), this.$tab2.removeClass("is-active"), this.$tab3.removeClass("is-active"), this.$tab4.removeClass("is-active"), this.$tab5.removeClass("is-active"), this.$panel1.addClass("is-hidden"), this.$panel2.addClass("is-hidden"), this.$panel3.addClass("is-hidden"), this.$panel4.addClass("is-hidden"), this.$panel5.addClass("is-hidden"), this["$panel" + t].removeClass("is-hidden"), this["$tab" + t].addClass("is-active"), e.pixel.fire("iae", this.pixelId, this.model.openType, {
          t: t
        })
      },
      _moreStats: function (e) {
        e.preventDefault(), this._openTab(4)
      },
      _tabClick: function (e) {
        e.preventDefault();
        var t = $(e.currentTarget);
        this["$panel" + t.data("id")].removeClass("is-hidden"), this._openTab(t.data("id"))
      },
      _showCases: function () {
        this.$cases.removeClass("is-hidden"), this.$world.text(this.model.worldLabel + ": " + this.model.world.toLocaleString()), this.model.local && (this.$localrow.removeClass("is-hidden"), this.$local.text(this.model.displayCountryName + ": " + this.model.local.toLocaleString())), this.$panel4.append(DDG.exec_template("covid_19_cases", this.model)), e.device.isMobile || (this.$updated.text(this.model.updated), this.$footer.show())
      },
      _onExternalLinkClick: function (i) {
        return i.stopPropagation(), e.pixel.fire("iae", this.pixelId, this.model.openType), t.prototype._onExternalLinkClick.call(this, i)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.About.AboutItem = function (i) {
      this.answer = i.answer, t.call(this, i), this._cacheElems(".js-about-item", ["abstr", "link", "directions", "more-at-inline", "more-at-bottom", "clickable-header"]), this.bindEvents([
        [this.answer, "change:expanded", this._onExpandedChange],
        [this.$link, "click", this._onExternalLinkClick],
        [this.$directions, "click", this._onDirectionsClick],
        [this.$moreatinline, "click", this._onExternalLinkClick],
        [this.$moreatbottom, "click", this._onExternalLinkClick],
        [this.$clickableheader, "click", this._onExternalLinkClick]
      ]), this.model.hasInfobox && (this.views.infobox = new e.Views.About.AboutInfoBox({
        appendTo: this.$el,
        model: this.model.infobox
      })), this.model.profiles && (this.answer.set("profileLinks", this.model.profiles.links.length), this.views.profiles = new e.Views.About.AboutProfiles({
        appendTo: this.$el,
        model: this.model.profiles,
        answer: this.answer
      })), this._updateExpandedState()
    }, e.Views.About.AboutItem.prototype = $.extend({}, t.prototype, {
      template: "about_item",
      _render: function () {
        if (this.model.isMapExpanded = this.answer.isMapExpanded, t.prototype._render.call(this, this.model), this.answer.isMapExpanded && this._cacheElems(".js-about-item", ["title"]), this.model.header && this.model.header.mapLocation) {
          var i = e.duckbar.tabs.maps_expanded,
            s = i && i.expandedMap && i.expandedMap.model,
            a = s && s.directionsModel;
          this.answer.directionsModel = this.answer.directionsModel || a || new e.Models.Maps.Directions
        }
        this.answer && this.answer.id && "lyrics" === this.answer.id && (this._cacheElems(".js-about-item", ["more-at-bottom"]), this.$moreatbottom.html("Source: MetroLyrics"), $(this.$moreatbottom).replaceWith($('<div class="js-about-item-more-at-bottom text--secondary">' + this.$moreatbottom.html() + "</div>")))
      },
      _prettifyCode: function () {
        var e = this.$("pre");
        e.length && DDG.require("prettify", (function () {
          e.addClass("prettyprint"), window.prettyPrint()
        }))
      },
      _updateExpandedState: function () {
        this.model.getAbstract && this.$abstr.html(this.model.getAbstract()), this.model.hasCode && this._prettifyCode(), this.model.showMoreAtBottom && (this.model.showMoreAtBottom() ? (this.$moreatbottom.removeClass("is-hidden"), this.$moreatinline.addClass("is-hidden")) : (this.$moreatbottom.addClass("is-hidden"), this.$moreatinline.removeClass("is-hidden")))
      },
      _openDirections: function () {
        this.answer.directionsModel && (this.answer.directionsModel.addLocation({
          type: "end",
          what: this.model.Heading
        }), this.answer.directionsModel.set("endDisplay", this.model.Heading), this.answer.directionsModel.userLocation && (this.answer.directionsModel.addLocation({
          type: "start",
          coordinate: {
            lat: this.answer.directionsModel.userLocation.lat,
            lon: this.answer.directionsModel.userLocation.lon
          }
        }), this.answer.directionsModel.set("startDisplay", lp("directions", "Your Location"))), this.answer.isMapExpanded ? (this.answer.set("isDirectionsActive", !0), this.answer.directionsModel.onDirectionsAction()) : e.router.navigate("toggle-map", {
          model: this.answer,
          directionsModel: this.answer.directionsModel,
          isMapExpanded: !0,
          isDirections: !0
        }))
      },
      _onExpandedChange: function () {
        this.answer.expanded ? this.model.expand() : this.model.collapse(), this._updateExpandedState()
      },
      _onExternalLinkClick: function (e) {
        var i = $(e.currentTarget),
          s = i && i.attr("title");
        return e.stopPropagation(), this.answer.clickedExternalLink({
          plc: s
        }), this.answer.engaged(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _onDirectionsClick: function () {
        e.pixel.fire("dir_loc"), this._openDirections()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.About.AboutInfoBox = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "change:expanded", this._rerender]
      ])
    }, e.Views.About.AboutInfoBox.prototype = $.extend({}, t.prototype, {
      template: "about_infobox",
      _render: function () {
        t.prototype._render.call(this, this.model)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.About.AboutHeader = function (e) {
      this.answer = e.answer, t.call(this, e), this.bindEvents([
        [this.model, "change:mapLocation", this._onMapLocationChanged],
        [this.model, "change:mapFailed", this._onMapFailed]
      ]), this.model.mapLocation && this._renderMap()
    }, e.Views.About.AboutHeader.prototype = $.extend({}, t.prototype, {
      template: "about_header",
      _render: function (e) {
        t.prototype._render.call(this, this.model), this._cacheElems(".js-about-header", ["image", "map"]), this.bindEvents([
          [this.$image, "click", this._onImageClicked],
          [this.$map, "click", this._onMapClicked]
        ])
      },
      _renderMap: function () {
        this.views.map || setTimeout(function () {
          this.views.map = new e.Views.Mapkit.StaticMap({
            markers: [this.model.mapLocation],
            width: this.$map.outerWidth(),
            height: this.$map.outerHeight(),
            appendTo: this.$map,
            showCTA: !0,
            answer: this.answer
          })
        }.bind(this), 0)
      },
      _onMapLocationChanged: function () {
        this._renderMap()
      },
      _onMapFailed: function () {
        e.pixel.fire("iahmf", this.answer.pixelId, this.answer.getPixelData())
      },
      _onImageClicked: function () {
        e.pixel.fire("iahic", this.answer.pixelId, this.answer.openType, this.answer.getPixelData()), e.duckbar.open("images")
      },
      _onMapClicked: function (t) {
        t.preventDefault(), e.router.navigate("toggle-map", {
          model: this.answer,
          directionsModel: this.answer.directionsModel,
          isMapExpanded: !0
        }), this.answer.fire("iacg"), e.pixel.fire("iahmc", this.answer.pixelId, this.answer.openType, this.answer.getPixelData())
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.About.AboutProfiles = function (e) {
      this.answer = e.answer, t.call(this, e), this.bindEvents([
        [this.model, "change:links", this._rerender]
      ])
    }, e.Views.About.AboutProfiles.prototype = $.extend({}, t.prototype, {
      template: "about_profiles",
      _render: function () {
        t.prototype._render.call(this, this.model), this.bindEvents([
          [".js-about-profile-link", "click", this._onExternalLinkClick]
        ])
      },
      _onExternalLinkClick: function (e) {
        var i = $(e.currentTarget),
          s = i && i.attr("title");
        return e.stopPropagation(), this.answer.clickedExternalLink({
          plc: s
        }), this.answer.engaged(), t.prototype._onExternalLinkClick.call(this, e)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Verticals.Base = function (i) {
      this.views = {
        items: [],
        itemsById: {}
      }, t.call(this, i), this.$results = this.$results || this.$(".js-vertical-results"), this.$moduleWrapper = this.$(".js-vertical-sidebar-modules"), this._createFilterDropdowns(), this.bindEvents([
        [e.device, "resize", this._onResize],
        [this.model, "change:active", this._onActiveChanged],
        [this.model, "change:items", this._onItemsChanged],
        [this.model, "no-results", this._onNoMoreResults],
        [this.model, "change:failed", this._onFailed],
        [this.model, "change:isRequerying", this._onRequeryingChanged],
        [this.model, "change:isLoading", this._onLoadingChanged],
        [e.deep, "load:initial", this._showFeedbackBtn.bind(this)]
      ]), this.model.active && this.show(), this.model.items.length ? this._updateItems() : this.model.failed && this.showNoResults(), e.deep.finished && this._showFeedbackBtn()
    }, e.Views.Verticals.Base.prototype = $.extend({}, t.prototype, {
      isValid: function () {
        return !0
      },
      show: function () {
        this.$el.removeClass("is-hidden"), e.keyboard.set("namespace", this.model.id), e.hidden.set("iar", this.model.id)
      },
      hide: function () {
        this.$el.addClass("is-hidden"), e.keyboard.clear("namespace"), e.hidden.clear("iar", this.model.id)
      },
      showNoResults: function () {
        this.views.noResults || (this.views.noResults = new e.Views.NoResults({
          vertical: this.model.pixelId,
          resultType: this.model.meta.itemType,
          appendTo: this.$results
        })), this.views.noResults.show(), this._showingNoResults = !0
      },
      hideNoResults: function () {
        this.views.noResults.hide(), this._showingNoResults = !1
      },
      _render: function (e) {
        e.id = this.model.id, t.prototype._render.call(this, e)
      },
      _updateItems: function () {
        this._showingNoResults && this.hideNoResults();
        for (var e = 0; e < this.model.items.length; e++) {
          var t = this.model.items[e];
          this.views.itemsById[t.id] || this._appendItem(t)
        }
      },
      _appendItem: function (e) {
        if (!this.ItemClass) throw new Error("Can't append item to vertical, no item view was defined ");
        var t = new this.ItemClass({
          model: e,
          answer: this.model,
          appendTo: this.$results
        });
        this.views.items.push(t), this.views.itemsById[e.id] = t
      },
      _createFilterDropdowns: function () {
        var t = this.$(".js-vertical-filters");
        0 !== t.length && (this.views.filters = new e.Views.Dropdowns.FilterContainer({
          $el: t,
          answer: this.model
        }))
      },
      _showFeedbackBtn: function () {
        this.views.feedback || e.device.isMobile || (this.views.feedback = new e.Views.Feedback.Button({
          appendTo: this.$(".js-vertical-bottom-right"),
          category: this.model.id + "vertical"
        }))
      },
      _onFailed: function () {
        this.model.failed && (this.model.items.length ? this._updateItems() : this.showNoResults())
      },
      _onActiveChanged: function () {
        this.model.active ? this.show() : this.hide()
      },
      _onItemsChanged: function () {
        this._updateItems()
      },
      _onRequeryingChanged: function (e) {
        if (this.$el.toggleClass("is-requerying", e), !e) {
          for (var t = 0; t < this.views.items.length; t++) this.views.items[t].destroy();
          this.views.items = [], this.views.itemsById = {}
        }
      },
      _onLoadingChanged: $.noop,
      _onResize: $.noop,
      _onNoMoreResults: $.noop
    })
  }(DDG),
  function (e) {
    var t = e.Views.ClickableItem;
    e.Views.Verticals.VerticalLinkItem = function (i) {
      this.model = i.model, this.answer = i.answer, t.call(this, i), this._cacheElems(".js-result", ["image-wrapper", "img-placeholder"]), this.bindEvents([
        [this.$el, "mouseenter", this._onMouseEnter],
        [this.$el, "mouseleave", this._onMouseLeave],
        [this.model, "change:image", this._onImageFetched],
        [this.model, "change:highlighted", this._onHighlightedChanged],
        [e.device, "resize", this._onResize]
      ])
    }, e.Views.Verticals.VerticalLinkItem.prototype = $.extend({}, t.prototype, {
      template: "vertical_link_item",
      open: function () {
        this.$el.click()
      },
      getBounds: function () {
        if (!this._bounds) {
          var e = this.$el.offset().top,
            t = e + this.$el.height();
          this._bounds = {
            top: e,
            bottom: t
          }
        }
        return this._bounds
      },
      _render: function (i) {
        t.prototype._render.call(this, $.extend(i, {
          urlAboveSnippet: e.settings.isDefault("kai"),
          favicons: e.settings.isDefault("kf"),
          targetBlank: "1" === e.settings.get("kn")
        }))
      },
      _onImageFetched: function () {
        var e = DDG.getImageProxyURL(this.model.image, {
          height: 150
        });
        this.$img = $('<div class="result__image__img" style="background-image:url(' + e + ')"></div>'), this.$imagewrapper.append(this.$img), this.$imgplaceholder.hide()
      },
      _onHighlightedChanged: function () {
        this.$el.toggleClass("highlight", !!this.model.highlighted)
      },
      _onClick: function (e, i) {
        this.model.highlight(), t.prototype._onClick.call(this, e, i)
      },
      _onMouseEnter: function (t) {
        e.keyboard.active || this.model.highlight()
      },
      _onMouseLeave: function (e) {
        this.model.unhighlight()
      },
      _onResize: function (e) {
        delete this._bounds
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Verticals.Base;
    e.Views.Verticals.VerticalLinks = function (i) {
      t.call(this, i), this.bindEvents([
        [e.device, "scroll", this._onScroll]
      ]), e.settings.isDefault("kk") && this.bindEvents([
        [e.keyboard, "up." + this.model.id, this._onUp],
        [e.keyboard, "j." + this.model.id, this._onUp],
        [e.keyboard, "down." + this.model.id, this._onDown],
        [e.keyboard, "k." + this.model.id, this._onDown],
        [e.keyboard, "enter." + this.model.id, this._onEnter]
      ]), this.$results.on("click", ".js-result-more", this._onLoadMoreClick.bind(this)), this._pageNumber = 1, this._selectItemFromQuerystring(), this.menu = new e.Models.AnswerBarMenu, this.modulesLayoutView = new e.Views.ModulesLayout({
        menu: this.menu,
        model: e.modulesLayout,
        verticalId: i.id,
        selectors: {
          SIDE: ".js-vertical-sidebar-modules"
        }
      })
    }, e.Views.Verticals.VerticalLinks.prototype = $.extend({}, t.prototype, {
      template: "vertical_links",
      ItemClass: e.Views.Verticals.VerticalLinkItem,
      _addSpellingMessage: function () {
        this.$spelling || (this.$spelling = new e.Views.SpellingMessage({
          before: this.$results.selector,
          model: e.search.spelling,
          ia: this.model.id
        }))
      },
      _updateItems: function () {
        this._removeLoadMore(), (this.model.usingSpellingBackfill || DDG.deep.isBingV7() && this.model.spellingCorrected) && this._addSpellingMessage(), this.views.items.length && this.views.items.length !== this.model.items.length && (e.deep.isBingV7() && this.model.initialLoad ? this.model.initialLoad = !1 : this._addSeparator()), t.prototype._updateItems.call(this), delete this._height, this._selectItemFromQuerystring(), this._showingNoResults || (this.model.canLoadMore() ? (this.$loadMore = e.$exec_template("vertical_load_more"), this.$results.append(this.$loadMore)) : this._showNoMoreResults()), this._onScroll()
      },
      _appendItem: function (e) {
        t.prototype._appendItem.call(this, e), e.set("visible", !0)
      },
      _showNoMoreResults: function () {
        this._removeLoadMore(), e.footer.set("visible", !0)
      },
      _removeLoadMore: function () {
        this.$loadMore && (this.$loadMore.remove(), delete this.$loadMore)
      },
      _addSeparator: function () {
        this._pageNumber++, new e.Views.Verticals.VerticalSeparator({
          appendTo: this.$results,
          pageNumber: this._pageNumber
        })
      },
      _loadMoreCheck: function () {
        if (e.settings.autoloadDisabled()) {
          var t = e.history.get("pn");
          t && this._pageNumber < t && this.model.loadMore()
        }
      },
      _selectItemFromQuerystring: function () {
        if (!this._selectedItemFromQS) {
          var t = e.history.get("iai"),
            i = e.history.get("ia");
          if (this.model.nameId === i && void 0 !== t) {
            var s = this.model.itemsById[t];
            s && (s.highlight(), this._updateScrollPosition(), this._selectedItemFromQS = !0)
          }
        }
      },
      _highlightFirstVisibleItem: function () {
        var t, i = this.views.items,
          s = e.device.scrollTop();
        if (i.length) {
          if (0 === s) t = i[0];
          else {
            s += 70 + e.get_header_height();
            for (var a = 0; a < i.length; a++)
              if (i[a].getBounds().top > s) {
                t = i[a];
                break
              }
          }
          t && (t.model.highlight(), this._updateScrollPosition())
        }
      },
      _isHighlightedItemVisible: function () {
        var t = this.model.highlightedItem && this.views.itemsById[this.model.highlightedItem.id];
        if (t) {
          var i = t.getBounds(),
            s = e.device.scrollTop(),
            a = e.device.height;
          return i.top > s && i.bottom < s + a
        }
      },
      _updateScrollPosition: function () {
        var t = this.model.highlightedItem && this.views.itemsById[this.model.highlightedItem.id];
        if (t) {
          var i = t.getBounds(),
            s = i.top - 70 - e.get_header_height(),
            a = i.bottom + 70,
            o = e.device.scrollTop(),
            n = e.device.height;
          (s = Math.max(0, s)) < o ? e.device.scrollTop(s) : a > o + n && e.device.scrollTop(a - n)
        }
      },
      _getHeight: function () {
        return this._height || (this._height = this.$results.height()), this._height
      },
      _onLoadingChanged: function (e) {
        this.$loadMore && this.$loadMore.toggleClass("is-loading", e)
      },
      _onNoMoreResults: function () {
        this._showNoMoreResults()
      },
      _onRequeryingChanged: function (e) {
        t.prototype._onRequeryingChanged.call(this, e), e || (delete this._height, this._pageNumber = 1, this.$(".js-result-sep").remove(), this.$loadMore && this.$loadMore.remove(), delete this.$loadMore, this.$noMoreResults && this.$noMoreResults.remove(), delete this.$noMoreResults)
      },
      _onLoadMoreClick: function () {
        this.model.loadMore()
      },
      _onResize: function () {
        t.prototype._onResize.call(this)
      },
      _onScroll: function () {
        if (this.model.active) {
          var t = this._getHeight();
          !e.settings.isDefault("kav") && t && e.device.scrollTop() > t - 2 * e.device.height && this.model.loadMore(), this._loadMoreCheck()
        }
      },
      _onUp: function (t) {
        if (t.preventDefault(), this.model.highlightedItem === this.model.items[0]) return this.model.highlightedItem.unhighlight();
        this._isHighlightedItemVisible() ? (this.model.highlightPrevItem(), this._updateScrollPosition()) : e.device.scrollTop() > 0 && this._highlightFirstVisibleItem()
      },
      _onDown: function (e) {
        e.preventDefault(), this._isHighlightedItemVisible() ? (this.model.highlightNextItem(), this._updateScrollPosition()) : this._highlightFirstVisibleItem()
      },
      _onEnter: function (e) {
        e.preventDefault();
        var t = this.model.highlightedItem;
        t && this.views.itemsById[t.id].open()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.Verticals.VerticalSeparator = function (e) {
      t.call(this, e)
    }, e.Views.Verticals.VerticalSeparator.prototype = $.extend({}, t.prototype, {
      template: "vertical_separator",
      _render: function (i) {
        var s, a, o = e.settings.get("kv");
        "-1" !== o && ("m" === o ? a = !0 : "l" === o ? s = i.pageNumber : "1" === o && (a = !0, s = i.pageNumber), t.prototype._render.call(this, {
          line: a,
          pageNumber: s
        }))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Verticals.Base,
      i = ["xs", "s"],
      s = ["maps_maps", "maps_places", "about", "maps_expanded"],
      a = "vertical--map__sidebar--",
      o = "min",
      n = "normal";
    e.Views.Verticals.VerticalMap = function (i) {
      this._createVerticalMap(i), i.model = this.model, this.bindEvents([
        [this.model, "change:selectedItem", this._onSelectedItemChanged],
        [this.model, "change:sidebarLayout", this._onSidebarLayoutChanged],
        [this.model, "change:sidebarPosition", this._onSidebarPositionChanged],
        [this.model, "change:isDarkMap", this._onDarkMapChanged],
        [this.model, "change:isSearchAreaBtnVisible", this._onSearchAreaBtnVisibleChange],
        [this.model, "change:isMoreAtVisible", this._onIsMoreAtVisibleChange],
        [this.model, "change:isDirectionsActive", this._onIsDirectionsActiveChange],
        [this.model, "change:isMapStartActive", this._onIsMapStartActiveChange],
        [this.model, "change:proximity", this._onProximityChange],
        [this.model.meta, "change:query", this._onMetaQueryChange],
        [e.device, "resize", this._onResize],
        [e.settings, "change:" + e.settings.THEME_KEY, this._onThemeChange],
        [e.userLocator, "meaningfulUserLocationChange", this._onMeaningfulUserLocationChange]
      ]), t.call(this, i)
    }, e.Views.Verticals.VerticalMap.prototype = $.extend({}, t.prototype, {
      template: "vertical_map",
      _onMeaningfulUserLocationChange: function (t) {
        e.userLocator.hasLocation() ? (this.views.mapkitMap.renderUserLocation(), this.views.mapkitMap.recenter(e.userLocator.userLocation)) : this.views.mapkitMap.removeUserLocation(), this.model.set({
          isSearchAreaBtnVisible: !0
        })
      },
      _createVerticalMap: function (t) {
        if (!t.answer) throw new Error("No answer model was passed when creating the Vertical Map. Here are the ops passed to Views.Verticals.VerticalMap._createVerticalMap: " + JSON.stringify(t));
        var i = t.answer,
          a = {
            maps_places: 1 === i.items.length ? e.Views.Places.PlacesSingleMap : e.Views.Places.PlaceListItem,
            maps_maps: e.Views.Address.AddressDetail,
            about: e.Views.Modules.AboutMap
          },
          o = i.items;
        if ("about" === i.id) try {
          o = [i.items[0].header.mapLocation]
        } catch (e) {}
        if (this.model = new e.Models.Answers.ExpandedMap({
            data: i.data,
            answerItemModel: i.model,
            queryEncoded: i.queryEncoded,
            name: i.name,
            nameId: i.nameId,
            sourceName: i.sourceName,
            sourceUrl: i.sourceUrl,
            isMoreAtVisible: i.isMoreAtVisible,
            mapLocation: o && o[0]
          }), e.router.add("requery", this._handleRequery.bind(this)), e.modulesLayout && e.modulesLayout.modules && e.modulesLayout.modules.directions) var n = !0,
          l = e.modulesLayout.modules.directions.directionsModel;
        this.model.directionsModel = t.directionsModel || l, t.isDirectionsActive = t.isDirections || n, t.directionsModel = t.directionsModel || l, this.ItemClass = a[i.id], this.mapClickCount = 0, this.isMapRenderPending = !1, this._glMapModel = this.model.glMapModel || new e.Models.GLMap({
          locations: o || this.model.itemsOnMap,
          pixelId: this.model.pixelId
        }), this.model._glMapModel = this._glMapModel, this.model.set("approx_geo_bbox", this._glMapModel.getApproximateGeoBBox()), this.model.isMapSidebarVisible = s.indexOf(this.model.id) > -1, this.model.isDarkMap = e.settings.isDarkTheme(), t.directionsModel ? this._initDirectionsModel({
          model: t.directionsModel
        }) : this._initDirectionsModel({
          query: !(e.history.get("start") || e.history.get("end")) && t.model && t.model.query
        }), this.model.directionsModel = this.directionsModel, this.model.set("isDirectionsActive", !!t.isDirectionsActive), this.model.on("change:isMapExpanded", this._resetState.bind(this))
      },
      show: function () {
        t.prototype.show.call(this), this.updateTheme(this.model.isDarkMap), this.model.isDirectionsActive || "start" === e.history.get("iaxm") ? this.directionsModel && this.directionsModel.fetchUserLocation(function () {
          this._renderMapkitMap()
        }.bind(this)) : this._renderMapkitMap(), this.model.isDirectionsActive ? this.directionsModel && this.directionsModel.onDirectionsAction({
          noRouting: this.directionsModel.hasResults
        }) : this._updateItems(), this.model.isMapSidebarVisible && this._renderSidebar(function () {
          this._maybeShrinkDrawer()
        }.bind(this)), this._selectItemFromQuerystring(), $("html").addClass("has-vertical-map-open"), e.page.searchbar && e.page.searchbar.disableTabIndexes()
      },
      hide: function () {
        this.views.userLocControl && this.views.userLocControl.hide(), $("html").removeClass("has-vertical-map-open"), e.page.searchbar && e.page.searchbar.enableTabIndexes(), t.prototype.hide.call(this), this.model.selectedItem && this.model.selectedItem.unselect()
      },
      updateTheme: function (e) {
        var t = a + "light",
          i = "is-dark-map";
        e ? (this.$toggle.removeClass(t), this.$el.addClass(i)) : (this.$toggle.addClass(t), this.$el.removeClass(i))
      },
      showNoResults: function () {
        if (this.views.noResults ? this.views.noResults.updateQuery(this.model.meta.query) : this.views.noResults = new e.Views.NoMapResults({
            vertical: this.model.pixelId,
            resultType: this.model.meta.itemType,
            query: this.model.meta.query,
            appendTo: this.$results,
            model: this.model
          }), this.views.noResults.show(), this._showingNoResults = !0, this.$el.addClass("vertical--map--no-results"), this.model.set("isMoreAtVisible", !1), this._maybeShrinkDrawer(), e.history.get("bbox")) {
          var t = e.history.get("bbox").split(",");
          this.views.mapkitMap.updateRegion((parseFloat(t[0]) + parseFloat(t[2])) / 2, (parseFloat(t[1]) + parseFloat(t[3])) / 2, Math.abs(parseFloat(t[2]) - parseFloat(t[0])), Math.abs(parseFloat(t[3]) - parseFloat(t[1])))
        } else this.model.hasShownItems || this.views.mapkitMap.updateRegion(this.model.meta.geoip.lat, this.model.meta.geoip.lon, 2, 2)
      },
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-vertical-map", ["map", "control-topright", "sidebar", "toggle", "toggle-button", "sidebar-inner", "results-container", "results", "detail", "close-map", "controls-topcenter", "requery", "back-to-list", "back-to-serp", "more", "more-link", "footer", "mask"]), this.views.mapSideBarFooter = new e.Views.Maps.MapSidebarFooter({
          appendTo: this.$footer,
          model: this.model
        }), e.userLocator.canShowPUL() && e.device.isDesktop && (this.views.locationTile = new e.Views.UserLocation.UserLocationTile({
          appendTo: this.$controltopright,
          answer: this.model,
          position: "below-right",
          $originEl: this.$el
        })), this.model.isMapSidebarVisible && this._updateSidebarLayout(), this.show(), e.pixel.fire("map_ei"), this.bindEvents([
          [this.$sidebar, "click", this._onSidebarEngagement],
          [this.$requery, "click", this._onRequeryClick],
          [this.$toggle, "click", this._onSidebarToggleClicked]
        ]), e.device.isMobileDevice && this.bindEvents([
          [this.$el, "scroll", this._onVerticalMapScroll]
        ])
      },
      _updateSidebarLayout: function () {
        if (this.model.isMapExpanded) {
          var t = i.indexOf(e.device.widthBreakpoint()) > -1;
          this.model.set("sidebarLayout", t && e.device.isMobilePortrait() ? "bottom" : "left")
        }
      },
      _updateItems: function () {
        this.model.isDirectionsActive || (this.model.set("hasShownItems", !0), this.$el.addClass("vertical--map--has-shown-items"), "MapLocation" === this.model.answerItemModel ? this.ItemClass = e.Views.Address.AddressDetail : "Place" === this.model.answerItemModel ? this.ItemClass = e.Views.Places[this.model.items.length > 1 ? "PlaceListItem" : "PlacesSingleMap"] : "About" === this.model.answerItemModel ? this.ItemClass = e.Views.Modules.AboutMap : this.ItemClass = e.Views.Address.AddressDetail, this._updateMoreAtLink(), this.views.noResults && (this.views.noResults.destroy(), this.$el.removeClass("vertical--map--no-results")), t.prototype._updateItems.call(this), this._positionSidebar(), this._resetSidebarScroll(), this.views && this.views.mapkitMap && this.views.mapkitMap.updateMap(this._getMapOffset()), this._maybeShrinkDrawer(), this._saveCurrentViewport())
      },
      _updateMoreAtLink: function () {
        var t = this.model.items && this.model.items.length > 1 && this.model.sourceUrl && this.model.moreAtExternalServiceText;
        if ("Place" === this.model.answerItemModel && t) {
          var i = this.model.items.length > 1 ? this.model.sourceUrl : this.model.items[0].url,
            s = this.model.items.length > 1 ? this.model.moreAtExternalServiceText : this.model.items[0].moreAtExternalServiceText,
            a = document.createTextNode(e.strip_all_html(s)),
            o = e.get_favicon_url(i);
          this.$morelinkimg = this.$morelink.find("img"), this.$morelinkimg.attr("src", o), this.$morelink.attr("href", i), this.$morelink.text(""), this.$morelink.append(this.$morelinkimg), this.$morelink.append(a), this.model.set("isMoreAtVisible", !0), this.$more.removeClass("is-hidden")
        } else this.model.set("isMoreAtVisible"), this.$more.addClass("is-hidden")
      },
      _saveCurrentViewport: function () {
        if (!this.model.isRequerying && this.model && this.views && this.views.mapkitMap) {
          var e = this.views.mapkitMap.views.map.region.center.latitude,
            t = this.views.mapkitMap.views.map.region.center.longitude,
            i = this.views.mapkitMap.views.map.region.span.latitudeDelta,
            s = this.views.mapkitMap.views.map.region.span.longitudeDelta;
          if (!e && !t) return;
          this.model.set("geo_bbox", this._glMapModel.getGeoBBox(e, t, i, s))
        }
      },
      _renderUserLocControl: function () {
        !this.views.userLocControl && e.userLocator.canGetLocation() && "b" !== e.search.userLocationExp && (this.views.userLocControl = new e.Views.Mapkit.UserLocationControl({
          model: e.userLocator,
          appendTo: this.$controltopright
        }))
      },
      _getMapOffset: function () {
        var t = 0,
          i = 0,
          s = 0;
        return "left" === this.model.sidebarLayout && this.model.sidebarPosition !== o ? i = this.$sidebar.width() : "bottom" === this.model.sidebarLayout && (t = this.model.isDirectionsActive ? 150 : 56, s = this.model.sidebarPosition === o ? 45 : e.device.height / 2), {
          top: t,
          right: 0,
          bottom: s,
          left: i
        }
      },
      _renderMapkitMap: function () {
        if (!this.views.mapkitMap && !this.isMapRenderPending) {
          this.isMapRenderPending = !0;
          var t = {
            markers: this._glMapModel.selectedLocation ? [this._glMapModel.selectedLocation] : this.model.itemsOnMap,
            model: this._glMapModel,
            answer: this.model,
            markerType: "circle",
            appendTo: this.$map,
            mapOffset: this._getMapOffset(),
            onMapReady: this._onMapReady.bind(this),
            hideMapTypeControl: !0,
            hideScale: e.device.isMobile || e.device.isMobileDevice
          };
          e.mapkit.isInitialized ? setTimeout(function () {
            this._createMapkitView(t)
          }.bind(this), 0) : e.mapkit.init(function () {
            this._createMapkitView(t)
          }.bind(this))
        }
      },
      _createMapkitView: function (t) {
        this.model.isDirectionsActive && (t.isDirections = !0), this.directionsModel && this.directionsModel.userLocation && (t.userLocation = this.directionsModel.userLocation), this.views.mapkitMap = new e.Views.Mapkit.Map(t), this.bindEvents([
          [this.views.mapkitMap, "scrollzoom", this._onMapScrollZoom],
          [this.views.mapkitMap, "load", this._saveCurrentViewport],
          [this.views.mapkitMap, "select", this.blurSearchInput],
          [this.views.mapkitMap, "dragend", this._onDragEnd],
          [this.views.mapkitMap, "click", this._onMapClick],
          [this.views.mapkitMap, "single-tap", this._onMapSingleTap]
        ]), this.model.isDirectionsActive ? (this.$resultscontainer.hide(), this.directionsModel || this._initDirectionsModel({
          query: this.model.query
        }), this.directionsModel.hasResults && this.views.mapkitMap.model.set("canShowMap", !0), this.views.directionsResults || (this.views.directionsResults = new e.Views.Maps.DirectionsResults({
          model: this.directionsModel,
          answer: this.model,
          map: this.views.mapkitMap,
          prependTo: this.$sidebarinner
        })), this.views.directionsResults.show(), this._createDirectionsPrintErrorMessage()) : (this.$resultscontainer.show(), this.views.directionsResults && this.views.directionsResults.hide())
      },
      _createDirectionsPrintErrorMessage: function () {
        this.views.directionsPrintErrorMessage = this.views.directionsPrintErrorMessage || new e.Views.Maps.DirectionsPrintErrorMessage({
          model: this.directionsModel,
          answer: this.model,
          appendTo: $("body")
        })
      },
      _selectItemFromQuerystring: function () {
        var t = e.history.get("iai");
        if ("places" === this.model.nameId && void 0 !== t) {
          var i = this.model.itemsById[t];
          i && (i.select(), this._isSelectedItemFromQS = !0, this._resetSidebarScroll())
        }
      },
      _initDirectionsModel: function (t) {
        this.directionsModel = t.model || new e.Models.Maps.Directions, this.bindEvents([
          [this.directionsModel, "change:routeList", this._onDirectionsRouteListChange],
          [this.directionsModel, "change:isRouting", this._onDirectionsIsRoutingChange]
        ]), t.query && this.directionsModel.addLocation({
          type: "end",
          what: t.query
        })
      },
      _renderSidebar: function (e) {
        this.views.mapSidebar ? this._updateSidebarLayout() : this.views.mapSidebar = this._createSidebar("maps", e)
      },
      _createSidebar: function (t, i) {
        var s, a = {
          model: this.model,
          appendTo: this.$sidebar,
          directionsModel: this.directionsModel
        };
        return (s = new("bottom" === this.model.sidebarLayout ? e.Views.Maps.MapSidebarMobile : e.Views.Maps.MapSidebar)(a)).views && s.views.mapSearchbar && (s.views.mapSearchbar.on("requery-submit", function (e) {
          this.onRequeryAction(e)
        }.bind(this)), s.views.mapSearchbar.autocomplete && s.views.mapSearchbar.autocomplete.on("requery-submit", function (e) {
          this.onRequeryAction(e)
        }.bind(this))), setTimeout(function () {
          this.model.sidebarPosition === n ? this._positionSidebar() : this.model.set("sidebarPosition", n), i()
        }.bind(this), 0), s
      },
      _positionSidebar: function () {
        var e = this.model.sidebarPosition !== o;
        this.$sidebar.toggleClass("vertical--map--sidebar-closed", !e), "bottom" === this.model.sidebarLayout ? this.$sidebar.css("transform", "") : "left" === this.model.sidebarLayout && (this.$controlstopcenter.css("transform", ""), e ? (this.$sidebar.css("transform", "translateX(0)"), this.$togglebutton.html("<")) : (this.$sidebar.css("transform", "translateX(-" + this.$sidebar.width() + "px)"), this.$togglebutton.html(">")))
      },
      _maybeShrinkDrawer: function () {
        var t = this.$sidebarinner.prop("scrollHeight"),
          i = e.device.height;
        if ("bottom" === this.model.sidebarLayout && this.model.sidebarPosition !== o && (this.model.hasShownItems || this._showingNoResults) && t < i / 2) {
          var s = (i - t) / i * 100;
          this.$sidebar.css("top", s + "%"), this.$mask.css("height", 100 - s + "%");
          var a = this._getMapOffset();
          a.bottom = t, this.views.mapkitMap && this.views.mapkitMap.updateMapOffset(a), this.$controlstopcenter.css("bottom", "calc(" + (100 - s) + "% + 42px)")
        } else this.$sidebar.css("top", ""), this.$mask.css("height", ""), this.$controlstopcenter.css("bottom", "")
      },
      _onSidebarLayoutChanged: function (e, t) {
        this.$el.removeClass("vertical--map--sidebar-" + t), this.$el.addClass("vertical--map--sidebar-" + e), this.views.mapSidebar && (this.views.mapSidebar.destroy(), this.views.mapSidebar = null), this._renderSidebar(function () {
          setTimeout(function () {
            this.views.mapkitMap && this.views.mapkitMap.updateMap(this._getMapOffset()), this._maybeShrinkDrawer()
          }.bind(this), 0)
        }.bind(this))
      },
      _onSidebarPositionChanged: function (e, t) {
        setTimeout(function () {
          t && this.$sidebar.removeClass(a + t), this.$sidebar.addClass(a + e)
        }.bind(this), 0), this._positionSidebar(), this.views.mapkitMap && this.views.mapkitMap.updateMapOffset(this._getMapOffset()), this._maybeShrinkDrawer(), this.$el.toggleClass(a + o, e === o)
      },
      _onDarkMapChanged: function () {
        this.updateTheme(this.model.isDarkMap)
      },
      _onSidebarToggleClicked: function () {
        var t = this.model.sidebarPosition === o ? n : o;
        this.model.set("sidebarPosition", t), e.pixel.fire("map_est")
      },
      _onSidebarEngagement: function () {
        e.pixel.fire("map_ese")
      },
      _onVerticalMapScroll: function (t) {
        if (e.device.isMobilePortrait()) {
          var i = this._getScrollable().scrollTop();
          this.$el.toggleClass("vertical--map--scrolled-up", i > 0)
        }
      },
      onRequeryAction: function (t) {
        this.model.set("isSearchAreaBtnVisible", !1);
        var i = t && t.suggestion,
          s = i && i.metadata;
        t && t.query ? t.query = t.query : i ? (t.query = i.what, i.metadata || !i.where || i.where.match(lp("vertical_map", "Search Near My Location"), "i") || i.where.match(lp("vertical_map", "Search Current Map Area"), "i") || (t.query += " " + i.where), !i.metadata && i.where && i.where.match(lp("vertical_map", "Search Current Map Area"), "i") && (t.strict_bbox = 1)) : this.model.meta && this.model.meta.requery ? t.query = e.Utils.Strings.decodeHex(this.model.meta.requery) : t.query = e.Utils.Strings.decodeHex(this.model.query), t.strict_bbox = t.strict_bbox || "1", t.shouldMapViewportUpdate = !t.hasOwnProperty("shouldMapViewportUpdate") || t.shouldMapViewportUpdate, t.isSearchMapAreaPending = !!t.hasOwnProperty("isSearchMapAreaPending") && t.isSearchMapAreaPending;
        var a = {
            q: t.query,
            strict_bbox: t.strict_bbox
          },
          o = this.model.geo_bbox || this._glMapModel.getApproximateGeoBBox();
        o && (a.bbox = o.top_left + "," + o.bottom_right), s && (a.metatoken = this.model.saveMetadata(s)), e.history.get("iai") && !t.iai && e.history.clear("iai"), e.history.get("metatoken") && e.history.clear("metatoken"), t.isFromStaticMapsTab || e.history.set(a), e.router.navigate("requery", t)
      },
      _onRequeryClick: function () {
        this.onRequeryAction({
          shouldMapViewportUpdate: !1,
          isSearchMapAreaPending: !0
        }), this.model.set("isSearchAreaBtnVisible", !1), e.pixel.fire("map_ere"), e.pixel.fire("map_er", "area")
      },
      blurSearchInput: function () {
        this.views.mapSidebar && this.views.mapSidebar.blurSearchInput && this.views.mapSidebar.blurSearchInput()
      },
      _getScrollable: function () {
        return "bottom" === this.model.sidebarLayout ? this.$el : this.$sidebarinner
      },
      _resetSidebarScroll: function () {
        this._getScrollable().scrollTop(0)
      },
      _captureSidebarScroll: function () {
        this.model.set("lastPlacesScrollTop", this._getScrollable().scrollTop())
      },
      _restoreSidebarScroll: function () {
        null != this.model.lastPlacesScrollTop && this._getScrollable().scrollTop(this.model.lastPlacesScrollTop)
      },
      _onMapScrollZoom: function () {
        this.blurSearchInput(), this.model.isDirectionsActive || this.model.set("isSearchAreaBtnVisible", !0)
      },
      _onResize: function () {
        this.model.isMapSidebarVisible && (this._updateSidebarLayout(), this._positionSidebar(), this.views.mapkitMap && this.views.mapkitMap.updateMap(this._getMapOffset()), this._maybeShrinkDrawer())
      },
      _onDragEnd: function () {
        this.blurSearchInput(), this._saveCurrentViewport()
      },
      _onMapClick: function (e) {
        this.blurSearchInput()
      },
      _onMapSingleTap: function () {
        e.device.isMobileDevice && this.model.selectedItem && this.model.selectedItem.unselect()
      },
      _onSelectedItemChanged: function (t) {
        var i;
        "Place" !== this.model.answerItemModel && "Places" !== this.model.answerType || this.model.isSingle || (i = !!t, !!this.views.currentItemDetail ? (this.views.currentItemDetail.destroy(), delete this.views.currentItemDetail) : this._captureSidebarScroll(), i ? (this._setDocumentTitle(t.name), this.model.primaryPlace = t, this.views.currentItemDetail = new e.Views.Places.PlacesSingleMap({
          answer: this.model,
          model: this.model.primaryPlace,
          appendTo: this.$detail
        }), this.$detail.show(), this.$resultscontainer.hide(), this.$results.hide(), this.$more.hide(), this.$backtoserp.hide(), this.$backtolist.removeClass("is-hidden"), this._resetSidebarScroll()) : (this._setDocumentTitle(this.model.meta.query || this.model.query), this.$detail.hide(), this.$resultscontainer.show(), this.$results.show(), this.$more.show(), this.$backtoserp.show(), this.$backtolist.addClass("is-hidden"), this._restoreSidebarScroll()), this._maybeShrinkDrawer(), this.model.sidebarPosition === o && this.model.set("sidebarPosition", n))
      },
      _onThemeChange: function () {
        this.model.set("isDarkMap", e.settings.isDarkTheme())
      },
      _onSearchAreaBtnVisibleChange: function () {
        this.$requery.toggleClass("is-hidden", !this.model.isSearchAreaBtnVisible)
      },
      _onIsMoreAtVisibleChange: function () {
        this.$more.toggle(this.model.isMoreAtVisible)
      },
      _onProximityChange: function () {
        this.views.locationTile && this.views.locationTile.showUserLocationCTA()
      },
      _onMetaQueryChange: function (e) {
        this._setDocumentTitle(e)
      },
      _setDocumentTitle: function (e) {
        document.title = e ? decodeURIComponentSafe(e) + " at DuckDuckGo" : "DuckDuckGo"
      },
      _toggleDirections: function () {
        this.$sidebar.toggleClass("has-directions", this.model.isDirectionsActive), this.model.isDirectionsActive ? (this.views.directionsResults ? this.views.directionsResults.show() : this.views.directionsResults = new e.Views.Maps.DirectionsResults({
          model: this.directionsModel,
          answer: this.model,
          map: this.views.mapkitMap,
          prependTo: this.$sidebarinner
        }), this.$results.hide(), this.views.currentItemDetail && this.views.currentItemDetail.hide(), this.views.exampleSearches && this.views.exampleSearches.hide(), this.views.mapSideBarFooter._rerender(), this.$more.hide()) : (this.views.directionsResults && this.views.directionsResults.hide(), this.$resultscontainer.show(), this.model.isMapStartActive || (this.$results.show(), this.views.currentItemDetail && this.views.currentItemDetail.show(), this.$more.show()))
      },
      _toggleMapStart: function () {
        this.model.isMapStartActive ? (this.$resultscontainer.show(), this.$results && this.$results.hide(), this.views.currentItemDetail && this.views.currentItemDetail.hide(), this.$more.hide(), e.device.isEnglish && (this.views.exampleSearches = this.views.exampleSearches || new e.Views.Maps.ExampleSearches({
          appendTo: this.$resultscontainer,
          model: this.model,
          answer: this.model
        }), this.views.exampleSearches.show())) : (this.views.exampleSearches && this.views.exampleSearches.hide(), this.$results && this.$results.show())
      },
      _onIsDirectionsActiveChange: function () {
        this._toggleDirections()
      },
      _onIsMapStartActiveChange: function () {
        this._toggleMapStart()
      },
      _onDirectionsRouteListChange: function () {
        this.$resultscontainer.hide(), this._glMapModel.set("canShowMap", !0)
      },
      _onDirectionsIsRoutingChange: function (e) {
        this.$resultscontainer.css("opacity", e ? .2 : 1), this.$el.toggleClass("vertical--map--has-shown-items", !e)
      },
      toggleExpandedMap: function (t) {
        var i = (t = t || {}).isMapExpanded || t.state && !!t.state.iaxm;
        if (this.model.set("isDirectionsActive", !!t.isDirections), this.model.set("isMapStart", !!t.isMapStart), !this.model.firstRun) {
          if (this.model.isMapExpanded === i) return;
          this.model.set("isMapExpanded", i)
        }
        i ? (t.isMapStart ? e.history.set("iaxm", "start") : t.isDirections ? e.history.set("iaxm", "directions") : e.history.set("iaxm", t.model.nameId || "maps"), this.model.firstRun || (t.model.selectedItem && t.model.selectedItem.itemId && e.history.set("iai", t.model.selectedItem.itemId), this.show()), this.model.firstRun = !1, e.history.get("iar") && e.history.clear("iar")) : (t.model.selectedItem && t.model.selectedItem.itemId && t.model.selectedItem.unselect(), e.history.clear("iaxm", "iai", "iax", "strict_bbox", "bbox", "metatoken", "start", "end", "transport"), this.hide(), e.duckbar.modulesLayoutView.recalculateModuleSizes())
      },
      _handleRequery: function (t) {
        var i = t && t.state,
          s = t && t.model || this.model;
        if (e.history.set("iaxm", i && i.iaxm || "maps"), s.set("isMapStartActive", !1), i && s)
          for (var a = ["q", "bbox", "strict_bbox", "iai", "metatoken"], o = 0; o < a.length; o++) {
            var n = a[o];
            i[n] ? e.history.set(n, i[n]) : e.history.clear(n)
          }
        s.requery(t)
      },
      _onMapReady: function () {
        this.model.set({
          shouldMapViewportUpdate: !0,
          isSearchAreaBtnVisible: !1
        });
        var t = {};
        if (t.query = w.rq, t.strict_bbox = e.history.get("strict_bbox") || "0", e.history.get("bbox") && (t.bbox = e.history.get("bbox")), e.history.get("iai") && (t.iai = e.history.get("iai")), t.isFromStaticMapsTab = !0, this.directionsModel && this.directionsModel.set("isMapLoaded", !0), this.directionsModel && (e.history.get("start") || e.history.get("end"))) {
          var i = e.history.getComposite("start", "what"),
            s = e.history.getComposite("start", "where");
          i || s ? (t.start = {}, t.start.what = i ? decodeURIComponentSafe(i) : null, t.start.where = s ? decodeURIComponentSafe(s) : null) : this.directionsModel && this.directionsModel.userLocation && (t.start = {}, t.start.coordinate = this.directionsModel.userLocation, t.start.display = "Your Location"), i = e.history.getComposite("end", "what"), s = e.history.getComposite("end", "where"), (i || s) && (t.end = {}, t.end.what = i ? decodeURIComponentSafe(i) : null, t.end.where = s ? decodeURIComponentSafe(s) : null), t.transport = e.history.get("transport") || "drive", this.directionsModel.canRoute || this.directionsModel.onDirectionsAction(t)
        } else "start" === e.history.get("iaxm") ? this.model.onMapStartAction() : 0 === this.model.items.length && this.onRequeryAction(t)
      },
      _resetState: function (t) {
        t || (e.duckbar.resetActiveTab(), this.model.set("active", !1))
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views,
      i = e.Views.Modal,
      s = e.Utils.ParseDate;
    t.CustomDateRange = function (e) {
      var t = window.locale.replace("_", "-");
      this.i18n = {
        previousMonth: "<",
        nextMonth: ">",
        months: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((function (e) {
          return new Date(2021, e, 1).toLocaleDateString(t, {
            month: "long"
          })
        })),
        weekdays: [3, 4, 5, 6, 7, 8, 9].map((function (e) {
          return new Date(2021, 0, e).toLocaleDateString(t, {
            weekday: "long"
          })
        })),
        weekdaysShort: [3, 4, 5, 6, 7, 8, 9].map((function (e) {
          return new Date(2021, 0, e).toLocaleDateString(t, {
            weekday: "narrow"
          })
        }))
      }, i.call(this, e)
    }, t.CustomDateRange.prototype = $.extend({}, i.prototype, {
      template: "custom_date_range_modal",
      _render: function (e) {
        i.prototype._render.call(this, {
          isPopover: e.isPopover,
          header: l("Custom date range"),
          key: "custom_date"
        }), this._cacheElems(".js-custom-date-range", ["from", "to", "from-datepicker", "to-datepicker", "apply"]), this.bindEvents([
          [this.$from, "focus", this._fromOnFocus],
          [this.$from, "change", function (e) {
            this._onChange(e, this.fromPicker)
          }.bind(this)],
          [this.$from, "keyup", this._disablePikadayDefaultEvents],
          [this.$from, "keydown", this._onFromKeydown],
          [this.$to, "focus", this._toOnFocus],
          [this.$to, "change", function (e) {
            this._onChange(e, this.toPicker)
          }.bind(this)],
          [this.$to, "keyup", this._disablePikadayDefaultEvents],
          [this.$to, "keydown", this._onToKeydown],
          [this.$apply, "click", this._applyChanges]
        ]), DDG.require("pikaday", this._onPikadayLoaded.bind(this))
      },
      _onPikadayLoaded: function () {
        this.fromPicker = this.createDatePicker(this.$fromdatepicker, this.selectFromDate.bind(this)), this.toPicker = this.createDatePicker(this.$todatepicker, this.selectToDate.bind(this)), this.fromPicker.setDate(this.model.fromDate), this.toPicker.setDate(this.model.toDate), this.toPicker.hide(), this.fromPicker.show(), this.on("shown", (function () {
          this.$from.focus()
        })), this.$from.focus()
      },
      setStartRange: function (e) {
        this.fromPicker.setStartRange(e), this.fromPicker.draw(), this.toPicker.setStartRange(e), this.toPicker.draw()
      },
      setEndRange: function (e) {
        this.fromPicker.setEndRange(e), this.fromPicker.draw(), this.toPicker.setEndRange(e), this.toPicker.draw()
      },
      selectFromDate: function (e) {
        this.$from && (this.$from[0].value = this.convertDateToLocaleString(e), this.model.set("fromDate", e), this.setStartRange(e), e > this.model.toDate && (this.model.fromDate = this.model.toDate, this.model.toDate = e, this.fromPicker.setDate(this.model.fromDate), this.toPicker.setDate(this.model.toDate)), this.$to.focus(), this.fromPicker.hide(), this.toPicker.gotoDate(e))
      },
      selectToDate: function (e) {
        this.$to && (this.$to[0].value = this.convertDateToLocaleString(e), this.model.set("toDate", e), this.setEndRange(e), e < this.model.fromDate && (this.model.toDate = this.model.fromDate, this.model.fromDate = e, this.fromPicker.setDate(this.model.fromDate), this.toPicker.setDate(this.model.toDate)))
      },
      _disablePikadayDefaultEvents: function (e) {
        e.stopPropagation()
      },
      _fromOnFocus: function () {
        this.fromPicker && this.toPicker && (this.fromPicker.show(), this.toPicker.hide())
      },
      _toOnFocus: function () {
        this.fromPicker && this.toPicker && (this.fromPicker.hide(), this.toPicker.show())
      },
      _onKeydown: function (e, t, i) {
        this._disablePikadayDefaultEvents(e);
        var a = t.value,
          o = s.parseShortLocalizedDate(a);
        "Enter" === e.key && this.isRealDate(o) && i(e)
      },
      _onFromKeydown: function (e) {
        this._onKeydown(e, this.$from[0], function (e) {
          this._onChange(e, this.fromPicker)
        }.bind(this))
      },
      _onToKeydown: function (e) {
        this._onKeydown(e, this.$to[0], function (e) {
          this._onChange(e, this.toPicker), this._applyChanges()
        }.bind(this))
      },
      _onChange: function (e, t) {
        this._disablePikadayDefaultEvents(e);
        var i = s.parseShortLocalizedDate(e.currentTarget.value);
        this.isRealDate(i) && t.setDate(i)
      },
      isRealDate: function (e) {
        return !Number.isNaN(e.valueOf())
      },
      createDatePicker: function (e, t) {
        return new Pikaday({
          field: document.createElement("input"),
          container: e[0],
          onSelect: t,
          maxDate: new Date,
          bound: !1,
          i18n: this.i18n
        })
      },
      convertDateToISO8601String: function (e) {
        var t = this._convertToTwoDigits(e.getMonth() + 1),
          i = this._convertToTwoDigits(e.getDate());
        return e.getFullYear() + "-" + t + "-" + i
      },
      convertDateToLocaleString: function (e) {
        return e.toLocaleDateString(window.locale.replace("_", "-"), {
          day: "numeric",
          month: "numeric",
          year: "numeric"
        })
      },
      _applyChanges: function () {
        var t = this.model.fromDate,
          i = this.model.toDate,
          s = e.Data.HiddenFields.DATE_FILTER,
          a = e.search,
          o = this.convertDateToISO8601String(t) + ".." + this.convertDateToISO8601String(i);
        e.hidden.set(s, o), a.set("dateFilterId", o), a.requery()
      },
      _convertToTwoDigits: function (e) {
        return ("0" + e.toString()).slice(-2)
      }
    })
  }(DDG),
  function (e) {
    var t = "ESC_DIALOGUE",
      i = "CLICK_KEEP_IT",
      s = "CLICK_CHANGE_IT_BACK",
      a = "SKIP";
    e.Views.KeepExtensionDialogues = function (t) {
      t = t || {}, this._isAddressBarQuery = t.isAddressBarQuery, this._showWelcomeBanner = t.showWelcomeBanner, this._hadFocusOnStart = t.hadFocusOnStart, this._invertColors = t.invertColors, this.views = {}, this._isAddressBarQuery && !this._hadFocusOnStart && !document.hasFocus() && "visible" === document.visibilityState && e.extension.isInstalled({
        nocache: !0
      }) ? this._handleChromeDialogue() : this._dispatch(a)
    }, e.Views.KeepExtensionDialogues.prototype = {
      destroy: function () {
        clearInterval(this._pollingIntevalId), clearInterval(this._chromeInternalTimeoutId), clearTimeout(this._healthCheckTimeoutId), this._boundHandleHealthCheckResponse && document.removeEventListener("message", this._handleHealthCheckResponse), Object.keys(this.views).forEach((function (e) {
          this.views[e].destroy && this.views[e].destroy(), delete this.views[e]
        }), this)
      },
      _dispatch: function (o) {
        switch (o) {
          case t:
            e.pixel.fire("cmo"), window.postMessage({
              type: "rescheduleCounterMessagingRequest"
            }, window.location.origin), this._showWelcomeBanner && (this.views.welcomeBanner = new e.Views.WelcomeMessage({
              appendTo: ".js-welcome-wrap"
            }));
            break;
          case i:
            e.pixel.fire("cmc"), this._showWelcomeBanner && (this.views.welcomeBanner = new e.Views.WelcomeMessage({
              appendTo: ".js-welcome-wrap"
            }));
            break;
          case a:
            this._showWelcomeBanner && (this.views.welcomeBanner = new e.Views.WelcomeMessage({
              appendTo: ".js-welcome-wrap"
            }));
            break;
          case s:
            e.pixel.fire("cmx"), e.device.isEnglish && (this.views.modal = new e.Views.KeepExtensionModal({
              prependTo: $("body"),
              onClose: function () {
                this.views.modal.destroy()
              }.bind(this)
            }))
        }
      },
      _handleChromeDialogue: function () {
        var o = e.device.isOSXBigSurAndUp;
        e.pixel.fire("cmi"), this.views.alert = new e.Views.KeepExtensionAlert({
          prependTo: $("body"),
          isNativeDialogueCentered: o,
          isConnectorOffsetted: e.device.isWindows,
          invertColors: this._invertColors
        });
        var n, l = document.createElement("div");

        function r() {
          n = !0
        }
        l.className = "keep-extension-dialogues", o && l.classList.add("keep-extension-dialogues--centered"), document.body.appendChild(l), l.onmouseover = r, l.ontouchstart = r, this._pollingIntevalId = setInterval(function () {
          document.hasFocus() && (clearInterval(this._pollingIntevalId), l && (l.remove(), l = null), function (e) {
            this.views.alert && this.views.alert.destroy ? this.views.alert.destroy({
              waitForAnimation: !0
            }, e) : e()
          }.bind(this)(function () {
            this._chromeInternalTimeoutId = setTimeout(function () {
              this.isExtensionStillActive(function (e, o) {
                e ? (this._showWelcomeBanner = !1, this._dispatch(a)) : o ? this._dispatch(n ? i : t) : this._dispatch(s)
              }.bind(this))
            }.bind(this), 100)
          }.bind(this)))
        }.bind(this), 100)
      },
      isExtensionStillActive: function (e) {
        this._healthCheckTimeoutId = setTimeout(function () {
          window.removeEventListener("message", this._boundHandleHealthCheckResponse), this._handleHealthCheckResponse = null, e(new Error("Health check timed out"))
        }.bind(this), 500), this._handleHealthCheckResponse = function (t) {
          t.origin === window.location.origin && "healthCheckResponse" === t.data.type && (clearTimeout(this._healthCheckTimeoutId), window.removeEventListener("message", this._boundHandleHealthCheckResponse), this._handleHealthCheckResponse = null, e(null, t.data.isAlive))
        }.bind(this), window.addEventListener("message", this._handleHealthCheckResponse), window.postMessage({
          type: "healthCheckRequest"
        }, window.location.origin)
      }
    }
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.KeepExtensionAlert = function (e) {
      t.call(this, e), document.documentElement.classList.add("has-extension-alert")
    }, e.Views.KeepExtensionAlert.prototype = $.extend({}, t.prototype, {
      template: "keep_extension_alert",
      destroy: function (e, i) {
        if (e = e || {}, document.documentElement.classList.remove("has-extension-alert"), e.waitForAnimation) {
          var s = this.$el.get(0);
          s.classList.add("destroying");
          var a = function (e) {
            s.removeEventListener("animationend", a), i && i(null), t.prototype.destroy.call(this)
          }.bind(this);
          s.addEventListener("animationend", a)
        } else i && i(null), t.prototype.destroy.call(this)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Base;
    e.Views.KeepExtensionModal = function (i) {
      t.call(this, $.extend({}, i, {
        isWindows: e.device.isWindows
      })), this._onClose = i.onClose || $.noop, document.documentElement.classList.add("has-keep-extension-modal"), this._cacheElems(".js-keep-extension-modal", ["close"]), this.bindEvents([
        [this.$close, "click", this._handleClick]
      ]), this._boundHandleKeydown = this._handleKeydown.bind(this), window.addEventListener("keydown", this._boundHandleKeydown)
    }, e.Views.KeepExtensionModal.prototype = $.extend({}, t.prototype, {
      template: "keep_extension_modal",
      destroy: function () {
        window.removeEventListener("keydown", this._boundHandleKeydown), document.documentElement.classList.remove("has-keep-extension-modal"), this._boundHandleAnimationEnd && this.$el.get(0).removeEventListener("animationend", this._boundHandleAnimationEnd), t.prototype.destroy.call(this)
      },
      close: function () {
        var e = this.$el.get(0);
        this._boundHandleAnimationEnd = function (t) {
          e.removeEventListener("animationend", this._boundHandleAnimationEnd), this._boundHandleAnimationEnd = null, this._onClose()
        }.bind(this), e.addEventListener("animationend", this._boundHandleAnimationEnd), e.classList.add("closing"), document.documentElement.classList.remove("has-keep-extension-modal")
      },
      _handleClick: function (e) {
        this.close()
      },
      _handleKeydown: function (e) {
        "Escape" === e.code && this.close()
      }
    })
  }(DDG),
  function (e) {
    var t = e.Models.Answer,
      i = e.Models.Answers;
    i.Translations = function (i) {
      i.values = e.Data.languages.translations, i.error = null, i.initialized = !1, i.isMobile = e.device.isMobile, i.specified_language_name = null, t.call(this, i), this.bindEvents([
        [this, "change:items", this._initialize.bind(this)]
      ])
    }, i.Translations.prototype = $.extend({}, t.prototype, {
      updateRequest: null,
      _initialize: function () {
        var e = this.items[0];
        this.setLanguage("original_language_name", e.original_language_name), this.setLanguage("translated_language_name", e.translated_language_name), this.set("force", e.force || !1), this.set("original_text", this._sanitize(e.original_text)), this.set("translated_text", e.force ? " " : this._sanitize(e.translated_text)), this.set("initialized", !0)
      },
      fireException: function (t) {
        e.pixel.fire("trmx", {
          trmxt: t
        })
      },
      _serviceUrl: function () {
        var t = e.services.getURL("translation");
        return t = (t = t + "?vqd=" + window.vqd) + "&query=" + encodeURIComponent(e.querystringParam("q") || ""), this.specified_language_name && (t = t + "&from=" + this.specified_language_name), t + "&to=" + this.translated_language_name
      },
      updateTranslation: function (e) {
        var t = e.$originalText.val();
        this._updateRequest = $.ajax(this._serviceUrl(), {
          method: "POST",
          contentType: "text/plain",
          data: t,
          success: function (i) {
            e.updateTranslations(t, i.detected_language, this._sanitize(i.translated), {
              silent: !0
            })
          }.bind(this),
          error: function (t, i) {
            this.set("error", lp("translations_module", "Oops! An unexpected error occurred while translating this text. Please try again later.")), e.cancelServiceCall(), this.fireException(i + "-" + t.status)
          }.bind(this),
          complete: function () {
            this.updateRequest = null
          }.bind(this)
        })
      },
      clearRequest: function () {
        this.updateRequest && (this.updateRequest.abort(), this.updateRequest = null)
      },
      getDropdownValues: function () {
        return this.values.concat().sort((function (e, t) {
          return e.name.localeCompare(t.name)
        }))
      },
      clearText: function (e) {
        this.set("original_language_name", "", e), this.set("original_text", "", e), this.set("translated_text", "", e)
      },
      getLanguage: function (e) {
        var t = this[e];
        return this.values.reduce((function (e, i) {
          return i.id === t && (e = i), e
        }), null)
      },
      setLanguage: function (e, t, i) {
        t || "translated_language_name" !== e ? t || (t = this.items[0][e]) : t = this.items[0][e] || this.defaultLanguage(), this.set(e, t, i)
      },
      swapLanguages: function (e) {
        var t = this.specified_language_name || this.original_language_name;
        this.setLanguage("specified_language_name", this.translated_language_name, e), this.setLanguage("translated_language_name", t, e), this.set("original_text", this.translated_text, e), this.set("translated_text", this.translated_text.length ? " " : "", e)
      },
      _getRegion: function () {
        return e.settings.region.id.toLowerCase()
      },
      _getLanguage: function () {
        return navigator.language.toLowerCase()
      },
      defaultLanguage: function () {
        var e, t = this._getRegion(),
          i = this._getLanguage();
        return this.values.forEach((function (i) {
          i.regions && $.inArray(t, i.regions) >= 0 && (e = i.id)
        })), e || this.values.forEach((function (t) {
          (t = t.id.toLowerCase()) !== i && t !== i.split("-")[0] || (e = t)
        })), e || "en"
      },
      _sanitize: function (t) {
        return e.Utils.Strings.htmlDecode(t)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base,
      i = "js-module--translations-outdated",
      s = "js-module--translations-pending",
      a = "js-module-translations--overflow";
    e.Views.Modules.Translations = function (e) {
      t.call(this, e)
    }, e.Views.Modules.Translations.prototype = $.extend({}, t.prototype, {
      template: "translations_module",
      inputFocused: !1,
      inputState: null,
      updateTimeout: null,
      _render: function (i) {
        t.prototype._render.call(this, i), this._cacheElems(".js-module--translations", ["original", "translated", "footer", "copy", "swap", "clear", "tooltip", "length", "translatedtext"]), this.$originalText = this.$original.find("textarea"), this.$io = this.$originalText.add(this.$translatedtext), e.device.isIE && this.$copy.hide(), this._recoverInputState(), this._updateLength(), this.bindEvents([
          [this.$translatedtext, "click", this._onSelect],
          [this.$copy, "click", this._onCopy.bind(this)],
          [this.$swap, "click", this._onSwap.bind(this)],
          [this.$clear, "click", this._onClear.bind(this)],
          [this.$originalText, "change keyup", this._onChange.bind(this)],
          [this.$originalText, "blur focus", this._onFocusChange.bind(this)],
          [this.model, "change:error", this._rerender],
          [this.$originalText, "change keyup", this._updateLength.bind(this)],
          [this.model, "change:translated_language_name", this._updateLength.bind(this)],
          [e.device, "resize", this._updateLength.bind(this)],
          [this.model, "change:specified_language_name", this._callService],
          [this.model, "change:translated_language_name", this._callService],
          [this.model, "change:original_language_name", this._rerender],
          [this.model, "change:translated_language_name", this._rerender],
          [this.model, "change:translated_text", this._rerender]
        ]), this.views.originalLanguage = new e.Views.Dropdowns.TranslationSelect({
          prependTo: this.$original,
          displayName: lp("translations_module", "Detect language"),
          model: this.model,
          property: "specified_language_name",
          includeDetectOption: !0
        }), this.views.translatedLanguage = new e.Views.Dropdowns.TranslationSelect({
          prependTo: this.$translated,
          property: "translated_language_name",
          model: this.model
        }), this.views.feedback = new e.Views.Feedback.FeedbackPrompt({
          appendTo: this.$footer,
          category: "translations",
          genericLabel: lp("translations_module", "This translation is helpful"),
          promptText: lp("feedback form", "Share Feedback"),
          showOnMobile: !1,
          showYesNo: !1
        }), "..." === this.model.translated_text && (this.model.set("translated_text", " "), this.model.fireException("el"), this._callService()), this.model.force && (this.model.set("force", !1), this.model.fireException("frc"), this._callService())
      },
      _rerender: function () {
        this.unbindEvents(), this._saveInputState(), t.prototype._rerender.call(this), this._updateLength()
      },
      _saveInputState: function () {
        this.inputState = {
          val: this.$originalText.val(),
          selectionStart: this.$originalText[0].selectionStart,
          selectionEnd: this.$originalText[0].selectionEnd,
          focused: this.inputFocused
        }
      },
      _recoverInputState: function () {
        this.inputState && (this.$originalText.val(this.inputState.val), this.inputState.focused && (this.$originalText.select(), this.$originalText[0].setSelectionRange(this.inputState.selectionStart, this.inputState.selectionEnd)), this.inputState = null)
      },
      _onSelect: function (e) {
        return window.getSelection().selectAllChildren(e.target), !1
      },
      _onCopy: function () {
        var e = function () {
          $("<textarea />", {
            text: this.model.translated_text,
            class: "js-module--translations-copy-temp"
          }).appendTo(this.$el).focus().select(), document.execCommand("copy"), this._createTooltip(this.$copy, lp("translations_module", "Translation copied"))
        }.bind(this);
        return navigator.clipboard ? navigator.clipboard.writeText(this.model.translated_text).then(function () {
          this._createTooltip(this.$copy, lp("translations_module", "Translation copied"))
        }.bind(this), (function () {
          e()
        })) : e(), !1
      },
      _onSwap: function () {
        return this.model.swapLanguages({
          silent: !0
        }), this.$originalText.val(this.model.original_text), this._rerender(), this._callService(), this._createTooltip(this.$swap, lp("translations_module", "Languages swapped")), !1
      },
      _onClear: function () {
        return this.model.clearText({
          silent: !0
        }), this.$originalText.val(""), this.model.set("error", null), this._rerender(), this.$clear.hide(), this.$copy.hide(), this.$originalText.focus(), !1
      },
      _onChange: function () {
        var e = this.$originalText.val();
        e.length || (this.model.set("original_text", ""), this.model.set("translated_text", ""), this.model.set("error", null), this.$io.attr("data-size", "l"), this.$io.height("auto"), this.$clear.hide()), this._updateLength();
        var t = e.trim() !== this.model.original_text.trim();
        this.model.clearRequest(), this.$translatedtext.removeClass(s), this.$translatedtext.toggleClass(i, t), this.updateTimeout && clearTimeout(this.updateTimeout), e.length && t && (this.updateTimeout = setTimeout(this._callService.bind(this), 750))
      },
      _onFocusChange: function (e) {
        this.inputFocused = "focus" === e.type
      },
      _callService: function () {
        var e = this.$originalText.val();
        e && e.length < 1e3 && (this.$translatedtext.addClass(s), this.model.updateTranslation(this))
      },
      cancelServiceCall: function () {
        this.$translatedtext.removeClass(i), this.$translatedtext.removeClass(s)
      },
      updateTranslations: function (e, t, i, s) {
        this.model.set("original_text", e, s), this.model.set("original_language_name", t, s), this.model.set("translated_text", i, s), this._rerender()
      },
      _inputHeight: function () {
        return Math.max(this.$originalText.prop("scrollHeight"), this.$translatedtext.prop("scrollHeight"))
      },
      _updateLength: function () {
        var t = this.$originalText.val().length,
          i = 1e3,
          s = t > i,
          o = e.device.isMobile ? 110 : 216,
          n = e.device.isMobile ? 220 : null;
        this.$clear.toggle(t > 0), this.$length.text(t + "/" + i), this.$el.toggleClass("js-show-length", s), this.$el.removeClass(a), this.model.set("error", s ? lp("translations_module", "Text exceeds %s character limit", i) : null);
        var l = this._inputHeight(),
          r = this.$io.attr("data-size") || "l";
        l > o && "l" === r ? (this.$io.attr("data-size", "m"), this._updateLength()) : l > o && "m" === r ? (this.$io.attr("data-size", "s"), this._updateLength()) : n && l > n ? (this.$io.height(n), this.$el.addClass(a)) : this.$io.height(l)
      },
      _createTooltip: function (t, i) {
        var s = t.offset(),
          a = $("<span />", {
            class: "module--translations-tooltip",
            text: i
          }).appendTo(document.body),
          o = t === this.$copy && e.device.isMobile;
        a.toggleClass("js-module--translations-tooltip-left", o).css({
          left: s.left - a.outerWidth() * (o ? .8 : .5) + t.outerWidth() / 2,
          top: s.top + t.outerHeight()
        }), setTimeout((function () {
          a.remove()
        }), 2e3)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Modules.Base;
    e.Views.Modules.Definitions = function (e) {
      t.call(this, e), this.bindEvents([
        [this.model, "change:pronunciation", this._showPronunciation],
        [this.model, "change:audio", this._showPlayButton],
        [this.model, "change:noAudio", this._hidePlayButton],
        [this.$link, "click", this._onExternalLinkClick],
        [this.$toggle, "click", this._onToggleClick],
        [this.model, "change:expanded", this._updateExpandedState],
        [this.model, "change:loaded", this._rerender.bind(this)]
      ]), this._updateExpandedState()
    }, e.Views.Modules.Definitions.prototype = $.extend({}, t.prototype, {
      template: "definitions",
      _render: function () {
        t.prototype._render.call(this), this._cacheElems(".js-definitions", ["pronunciation", "play", "link", "toggle", "more", "less"]), this.model.audio && this._showPlayButton()
      },
      _showPronunciation: function () {
        this.$pronunciation.text(this.model.pronunciation || "")
      },
      _showPlayButton: function () {
        new e.Views.PlayButton({
          appendTo: this.$play,
          url: this.model.audio
        })
      },
      _hidePlayButton: function () {
        this.$play.hide()
      },
      _onExternalLinkClick: function (e) {
        this.model.clickedExternalLink(), t.prototype._onExternalLinkClick.call(this, e)
      },
      _updateExpandedState: function () {
        this.model.canModuleExpand && (this.$toggle.show(), this.model.expanded ? (this.$more.hide(), this.$less.show(), this.$el.addClass("is-expanded")) : (this.$more.show(), this.$less.hide(), this.$el.removeClass("is-expanded")))
      },
      _onToggleClick: function (t) {
        t.stopPropagation(), this.model.engaged(), e.pixel.fire("iasm", this.model.pixelId, this.model.openType), this.model.set("expanded", !this.model.expanded)
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = t.Base;
    Handlebars.registerHelper("language_name", (function (t) {
      return e.Data.languages.translations.reduce((function (e, i) {
        return i.id === t ? i.name : e
      }), null)
    })), t.TranslationSelect = function (e) {
      this.displayName = e.displayName, this.property = e.property, this._verticalPos = 0, this._horizontalPos = 0, this.includeDetectOption = e.includeDetectOption || !1, e.key = "translation-select", e.showSelected = !0, i.call(this, e), this.bindEvents([
        [this.model, "change:" + this.property, this._rerender],
        [this, "item-clicked", this._onItemClicked.bind(this)]
      ]), this.modalOps = {
        includeDetectOption: e.includeDetectOption,
        model: this.model,
        pinned: e.pinned,
        property: e.property,
        values: this.model.getDropdownValues()
      }
    }, t.TranslationSelect.prototype = $.extend({}, i.prototype, {
      modalClass: "TranslationSelectModal",
      template: "translation_select",
      _render: function (e) {
        (e = e || {}).buttonContent = this._buttonContent(), i.prototype._render.call(this, e)
      },
      open: function () {
        i.prototype.open.call(this), e.keyboard.enableSERPShortcuts = !1, this._resizeModal(), this.views.modal.filterable.focus()
      },
      close: function () {
        e.keyboard.enableSERPShortcuts = !0, i.prototype.close.call(this), this.views.modal.filterable.reset()
      },
      _buttonContent: function () {
        var e = this.model.getLanguage(this.property);
        if (e) return e.name;
        if (this.model.original_language_name) {
          var t = this.model.getLanguage("original_language_name").name;
          return lp("translations_module", "%s detected", t)
        }
        return this.displayName
      },
      _repositionModal: function () {
        if (e.device.isMobile) i.prototype._repositionModal.call(this);
        else {
          var t = this.$button.offset();
          t.left--, this.views.modal.pointAt(t)
        }
      },
      _resizeModal: function () {
        if (!e.device.isMobile) {
          var t = this.$button.parent(".dropdown");
          this.views.modal.$el.find(".modal__box").width(t.outerWidth(!0))
        }
      },
      _onItemClicked: function (e) {
        return this.model.setLanguage(e.property, e.value), this.close(), !1
      }
    })
  }(DDG),
  function (e) {
    var t = e.Views.Dropdowns,
      i = e.Views.Modal;
    t.TranslationSelectModal = function (t) {
      t.includeDetectOption && t.values.push({
        name: lp("translations_module", "Detect language"),
        id: "",
        pinned: !0
      }), this.isPopover = t.isPopover, this.property = t.property, this.values = t.values, this.filterable = new e.Views.FilterableDropdownMixin(this), this.keyboardNavigable = new e.Views.KeyboardNavigableMixin(this, function (e) {
        this.emit("item-clicked", {
          property: this.property,
          value: e
        })
      }.bind(this)), i.call(this, t)
    }, t.TranslationSelectModal.prototype = $.extend({}, i.prototype, {
      template: "translation_select_modal",
      _render: function (t) {
        t = t || {}, i.prototype._render.call(this, {
          header: this.isPopover && lp("translations_module", "Select Language"),
          isPopover: this.isPopover,
          key: "translation",
          values: this._annotatedValues(),
          selected: this.model.getLanguage(this.property),
          name: this.property
        }), this._cacheElems(".js-dropdown", ["items", "filter", "divider"]), this.filterable.setup({
          $divider: this.$divider,
          $items: this.$items,
          $input: this.$filter
        }), this.keyboardNavigable.setup({
          $items: this.$items
        }), this.bindEvents([
          [this.model, "change:" + this.property, this._rerender],
          [e.device, "resize", this.hide],
          [this.$items, "click", this._onItemClick],
          [this.$filter, "input paste", this._onFilterChange.bind(this)]
        ])
      },
      _rerender: function () {
        this.unbindEvents(), i.prototype._rerender.call(this)
      },
      _annotatedValues: function () {
        var e = this.model.getLanguage(this.property);
        return this.values.reduce((function (t, i) {
          return i.selected = e && e.id === i.id, i.visible = !0, t.push(i), t
        }), [])
      },
      _onItemClick: function (e) {
        this.emit("item-clicked", {
          property: this.property,
          value: $(e.currentTarget).data("value")
        })
      },
      _onFilterChange: function () {
        this.keyboardNavigable.reset()
      }
    })
  }(DDG),
  function (e) {
    e.feedback = new e.Models.Feedback, e.searchExperiments = e.searchExperiments || new e.Models.SearchExperiments, e.modulesLayout = new e.Models.ModulesLayout({}), e.duckbar = new e.Duckbar, e.directionSource = new e.Models.AnswerSelectLists.DirectionSource, e.vqd = new e.Models.VQD, e.router = new e.Models.Router, e.pageLayout = new e.Models.PageLayout
  }(DDG), this.DDG = this.DDG || {}, this.DDG.templates = this.DDG.templates || {}, this.DDG.templates.base = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression;
    return l += '<div class="zci  zci--', l += d(o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" id="zci-', l += d(o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '">', ((o = (n = i.content) || typeof (n = t && t.content) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (l += o), l += "</div>"
  })), this.DDG.templates.detail_slider_pane = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="detail__pane" style="line-height:', n += r((o = i.lineHeight) || typeof (o = t && t.lineHeight) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ";width:", n += r((o = i.width) || typeof (o = t && t.width) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ";height:", n += r((o = i.height) || typeof (o = t && t.height) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ";padding:", n += r((o = i.padding) || typeof (o = t && t.padding) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ";padding-left:", n += r((o = i.paddingLeft) || typeof (o = t && t.paddingLeft) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ';"></div>'
  })), this.DDG.templates.detail_slider = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;
    return l += '<div class="detail  detail--slider  detail--', o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '  is-hidden" ', o = i.if.call(t, t && t.detailHeight, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o = "";
        return o += 'style="height:', s = (a = i.detailHeight) || typeof (a = e && e.detailHeight) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + ';"'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '><div class="detail__wrap"><a class="detail__close  js-detail-close"></a>', ((o = i.if.call(t, t && t.mobileAndNoTouch, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        return '<i class="tile-nav tile-nav--d tile-nav--prev js-detail-prev"></i><i class="tile-nav tile-nav--d tile-nav--next js-detail-next"></i>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '<div class="detail__panes  js-detail-panes"></div><div class="detail__controls"><i class="tile-nav--sm  tile-nav--sm--prev  js-detail-prev"></i><i class="tile-nav--sm  tile-nav--sm--next  js-detail-next"></i></div></div></div>'
  })), this.DDG.templates.duckbar_tab = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = this,
      c = "function",
      h = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<li class="zcm__item  ', ((o = i.if.call(t, t && t.visible, {
      hash: {},
      inverse: d.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      fn: d.noop,
      data: a
    })) || 0 === o) && (r += o), r += '"><a data-zci-link="', ((o = (n = i.id) || typeof (n = t && t.id) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '" class="zcm__link  js-zci-link  js-zci-link--', ((o = (n = i.id) || typeof (n = t && t.id) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, t && t.active, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "is-active"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" href="#">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, t && t.name, l) : h.call(t, "l", t && t.name, l)) || 0 === o) && (r += o), r += "</a></li>"
  })), this.DDG.templates.maps_marker_popup = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this;

    function c(e, t) {
      var s, a, o = "";
      return o += '<span class="mapview-marker__popup__name">', s = (a = i.name) || typeof (a = e && e.name) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span>"
    }

    function h(e, t) {
      var s, a, o = "";
      return o += '<span class="mapview-marker__popup__address">', s = (a = i.address) || typeof (a = e && e.address) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span>"
    }

    function p(e, t) {
      var s, a, o = "";
      return o += '<span class="mapview-marker__popup__latlon">', ((s = (a = i.displayLatLon) || typeof (a = e && e.displayLatLon) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (o += s), o += "</span>"
    }

    function u(e, t) {
      var s, a, o = "";
      return o += '<div class="mapview-marker__popup__directions-name"><span class="ddgsi mapview-marker__popup__directions-icon">d</span><span class="mapview-marker__popup__name">', s = (a = i.name) || typeof (a = e && e.name) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span></div>"
    }
    return n += '<span class="mapview-marker__popup ', ((o = i.if.call(t, t && t.singleLinePopup, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "mapview-marker__popup--single-line"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " ", ((o = i.if.call(t, t && t.showDirections, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "has-directions js-popup-directions-container"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '">', o = i.unless.call(t, t && t.showDirections, {
      hash: {},
      inverse: d.program(12, (function (e, t) {
        var s, a = "";
        return a += '<a class="js-directions-link" href="#">', ((s = i.if.call(e, e && e.name, {
          hash: {},
          inverse: d.noop,
          fn: d.program(13, u, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.address, {
          hash: {},
          inverse: d.noop,
          fn: d.program(8, h, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.displayLatLon, {
          hash: {},
          inverse: d.noop,
          fn: d.program(10, p, t),
          data: t
        })) || 0 === s) && (a += s), a += "</a>"
      }), a),
      fn: d.program(5, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.name, {
          hash: {},
          inverse: d.noop,
          fn: d.program(6, c, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.address, {
          hash: {},
          inverse: d.noop,
          fn: d.program(8, h, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.displayLatLon, {
          hash: {},
          inverse: d.noop,
          fn: d.program(10, p, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</span>"
  })), this.DDG.templates.maps = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="zci zci--', n += r((o = i.id) || typeof (o = t && t.id) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '  mapview" id="zci-', n += r((o = i.id) || typeof (o = t && t.id) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '"></div>'
  })), this.DDG.templates.metabar = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this,
      c = "function",
      h = this.escapeExpression;

    function p(e, t) {
      return "hide--screen-s"
    }

    function u(e, t) {
      return " is-loading"
    }

    function m(e, t) {
      return '<span class="sep"></span>'
    }

    function f(e, t) {
      return '<span class="metabar__attribution__sep sep"></span>'
    }

    function g(e, t) {
      var s, a, o, n = "";
      return n += '<span class="metabar__item-type--no-transform">' + h((o = {
        hash: {},
        data: t
      }, (a = i.l || e && e.l) ? a.call(e, e && e.itemType, o) : r.call(e, "l", e && e.itemType, o))) + "</span> ", o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "for", o) : r.call(e, "l", "for", o)) || 0 === s) && (n += s), n += ' <span class="metabar__term">', s = (a = i.searchTerm) || typeof (a = e && e.searchTerm) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += h(s) + "</span>"
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<span class="metabar__item-type">' + h((o = {
        hash: {},
        data: t
      }, (a = i.l || e && e.l) ? a.call(e, e && e.itemType, o) : r.call(e, "l", e && e.itemType, o))) + "</span> ", o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "for", o) : r.call(e, "l", "for", o)) || 0 === s) && (n += s), n += ' <span class="metabar__term">', s = (a = i.searchTerm) || typeof (a = e && e.searchTerm) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += h(s) + "</span>"
    }
    return l += '<div class="metabar  metabar--fixed  js-zcm-sticky ', ((o = i.if.call(t, t && t.showDropdowns, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "has-dropdowns"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += " ", ((o = i.if.call(t, t && t.hidden, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '"><div class="metabar__in  js-metabar"><span class="metabar__mode-wrap"><a class="btn--icon  metabar__mode  js-metabar-mode  is-disabled">', o = (n = i.initialModeIcon) || typeof (n = t && t.initialModeIcon) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += h(o) + "</a></span>", o = i.if.call(t, t && t.showMoreAt, {
      hash: {},
      inverse: d.noop,
      fn: d.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="metabar__more-at">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e, "none", o) : r.call(e, "moreAt", e, "none", o)) || 0 === s) && (n += s), n += "</div> "
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.secondaryText, {
      hash: {},
      inverse: d.noop,
      fn: d.program(7, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="metabar__secondary-text  ', ((s = i.if.call(e, e && e.alwaysShowSecondaryText, {
          hash: {},
          inverse: d.program(8, p, t),
          fn: d.noop,
          data: t
        })) || 0 === s) && (o += s), o += " js-metabar-secondary", ((s = i.if.call(e, e && e.clickableSecondaryText, {
          hash: {},
          inverse: d.noop,
          fn: d.program(10, u, t),
          data: t
        })) || 0 === s) && (o += s), o += '">', ((s = (a = i.secondaryText) || typeof (a = e && e.secondaryText) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), ((s = i.if.call(e, e && e.showMoreAt, {
          hash: {},
          inverse: d.noop,
          fn: d.program(12, m, t),
          data: t
        })) || 0 === s) && (o += s), o += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="metabar__attribution  js-attribution  hide--screen-s  is-hidden">', o = i.if.call(t, t && t.showMoreAt, {
      hash: {},
      inverse: d.program(16, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.secondaryText, {
          hash: {},
          inverse: d.noop,
          fn: d.program(14, f, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: d.program(14, f, a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="metabar__primary-text js-metabar-primary is-loading">', o = i.if.call(t, t && t.primaryText, {
      hash: {},
      inverse: d.program(20, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.sourceNoTransform, {
          hash: {},
          inverse: d.program(23, _, t),
          fn: d.program(21, g, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: d.program(18, (function (e, t) {
        var s, a;
        return (s = (a = i.primaryText) || typeof (a = e && e.primaryText) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div>", ((o = i.if.call(t, t && t.showDropdowns, {
      hash: {},
      inverse: d.noop,
      fn: d.program(25, (function (e, t) {
        return '<div class="metabar__dropdowns-wrap"><div class="metabar__dropdowns js-metabar-dropdowns is-loading"></div></div>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += "</div></div>"
  })), this.DDG.templates.tiles_scroll_nav = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<i class="tile-nav  tile-nav--', n += (0, this.escapeExpression)((o = i.dir) || "function" == typeof (o = t && t.dir) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '  js-tile-nav"></i>'
  })), this.DDG.templates.tiles = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;
    return l += '<div class="zci  zci--', l += d(o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) + "  zci--type--tiles", ((o = i.if.call(t, t && t.bing, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return " bing"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.isFullPage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        return " is-full-page"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.canShowSidebarFilters, {
      hash: {},
      inverse: c.noop,
      fn: c.program(5, (function (e, t) {
        return " has-sidebar-filters"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '" id="zci-', l += d(o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '"><div class="tileview  js-tileview">', ((o = i.if.call(t, t && t.canShowSidebarFilters, {
      hash: {},
      inverse: c.noop,
      fn: c.program(7, (function (e, t) {
        return '<div class="sidebar-filters js-tileview-sidebar-filters"></div>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '<div class="tile-wrap"><div class="zci__main  zci__main--tiles  js-tiles  has-tiles  has-nav">', ((o = (n = i.content) || typeof (n = t && t.content) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (l += o), l += "</div></div>", ((o = i.if.call(t, t && t.hasFeedbackButton, {
      hash: {},
      inverse: c.noop,
      fn: c.program(9, (function (e, t) {
        return '<div class="serp__bottom-right js-vertical-bottom-right"></div>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += "</div></div>"
  })), this.DDG.templates.topic_menu_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.blockHelperMissing;

    function u(e, t) {
      var i, s = "";
      return s += '<sup class="zcm__link__count  js-topic-menu-count">' + c(typeof (i = null == (i = e && e.items) || !1 === i ? i : i.length) === d ? i.apply(e) : i) + "</sup>"
    }
    return r += '<li class="zcm__item"><a class="zcm__link--sub  js-topic-menu-link" href="#">', o = (n = i.name) || typeof (n = t && t.name) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o), l = {
      hash: {},
      inverse: h.program(1, u, a),
      fn: h.noop,
      data: a
    }, o = (n = i.hideCount) || typeof (n = t && t.hideCount) === d ? n.call(t, l) : n, i.hideCount || (o = p.call(t, o, {
      hash: {},
      inverse: h.program(1, u, a),
      fn: h.noop,
      data: a
    })), (o || 0 === o) && (r += o), r += "</a></li>"
  })), this.DDG.templates.topic_menu = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="zcm  zcm--sub  zcm--topics"><ul class="zcm__menu  zcm__menu--topics js-topic-menu"></ul></div>'
  })), this.DDG.templates.uxexp_duckbar_tab = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = this,
      c = "function",
      h = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<li class="zcm__item  ', ((o = i.if.call(t, t && t.visible, {
      hash: {},
      inverse: d.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      fn: d.noop,
      data: a
    })) || 0 === o) && (r += o), r += '"><a data-zci-link="', ((o = (n = i.id) || typeof (n = t && t.id) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '" class="zcm__link  js-zci-link  js-zci-link--', ((o = (n = i.id) || typeof (n = t && t.id) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, t && t.active, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "is-active"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" href="#"><span class="zcm__link__icon">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, t && t.icon_template, l) : h.call(t, "include", t && t.icon_template, l)) || 0 === o) && (r += o), r += "</span>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, t && t.name, l) : h.call(t, "l", t && t.name, l)) || 0 === o) && (r += o), r += "</a></li>"
  })), this.DDG.templates.answer_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "";
    return l += '<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">', ((o = (n = (i = this.merge(i, e.helpers)).Answer) || "function" == typeof (n = t && t.Answer) ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (l += o), l += "</div></div></div>"
  })), this.DDG.templates.base_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = i.helperMissing,
      r = this;

    function d(e, t) {
      var s, a, o, n = "";
      return n += '<span class="c-base__link--more  sep--before">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o) : l.call(e, "formatSubtitle", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o)) || 0 === s) && (n += s), n += "</span>"
    }
    return n += '<div class="cw"><div class="zci__main  zci__main--detail  c-base"><div class="zci__body">', o = i.if.call(t, t && t.content, {
      hash: {},
      inverse: r.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : l.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s ? s : ""
      }), a),
      fn: r.program(1, (function (e, t) {
        var s, a;
        return (s = (a = i.content) || "function" == typeof (a = e && e.content) ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreAt, {
      hash: {},
      inverse: r.noop,
      fn: r.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-base__links">', o = {
          hash: {
            className: "c-base__link"
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : l.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s) && (n += s), ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, {
          hash: {},
          inverse: r.noop,
          fn: r.program(6, d, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.base_spice_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">', ((o = (n = i.content) || "function" == typeof (n = t && t.content) ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '<div class="zci__links">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, null == (o = t && t.item) || !1 === o ? o : o.meta, l) : d.call(t, "moreAt", null == (o = t && t.item) || !1 === o ? o : o.meta, l)) || 0 === o) && (r += o), r += "</div></div></div></div>"
  })), this.DDG.templates.basic_icon_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing,
      c = this;

    function h(e, t) {
      var s, a, o = "";
      return o += '<div class="c-icon__content ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconContent) === l ? s.apply(e) : s) + '">', s = (a = i.description) || typeof (a = e && e.description) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</div>"
    }

    function p(e, t) {
      var s, a, o, n = "";
      return n += '<span class="c-icon__link--more  sep--before">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o) : d.call(e, "formatSubtitle", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o)) || 0 === s) && (n += s), n += "</span>"
    }
    return n += '<div class="cw ', ((o = i.if.call(t, t && t.infoboxData, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-aux"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"><div class="zci__main  c-icon"><div class="zci__body"><div class="c-icon__head">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-icon__img-wrap ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconImage) === l ? s.apply(e) : s) + '"><img class="c-icon__img" src="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : d.call(e, "imageProxy", e && e.image, o)) || 0 === s) && (n += s), n += '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.badge, {
      hash: {},
      inverse: c.noop,
      fn: c.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="c-icon__badge ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconBadge) === l ? s.apply(e) : s) + " " + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.bgColor) === l ? s.apply(e) : s) + '">', s = (a = i.badge) || typeof (a = e && e.badge) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="c-icon__body">', o = i.if.call(t, t && t.title, {
      hash: {},
      inverse: c.noop,
      fn: c.program(7, (function (e, t) {
        var s, a, o = "";
        return o += '<h1 class="c-icon__title ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconTitle) === l ? s.apply(e) : s) + '"><a href="', ((s = (a = i.url) || typeof (a = e && e.url) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += '">', s = (a = i.title) || typeof (a = e && e.title) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + "</a></h1>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(9, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-icon__sub ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconSubtitle) === l ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : d.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.altSubtitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(11, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-icon__sub ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconAltSubtitle) === l ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.altSubtitle, o) : d.call(e, "formatSubtitle", e && e.altSubtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, {
      hash: {},
      inverse: c.program(15, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.description, {
          hash: {},
          inverse: c.noop,
          fn: c.program(16, h, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: c.program(13, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-icon__content ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconContent) === l ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : d.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreAt, {
      hash: {},
      inverse: c.noop,
      fn: c.program(18, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-icon__links ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.iconLinks) === l ? s.apply(e) : s) + '">', o = {
          hash: {
            className: "c-icon__link"
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : d.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s) && (n += s), ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, {
          hash: {},
          inverse: c.noop,
          fn: c.program(19, p, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.basic_info_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this,
      c = "function",
      h = i.helperMissing,
      p = this.escapeExpression;

    function u(e, t) {
      return "tile"
    }

    function m(e, t) {
      return "clip"
    }

    function f(e, t) {
      return "has-sub"
    }

    function g(e, t) {
      var s, a, o, n = "";
      return n += '<span class="c-info__title__sub">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : h.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</span>"
    }

    function _(e, t) {
      return "chomp js-ellipsis"
    }

    function v(e, t) {
      var s, a, o = "";
      return o += '<div class="c-info__content chomp js-ellipsis">', s = (a = i.description) || typeof (a = e && e.description) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += p(s) + "</div>"
    }
    return r += '<div class="c-info--cw  cw ', ((o = i.if.call(t, t && t.infoboxData, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "has-aux"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="zci__main  c-info"><div class="zci__body">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-info__img-wrap  c-info__img-wrap--', ((s = i.if.call(e, e && e.imageTile, {
          hash: {},
          inverse: d.program(6, m, t),
          fn: d.program(4, u, t),
          data: t
        })) || 0 === s) && (n += s), n += '"><a href="', ((s = (a = i.url) || typeof (a = e && e.url) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (n += s), n += '" class="c-info__img-wrap__in"><img class="c-info__img  js-detail-img" src="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : h.call(e, "imageProxy", e && e.image, o)) || 0 === s) && (n += s), n += '" /></a></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-info__body">', o = i.if.call(t, t && t.title, {
      hash: {},
      inverse: d.noop,
      fn: d.program(8, (function (e, t) {
        var s, a, o = "";
        return o += '<h1 class="c-info__title  ', ((s = i.if.call(e, e && e.subtitle, {
          hash: {},
          inverse: d.noop,
          fn: d.program(9, f, t),
          data: t
        })) || 0 === s) && (o += s), o += '"><a href="', ((s = (a = i.url) || typeof (a = e && e.url) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += '">', s = (a = i.title) || typeof (a = e && e.title) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += p(s) + "</a>", ((s = i.if.call(e, e && e.subtitle, {
          hash: {},
          inverse: d.noop,
          fn: d.program(11, g, t),
          data: t
        })) || 0 === s) && (o += s), o += "</h1>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, {
      hash: {},
      inverse: d.program(16, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.description, {
          hash: {},
          inverse: d.noop,
          fn: d.program(17, v, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: d.program(13, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-info__content ', ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.chompContent, {
          hash: {},
          inverse: d.noop,
          fn: d.program(14, _, t),
          data: t
        })) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-info__links">', n = i.include || t && t.include, l = {
      hash: {
        className: "c-info__link  c-info__link--chomp",
        sep: (o = t && t.meta, o = null == o || !1 === o ? o : o.options, null == o || !1 === o ? o : o.moreAt)
      },
      data: a
    }, ((o = n ? n.call(t, "chomp_link", l) : h.call(t, "include", "chomp_link", l)) || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreAt, {
      hash: {},
      inverse: d.noop,
      fn: d.program(19, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            className: "c-info__link",
            sourceOnlyMobile: "true"
          },
          data: t
        }, (s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : h.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreText, {
      hash: {},
      inverse: d.noop,
      fn: d.program(21, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-info__link--more  sep--before">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o) : h.call(e, "formatSubtitle", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div></div>"
  })), this.DDG.templates.goodie_0_inputs = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function";
    return n += '<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">', ((o = typeof (o = null == (o = t && t.Answer) || !1 === o ? o : o.result) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += "</h3>", o = i.if.call(t, null == (o = t && t.Answer) || !1 === o ? o : o.operation, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var i, s = "";
        return s += '<h4 class="zci__subheader"><span class="zci__operation">', ((i = typeof (i = null == (i = e && e.Answer) || !1 === i ? i : i.operation) === l ? i.apply(e) : i) || 0 === i) && (s += i), s += "</span></h4>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.goodie_1_inputs = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">', ((o = typeof (o = null == (o = t && t.Answer) || !1 === o ? o : o.result) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += '</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">', ((o = typeof (o = null == (o = t && t.Answer) || !1 === o ? o : o.operation) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += ':</span> <span class="zci__input">' + r(typeof (o = null == (o = null == (o = t && t.Answer) || !1 === o ? o : o.input) || !1 === o ? o : o[0]) === l ? o.apply(t) : o) + "</span></h4></div></div></div>"
  })), this.DDG.templates.goodie_2_inputs = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">', ((o = typeof (o = null == (o = t && t.Answer) || !1 === o ? o : o.result) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += '</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">', ((o = typeof (o = null == (o = t && t.Answer) || !1 === o ? o : o.operation) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += '</span> <span class="zci__input">' + r(typeof (o = null == (o = null == (o = t && t.Answer) || !1 === o ? o : o.input) || !1 === o ? o : o[0]) === l ? o.apply(t) : o) + '</span> <span class="tx-clr--lt2">&dash;</span> <span class="zci__input">' + r(typeof (o = null == (o = null == (o = t && t.Answer) || !1 === o ? o : o.input) || !1 === o ? o : o[1]) === l ? o.apply(t) : o) + "</span></h4></div></div></div>"
  })), this.DDG.templates.info_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      return "tile"
    }

    function m(e, t) {
      return "clip"
    }

    function f(e, t) {
      var i, s = "";
      return s += 'style="width:' + c(typeof (i = null == (i = e && e.imageLoadingSize) || !1 === i ? i : i.width) === d ? i.apply(e) : i) + "px;height:" + c(typeof (i = null == (i = e && e.imageLoadingSize) || !1 === i ? i : i.height) === d ? i.apply(e) : i) + 'px;" '
    }
    return r += '<div class="c-info--cw  cw ', ((o = i.if.call(t, t && t.infoboxData, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        return "has-aux"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="zci__main  c-info"><div class="zci__body">', o = i.if.call(t, t && t.Image, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="c-info__img-wrap  c-info__img-wrap--', ((s = i.if.call(e, e && e.imageTile, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s) && (o += s), o += '"><a href="', ((s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += '" class="c-info__img-wrap__in"><img class="c-info__img  js-sized-img" src="', ((s = (a = i.Image) || typeof (a = e && e.Image) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += '" ', ((s = i.if.call(e, e && e.imageLoadingSize, {
          hash: {},
          inverse: h.noop,
          fn: h.program(8, f, t),
          data: t
        })) || 0 === s) && (o += s), o += " /></a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-info__body">', o = i.if.call(t, t && t.Heading, {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        var s, a, o;
        return a = i.formatTitle || e && e.formatTitle, o = {
          hash: {
            el: "h1",
            className: "c-info__title",
            href: e && e.AbstractURL,
            ellipsis: 100
          },
          data: t
        }, (s = a ? a.call(e, e && e.Heading, o) : p.call(e, "formatTitle", e && e.Heading, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-info__content chomp js-ellipsis">', ((o = (n = i.Abstract) || typeof (n = t && t.Abstract) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</div><div class="c-info__links">', n = i.include || t && t.include, l = {
      hash: {
        className: "c-info__link  c-info__link--chomp",
        sep: t && t.meta
      },
      data: a
    }, ((o = n ? n.call(t, "chomp_link", l) : p.call(t, "include", "chomp_link", l)) || 0 === o) && (r += o), o = i.if.call(t, t && t.meta, {
      hash: {},
      inverse: h.noop,
      fn: h.program(12, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            className: "c-info__link",
            sourceOnlyMobile: !0
          },
          data: t
        }, (s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, e && e.AbstractURL, o) : p.call(e, "moreAt", e && e.meta, e && e.AbstractURL, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.each.call(t, t && t.Results, {
      hash: {
        to: "0"
      },
      inverse: h.noop,
      fn: h.program(14, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="c-info__link  c-info__link--url" href="', s = (a = i.FirstURL) || typeof (a = e && e.FirstURL) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '"><span class="sep  c-info__links__sep"></span>' + c((o = {
          hash: {},
          data: t
        }, (a = i.domain || e && e.domain) ? a.call(e, e && e.FirstURL, o) : p.call(e, "domain", e && e.FirstURL, o))) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div></div>"
  })), this.DDG.templates.list_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing,
      h = this;

    function p(e, t, s) {
      var a, o, n, l = "";
      return l += '<li class="c-list__item">', n = {
        hash: {},
        data: t
      }, ((a = (o = i.include || s && s.include) ? o.call(e, null == (a = null == (a = s && s.meta) || !1 === a ? a : a.options) || !1 === a ? a : a.list_content, n) : c.call(e, "include", null == (a = null == (a = s && s.meta) || !1 === a ? a : a.options) || !1 === a ? a : a.list_content, n)) || 0 === a) && (l += a), l += "</li>"
    }
    return r += '<div class="cw"><div class="zci__main  c-list"><div class="zci__body">', o = i.if.call(t, t && t.title, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<h3 class="c-list__title">', s = (a = i.title) || "function" == typeof (a = e && e.title) ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</h3>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="c-list__sub">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : c.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.subtitle_content, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o) : c.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-list__content  chomp  js-chomp">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : c.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.list_content, {
      hash: {},
      inverse: h.noop,
      fn: h.program(9, (function (e, t) {
        var s, a = "";
        return a += '<div class="c-list__content  chomp  js-chomp"><ul class="c-list__items">', ((s = i.each.call(e, e && e.list, {
          hash: {},
          inverse: h.noop,
          fn: h.programWithDepth(10, p, t, e),
          data: t
        })) || 0 === s) && (a += s), a += "</ul></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-list__links">', n = i.include || t && t.include, l = {
      hash: {
        className: "c-list__link",
        sep: (o = t && t.meta, o = null == o || !1 === o ? o : o.options, null == o || !1 === o ? o : o.moreAt)
      },
      data: a
    }, ((o = n ? n.call(t, "chomp_link", l) : c.call(t, "include", "chomp_link", l)) || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreAt, {
      hash: {},
      inverse: h.noop,
      fn: h.program(12, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            className: "c-list__link"
          },
          data: t
        }, (s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : c.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreText, {
      hash: {},
      inverse: h.noop,
      fn: h.program(14, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-list__link--more  sep--before">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o) : c.call(e, "formatSubtitle", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div>"
  })), this.DDG.templates.lyrics_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this;
    return r += '<div class="c-info--cw  cw ', ((o = i.if.call(t, null == (o = t && t.data) || !1 === o ? o : o[1], {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-aux"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="zci__main  c-info"><div class="zci__body  c-info__body">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lyricsTitle || t && t.lyricsTitle) ? n.call(t, t && t.title, t && t.url, l) : d.call(t, "lyricsTitle", t && t.title, t && t.url, l)) || 0 === o) && (r += o), r += '<div class="c-info__content  chomp js-ellipsis">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lyricsAbstract || t && t.lyricsAbstract) ? n.call(t, t && t.abstract, l) : d.call(t, "lyricsAbstract", t && t.abstract, l)) || 0 === o) && (r += o), r += '</div><div class="c-info__links">', l = {
      hash: {
        className: "c-info__link  c-info__link--chomp  sep--after"
      },
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "chomp_link", l) : d.call(t, "include", "chomp_link", l)) || 0 === o) && (r += o), l = {
      hash: {
        className: "c-info__link"
      },
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, t && t.url, t && t.source, l) : d.call(t, "moreAt", t && t.url, t && t.source, l)) || 0 === o) && (r += o), r += "</div></div></div></div>", o = i.if.call(t, null == (o = null == (o = t && t.data) || !1 === o ? o : o[1]) || !1 === o ? o : o.urlTitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, "infobox", o) : d.call(e, "include", "infobox", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r
  })), this.DDG.templates.nlp_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="c-info  c-info--body">', n = i.formatTitle || t && t.formatTitle, l = {
      hash: {
        el: "h1",
        className: "c-info__title",
        classNameSec: "c-info__title--long",
        href: t && t.url
      },
      data: a
    }, ((o = n ? n.call(t, t && t.heading, l) : d.call(t, "formatTitle", t && t.heading, l)) || 0 === o) && (r += o), r += '<div class="c-info__content chomp js-ellipsis">', ((o = (n = i.abstract) || "function" == typeof (n = t && t.abstract) ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</div><div class="c-info__links">', l = {
      hash: {
        className: "c-info__link  c-info__link--chomp  sep--after"
      },
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "chomp_link", l) : d.call(t, "include", "chomp_link", l)) || 0 === o) && (r += o), l = {
      hash: {
        className: "c-info__link",
        sourceOnlyMobile: "true",
        attributionAfter: "true"
      },
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, t && t.meta, t && t.url, l) : d.call(t, "moreAt", t && t.meta, t && t.url, l)) || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.places_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression,
      h = "function",
      p = this,
      u = i.blockHelperMissing;

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.starRating || e && e.starRating) ? a.call(e, e && e.rating, o) : d.call(e, "starRating", e && e.rating, o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.reviewCount || e && e.reviewCount) ? a.call(e, e && e.reviews, e && e.url, o) : d.call(e, "reviewCount", e && e.reviews, e && e.url, o)) || 0 === s ? s : ""
    }

    function g(e, t) {
      var i = "";
      return i += c(typeof e === h ? e.apply(e) : e) + "<br />"
    }

    function _(e, t) {
      var s, a, o = "";
      return o += '<p class="tile__sub">', s = (a = i.address) || typeof (a = e && e.address) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</p>"
    }

    function v(e, t) {
      return "hours-closed"
    }

    function b(e, t) {
      var s, a;
      return s = (a = i.hoursToday) || typeof (a = e && e.hoursToday) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, c(s)
    }

    function w(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.l || e && e.l) ? a.call(e, "Closed", o) : d.call(e, "l", "Closed", o)) || 0 === s ? s : ""
    }

    function y(e, t) {
      var s, a, o = "";
      return o += "<tr ", ((s = i.if.call(e, e && e.isToday, {
        hash: {},
        inverse: p.noop,
        fn: p.program(43, k, t),
        data: t
      })) || 0 === s) && (o += s), o += '><td class="tile__hours-full__day">', s = (a = i.day) || typeof (a = e && e.day) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + ':</td><td class="tile__hours-full__hours">', s = (a = i.hours) || typeof (a = e && e.hours) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</td></tr>"
    }

    function k(e, t) {
      return 'class="tile__hours-full__current"'
    }
    return r += '<div class="zci__main  zci__main--single-loc"><div class="tile--map  js-tile-map"><div class="tile__body"><div class="tile--map__side"><a class="tile__media" href="', ((o = (n = i.url) || typeof (n = t && t.url) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: p.program(3, (function (e, t) {
        return '<span class="ddgsi tile__media__no-img">@</span>'
      }), a),
      fn: p.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__media__wrapper"><img src="' + c((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : d.call(e, "imageProxy", e && e.image, o))) + '" alt="', s = (a = i.title) || typeof (a = e && e.title) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" class="tile__media__img" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</a>", n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__more-wrap">', o = {
          hash: {
            className: "tile__more-link",
            iconClassName: "tile__favicon",
            dynamicMoreAtText: 5
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.url, null == (s = e && e.meta) || !1 === s ? s : s.sourceName, o) : d.call(e, "moreAt", e && e.url, null == (s = e && e.meta) || !1 === s ? s : s.sourceName, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = t && t.meta) || !1 === o ? o : o.sourceName, t && t.url, l) : d.call(t, "and", null == (o = t && t.meta) || !1 === o ? o : o.sourceName, t && t.url, l)) || 0 === o) && (r += o), r += '</div><h4 class="tile__title"><a href="', ((o = (n = i.url) || typeof (n = t && t.url) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '">', o = (n = i.name) || typeof (n = t && t.name) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</a></h4><div class="tile--map__main ', ((o = i.if.call(t, t && t.hours, {
      hash: {},
      inverse: p.noop,
      fn: p.program(7, (function (e, t) {
        return "has-hours js-tile-map-with-hours"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="tile--map__main__not-hours"><div class="tile__rating-and-price"><div class="tile__rating">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.detail_rating, {
      hash: {},
      inverse: p.program(11, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.rating, {
          hash: {},
          inverse: p.noop,
          fn: p.program(12, m, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.reviews, {
          hash: {},
          inverse: p.noop,
          fn: p.program(14, f, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      fn: p.program(9, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.detail_rating, o) : d.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.detail_rating, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>", n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(16, (function (e, t) {
        return '<span class="sep"></span>'
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.rating, t && t.price, l) : d.call(t, "and", t && t.rating, t && t.price, l)) || 0 === o) && (r += o), o = i.if.call(t, t && t.price, {
      hash: {},
      inverse: p.noop,
      fn: p.program(18, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile__price">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.priceSymbols || e && e.priceSymbols) ? a.call(e, e && e.price, 4, o) : d.call(e, "priceSymbols", e && e.price, 4, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, t && t.address_lines, {
      hash: {},
      inverse: p.program(23, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.address, {
          hash: {},
          inverse: p.noop,
          fn: p.program(24, _, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: p.program(20, (function (e, t) {
        var s, a = "";
        return a += '<p class="tile__sub">', ((s = i.each.call(e, e && e.address_lines, {
          hash: {},
          inverse: p.noop,
          fn: p.program(21, g, t),
          data: t
        })) || 0 === s) && (a += s), a += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.phone, {
      hash: {},
      inverse: p.noop,
      fn: p.program(26, (function (e, t) {
        var s, a, o = "";
        return o += '<a class="tile__phone" href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">', s = (a = i.phone) || typeof (a = e && e.phone) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.hours, {
      hash: {},
      inverse: p.noop,
      fn: p.program(28, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__hours-today"><span class="tile__hours-today__label">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Today", o) : d.call(e, "l", "Today", o)) || 0 === s) && (n += s), n += ':</span><a href="#" class="tile__hours-today__hours js-map-hours-expand ', ((s = i.if.call(e, e && e.hoursToday, {
          hash: {},
          inverse: p.program(29, v, t),
          fn: p.noop,
          data: t
        })) || 0 === s) && (n += s), n += '">', ((s = i.if.call(e, e && e.hoursToday, {
          hash: {},
          inverse: p.program(33, w, t),
          fn: p.program(31, b, t),
          data: t
        })) || 0 === s) && (n += s), n += "</a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="tile__actions ', ((o = i.if.call(t, t && t.compressActions, {
      hash: {},
      inverse: p.noop,
      fn: p.program(35, (function (e, t) {
        return "tile__actions--small"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '">', o = i.if.call(t, t && t.canMakePhoneCalls, {
      hash: {},
      inverse: p.noop,
      fn: p.program(37, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="tile__actions__btn tile__call btn js-tel-link" href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Call", o) : d.call(e, "lp", "maps_places", "Call", o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.showDirections, {
      hash: {},
      inverse: p.noop,
      fn: p.program(39, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__directions js-directions-container"><a class="tile__actions__btn btn js-directions-link" href="', s = (a = i.directions) || typeof (a = e && e.directions) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Directions", o) : d.call(e, "lp", "maps_places", "Directions", o)) || 0 === s) && (n += s), n += "</a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>", o = i.if.call(t, t && t.hours, {
      hash: {},
      inverse: p.noop,
      fn: p.program(41, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__hours-full"><span class="tile__hours__close  ddgsi  js-map-hours-close">X</span><table class="tile__hours-full__table">', o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(42, y, t),
          data: t
        }, s = (a = i.hours) || typeof (a = e && e.hours) === h ? a.call(e, o) : a, i.hours || (s = u.call(e, s, {
          hash: {},
          inverse: p.noop,
          fn: p.program(42, y, t),
          data: t
        })), (s || 0 === s) && (n += s), n += "</table></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.products_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<span class="c-product__rating ', ((s = i.if.call(e, e && e.subtitle, {
        hash: {},
        inverse: p.noop,
        fn: p.program(7, m, t),
        data: t
      })) || 0 === s) && (n += s), n += '">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.starsAndReviews || e && e.starsAndReviews) ? a.call(e, e && e.rating, e && e.reviewCount, e && e.url, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.hideReviewText, o) : h.call(e, "starsAndReviews", e && e.rating, e && e.reviewCount, e && e.url, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.hideReviewText, o)) || 0 === s) && (n += s), n += "</span>"
    }

    function m(e, t) {
      return "sep--before"
    }

    function f(e, t) {
      return '<span class="sep  c-product__sep"></span>'
    }

    function g(e, t) {
      var s, a, o = "";
      return o += '<span class="c-product__price  price  tx-clr--dk2">', s = (a = i.price) || typeof (a = e && e.price) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</span>"
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<span class="c-product__brand">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "made_by", "by %s", e && e.brand, o) : h.call(e, "lp", "made_by", "by %s", e && e.brand, o)) || 0 === s) && (n += s), n += "</span>"
    }
    return r += '<div class="c-product"><div class="c-product__pane">', o = i.if.call(t, t && t.img, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-product__media ' + c(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.productMedia) === d ? s.apply(e) : s) + '"><img class="c-product__media__img ' + c(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.productMediaImg) === d ? s.apply(e) : s) + '" src="' + c((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.img, o) : h.call(e, "imageProxy", e && e.img, o))) + '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="c-product__body-wrap"><div class="c-product__body-content"><div class="c-product__body  c-product__body--pri  r-border-box">', n = i.formatTitle || t && t.formatTitle, l = {
      hash: {
        el: "h5",
        className: "c-product__title",
        classNameSec: (o = t && t.meta, o = null == o || !1 === o ? o : o.elClass, null == o || !1 === o ? o : o.productTitle),
        noSub: "true",
        ellipsis: 120,
        href: t && t.url
      },
      data: a
    }, ((o = n ? n.call(t, t && t.heading, l) : h.call(t, "formatTitle", t && t.heading, l)) || 0 === o) && (r += o), r += '<p class="c-product__subtitle  ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.productSub) === d ? o.apply(t) : o) + '">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.subtitle_content, {
      hash: {},
      inverse: p.program(5, (function (e, t) {
        var s, a, o, n = "";
        return s = (a = i.subtitle) || typeof (a = e && e.subtitle) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s), ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.rating, {
          hash: {},
          inverse: p.noop,
          fn: p.program(6, u, t),
          data: t
        })) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(9, f, t),
          data: t
        }, ((s = a ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.rating, e && e.price, o) : h.call(e, "and", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.rating, e && e.price, o)) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(11, g, t),
          data: t
        }, ((s = a ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, e && e.price, o) : h.call(e, "and", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, e && e.price, o)) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(9, f, t),
          data: t
        }, ((s = a ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.price, e && e.brand, o) : h.call(e, "and", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.price, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.price, e && e.brand, o)) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(9, f, t),
          data: t
        }, ((s = a ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.rating, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.brand, o) : h.call(e, "and", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.rating, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.brand, o)) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
          hash: {},
          inverse: p.noop,
          fn: p.program(13, _, t),
          data: t
        }, ((s = a ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.brand, o) : h.call(e, "and", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.brand, e && e.brand, o)) || 0 === s) && (n += s), n
      }), a),
      fn: p.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</p></div><div class="c-product__body  c-product__body--sec"><div class="c-product__desc ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.productDesc) === d ? o.apply(t) : o) + '">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.description_content, {
      hash: {},
      inverse: p.program(17, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.ellipsis || e && e.ellipsis) ? a.call(e, e && e.abstract, 400, o) : h.call(e, "ellipsis", e && e.abstract, 400, o)) || 0 === s ? s : ""
      }), a),
      fn: p.program(15, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.description_content, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.description_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.buy, {
      hash: {},
      inverse: p.noop,
      fn: p.program(19, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-product__callout ' + c(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.productCallout) === d ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.buy, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.buy, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div></div>"
  })), this.DDG.templates.spice_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="cw"><div class="zci__main  zci__main--detail"> <div class="zci__body">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, t && t.content, l) : d.call(t, "include", t && t.content, l)) || 0 === o) && (r += o), l = {
      hash: {
        className: "zci__more-at"
      },
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, t && t.source_url, t && t.source_name, l) : d.call(t, "moreAt", t && t.source_url, t && t.source_name, l)) || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.text_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this.escapeExpression,
      d = "function",
      c = this;

    function h(e, t) {
      var s, a, o = "";
      return o += '<h3 class="c-base__title">', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</h3>"
    }

    function p(e, t) {
      return "chomp js-ellipsis"
    }

    function u(e, t) {
      var s, a, o = "";
      return o += '<div class="c-base__content ', ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.chompContent, {
        hash: {},
        inverse: c.noop,
        fn: c.program(15, p, t),
        data: t
      })) || 0 === s) && (o += s), o += '">', s = (a = i.description) || typeof (a = e && e.description) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</div>"
    }
    return n += '<div class="cw ', ((o = i.if.call(t, t && t.infoboxData, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-aux"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"><div class="zci__main  c-base"><div class="zci__body">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="c-base__img-wrap"><img class="c-base__img" src="' + r((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.image, a) : l.call(e, "imageProxy", e && e.image, a))) + '"></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.title_content, {
      hash: {},
      inverse: c.program(7, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.title, {
          hash: {},
          inverse: c.noop,
          fn: c.program(8, h, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: c.program(5, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.title_content, o) : l.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.title_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.subtitle_content, {
      hash: {},
      inverse: c.noop,
      fn: c.program(10, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o) : l.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(12, (function (e, t) {
        var s, a, o, n = "";
        return n += '<h4 class="c-base__sub">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : l.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</h4>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, {
      hash: {},
      inverse: c.program(17, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.description, {
          hash: {},
          inverse: c.noop,
          fn: c.program(18, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: c.program(14, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-base__content ', ((s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.chompContent, {
          hash: {},
          inverse: c.noop,
          fn: c.program(15, p, t),
          data: t
        })) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : l.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="c-base__links">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.chompContent, {
      hash: {},
      inverse: c.noop,
      fn: c.program(20, (function (e, t) {
        var s, a, o;
        return a = i.include || e && e.include, o = {
          hash: {
            className: "c-base__link",
            sep: (s = e && e.meta, s = null == s || !1 === s ? s : s.options, null == s || !1 === s ? s : s.moreAt)
          },
          data: t
        }, (s = a ? a.call(e, "chomp_link", o) : l.call(e, "include", "chomp_link", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreAt, {
      hash: {},
      inverse: c.noop,
      fn: c.program(22, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            className: "c-base__link"
          },
          data: t
        }, (s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : l.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.moreText, {
      hash: {},
      inverse: c.noop,
      fn: c.program(24, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-base__link--more  sep--before">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o) : l.call(e, "formatSubtitle", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.moreText, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.icon_images = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 7C5.32843 7 6 6.32843 6 5.5C6 4.67157 5.32843 4 4.5 4C3.67157 4 3 4.67157 3 5.5C3 6.32843 3.67157 7 4.5 7Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.25 1C1.45507 1 0 2.45507 0 4.25V11.75C0 13.5449 1.45507 15 3.25 15H12.75C14.5449 15 16 13.5449 16 11.75V10.2593C16.0001 10.2531 16.0001 10.2469 16 10.2407V4.25C16 2.45507 14.5449 1 12.75 1H3.25ZM14.5 8.43928V4.25C14.5 3.2835 13.7165 2.5 12.75 2.5H3.25C2.2835 2.5 1.5 3.2835 1.5 4.25V11.75C1.5 11.9563 1.5357 12.1543 1.60126 12.3381L5.96967 7.96967C6.26256 7.67678 6.73744 7.67678 7.03033 7.96967L8.00003 8.93937L10.9697 5.96967C11.2626 5.67678 11.7375 5.67678 12.0304 5.96967L14.5 8.43928ZM9.06069 10L10.0303 10.9697C10.3232 11.2626 10.3232 11.7374 10.0303 12.0303C9.73744 12.3232 9.26256 12.3232 8.96967 12.0303L6.5 9.56066L2.66192 13.3987C2.84572 13.4643 3.04369 13.5 3.25 13.5H12.75C13.7165 13.5 14.5 12.7165 14.5 11.75V10.5606L11.5001 7.56066L9.06069 10Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.icon_loupe = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 1C2.68629 1 0 3.68629 0 7C0 10.3137 2.68629 13 6 13C7.64669 13 9.13845 12.3366 10.2226 11.2626L14.7873 14.8403C15.1133 15.0959 15.5848 15.0387 15.8403 14.7127C16.0958 14.3867 16.0387 13.9153 15.7126 13.6597L11.1487 10.0826C11.6892 9.18164 12 8.12711 12 7C12 3.68629 9.31371 1 6 1ZM1.5 7C1.5 4.51472 3.51472 2.5 6 2.5C8.48528 2.5 10.5 4.51472 10.5 7C10.5 9.48528 8.48528 11.5 6 11.5C3.51472 11.5 1.5 9.48528 1.5 7Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.icon_maps = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8C9.10457 8 10 7.10457 10 6C10 4.89543 9.10457 4 8 4C6.89543 4 6 4.89543 6 6C6 7.10457 6.89543 8 8 8Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C6.81332 0 5.65328 0.351894 4.66658 1.01118C3.67989 1.67047 2.91085 2.60754 2.45673 3.7039C2.0026 4.80026 1.88378 6.00666 2.11529 7.17054C2.35179 8.35952 2.99591 9.39906 3.73051 10.2144C5.0603 11.6902 5.95884 13.0319 6.52237 13.9981C6.80408 14.4812 7.00183 14.87 7.1277 15.1343C7.19062 15.2665 7.23554 15.3675 7.26398 15.4334C7.27819 15.4664 7.28829 15.4907 7.29444 15.5057L7.30075 15.5212L7.30129 15.5226L7.30168 15.5236C7.41829 15.8212 7.71074 16.0123 8.03018 15.9994C8.34937 15.9865 8.62531 15.7729 8.71783 15.4673L8.71818 15.4662L8.72264 15.4522C8.72711 15.4384 8.73473 15.4154 8.74578 15.3837C8.76791 15.3202 8.80379 15.2219 8.85585 15.0927C8.95997 14.8342 9.12867 14.452 9.38109 13.9769C9.88586 13.0267 10.7253 11.7051 12.0529 10.2568C12.7338 9.51391 13.6375 8.41354 13.8847 7.17054C14.1162 6.00666 13.9974 4.80026 13.5433 3.7039C13.0892 2.60754 12.3201 1.67047 11.3334 1.01118C10.3467 0.351894 9.18669 0 8 0ZM8.05642 13.2731C8.01989 13.3419 7.98488 13.409 7.95134 13.4745C7.90893 13.3994 7.86453 13.322 7.81811 13.2425C7.20975 12.1993 6.25213 10.7721 4.84488 9.21027C4.23085 8.5288 3.75511 7.72573 3.58647 6.87791C3.41284 6.00499 3.50195 5.10019 3.84254 4.27792C4.18314 3.45566 4.75992 2.75285 5.49994 2.25839C6.23996 1.76392 7.10999 1.5 8 1.5C8.89002 1.5 9.76005 1.76392 10.5001 2.25839C11.2401 2.75285 11.8169 3.45566 12.1575 4.27793C12.4981 5.10019 12.5872 6.00499 12.4135 6.87791C12.2556 7.67171 11.6276 8.50093 10.9471 9.24321C9.52471 10.7949 8.61414 12.2233 8.05642 13.2731Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.icon_news = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.25C3 7.83579 3.33579 7.5 3.75 7.5H8.25C8.66421 7.5 9 7.83579 9 8.25C9 8.66421 8.66421 9 8.25 9H3.75C3.33579 9 3 8.66421 3 8.25Z" fill="currentColor"/><path d="M3.75 10.5C3.33579 10.5 3 10.8358 3 11.25C3 11.6642 3.33579 12 3.75 12H8.25C8.66421 12 9 11.6642 9 11.25C9 10.8358 8.66421 10.5 8.25 10.5H3.75Z" fill="currentColor"/><path d="M3 4.75C3 4.33579 3.33579 4 3.75 4H5.25C5.66421 4 6 4.33579 6 4.75V5.25C6 5.66421 5.66421 6 5.25 6H3.75C3.33579 6 3 5.66421 3 5.25V4.75Z" fill="currentColor"/><path d="M7.75 4C7.33579 4 7 4.33579 7 4.75V5.25C7 5.66421 7.33579 6 7.75 6H8.25C8.66421 6 9 5.66421 9 5.25V4.75C9 4.33579 8.66421 4 8.25 4H7.75Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 3C0 1.89543 0.895431 1 2 1H10C11.1046 1 12 1.89543 12 3H14C15.1046 3 16 3.89543 16 5V12.25C16 13.7688 14.7688 15 13.25 15H3.25C1.45507 15 0 13.5449 0 11.75V3ZM10.7999 13.5H3.25C2.2835 13.5 1.5 12.7165 1.5 11.75V3C1.5 2.72386 1.72386 2.5 2 2.5H10C10.2761 2.5 10.5 2.72386 10.5 3V12.25C10.5 12.7001 10.6081 13.125 10.7999 13.5ZM12 4.5V12.25C12 12.9404 12.5596 13.5 13.25 13.5C13.9404 13.5 14.5 12.9404 14.5 12.25V5C14.5 4.72386 14.2761 4.5 14 4.5H12Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.icon_shopping = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.74994 4.5V4.25C4.74994 3.8232 4.834 3.40059 4.99733 3.00628C5.16066 2.61197 5.40005 2.25369 5.70184 1.9519C6.00363 1.65011 6.36191 1.41072 6.75622 1.24739C7.15053 1.08406 7.57314 1 7.99994 1C8.42674 1 8.84935 1.08406 9.24366 1.24739C9.63797 1.41072 9.99625 1.65011 10.298 1.9519C10.5998 2.25369 10.8392 2.61197 11.0025 3.00628C11.1659 3.40059 11.2499 3.82321 11.2499 4.25V4.5H13.1311C14.1502 4.5 15.0064 5.26627 15.1189 6.27914L15.6869 11.3911C15.9008 13.3163 14.3938 15 12.4568 15H3.54311C1.60607 15 0.0990778 13.3163 0.312988 11.3911L0.880983 6.27914C0.993524 5.26627 1.84965 4.5 2.86875 4.5H4.74994ZM7.33024 2.63321C7.54256 2.54526 7.77013 2.5 7.99994 2.5C8.22975 2.5 8.45732 2.54527 8.66964 2.63321C8.88196 2.72116 9.07487 2.85006 9.23738 3.01256C9.39988 3.17507 9.52878 3.36799 9.61673 3.58031C9.70467 3.79262 9.74994 4.02019 9.74994 4.25V4.5H6.24994V4.25C6.24994 4.02019 6.2952 3.79262 6.38315 3.5803C6.4711 3.36798 6.6 3.17507 6.7625 3.01256C6.925 2.85006 7.11792 2.72116 7.33024 2.63321ZM4.74994 6V7.25C4.74994 7.66421 5.08573 8 5.49994 8C5.91415 8 6.24994 7.66421 6.24994 7.25V6H9.74994V7.25C9.74994 7.66421 10.0857 8 10.4999 8C10.9142 8 11.2499 7.66421 11.2499 7.25V6H13.1311C13.3859 6 13.6 6.19157 13.6281 6.44478L14.1961 11.5567C14.3113 12.5934 13.4998 13.5 12.4568 13.5H3.54311C2.50009 13.5 1.68863 12.5934 1.80381 11.5567L2.37181 6.44478C2.39994 6.19157 2.61398 6 2.86875 6H4.74994Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.icon_videos = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.4887 5.55027C15.3801 6.63605 15.3801 9.36446 13.4887 10.4502L6.23148 14.6164C4.34816 15.6976 2 14.338 2 12.1664L2 3.83407C2 1.66248 4.34816 0.302917 6.23148 1.38408L13.4887 5.55027ZM12.7419 9.14937C13.629 8.64011 13.629 7.36041 12.7419 6.85115L5.48468 2.68496C4.60135 2.17787 3.5 2.81554 3.5 3.83407L3.5 12.1664C3.5 13.185 4.60135 13.8226 5.48468 13.3156L12.7419 9.14937Z" fill="currentColor"/></svg>'
  })), this.DDG.templates.base_item_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing,
      c = this;
    return n += '<div class="detail__inner">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="detail__media detail__media--' + r(typeof (s = null == (s = e && e.meta) || !1 === s ? s : s.id) === l ? s.apply(e) : s) + " " + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailMedia) === l ? s.apply(e) : s) + '"><img class="detail__media__img ' + r(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailImg) === l ? s.apply(e) : s) + '" src="' + r((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : d.call(e, "imageProxy", e && e.image, o))) + '" alt="', s = (a = i.imageAlt) || typeof (a = e && e.imageAlt) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="detail__body detail__body--' + r(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === l ? o.apply(t) : o) + " " + r(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.detailBody) === l ? o.apply(t) : o) + '"><div class="detail__body__content">', o = i.if.call(t, t && t.content, {
      hash: {},
      inverse: c.program(5, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : d.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s ? s : ""
      }), a),
      fn: c.program(3, (function (e, t) {
        var s, a;
        return (s = (a = i.content) || typeof (a = e && e.content) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.images_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i, s = "";
      return s += 'style="width:' + c(typeof (i = null == (i = e && e.detail) || !1 === i ? i : i.width) === d ? i.apply(e) : i) + ";height:" + c(typeof (i = null == (i = e && e.detail) || !1 === i ? i : i.height) === d ? i.apply(e) : i) + ";top:" + c(typeof (i = null == (i = e && e.detail) || !1 === i ? i : i.top) === d ? i.apply(e) : i) + ';"'
    }
    return r += '<div class="detail__inner"><div class="detail__media  detail__media--images"><div class="detail__media__img-wrapper  js-image-detail-wrapper">', o = i.if.call(t, t && t.linkImage, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += "<a ", ((s = i.if.call(e, null == (s = e && e.detail) || !1 === s ? s : s.width, {
          hash: {},
          inverse: h.noop,
          fn: h.program(2, u, t),
          data: t
        })) || 0 === s) && (o += s), o += ' href="', s = (a = i.image) || typeof (a = e && e.image) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" class="detail__media__img-link  js-detail-img  js-image-detail-link" target="_blank">'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div style="width:' + c(typeof (o = null == (o = t && t.detail) || !1 === o ? o : o.transBgWidth) === d ? o.apply(t) : o) + ";height:" + c(typeof (o = null == (o = t && t.detail) || !1 === o ? o : o.transBgHeight) === d ? o.apply(t) : o) + ';" class="detail__media__img-bg  js-detail-img  js-detail-img-bg"></div><img src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.thumbnail, l) : p.call(t, "imageProxy", t && t.thumbnail, l))) + '" ', ((o = i.if.call(t, null == (o = t && t.detail) || !1 === o ? o : o.width, {
      hash: {},
      inverse: h.noop,
      fn: h.program(2, u, a),
      data: a
    })) || 0 === o) && (r += o), r += ' class="detail__media__img-thumbnail  js-detail-img  js-detail-img-thumb" /><img ', ((o = i.if.call(t, null == (o = t && t.detail) || !1 === o ? o : o.width, {
      hash: {},
      inverse: h.noop,
      fn: h.program(2, u, a),
      data: a
    })) || 0 === o) && (r += o), r += ' alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="detail__media__img-highres  js-detail-img  js-detail-img-high" />', ((o = i.if.call(t, t && t.linkImage, {
      hash: {},
      inverse: h.noop,
      fn: h.program(4, (function (e, t) {
        return "</a>"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '</div></div><div class="detail__body  detail__body--images"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</a></h5><div class="c-detail__desc">', o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: h.noop,
      fn: h.program(6, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a href="', s = (a = i.image) || typeof (a = e && e.image) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" target="_blank" class="c-detail__btn c-detail__btn--right btn js-image-detail-link">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "View File", o) : p.call(e, "l", "View File", o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<p><a href="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">' + c((l = {
      hash: {},
      data: a
    }, (n = i.domain || t && t.domain) ? n.call(t, t && t.url, l) : p.call(t, "domain", t && t.url, l))) + '</a></p><div class="c-detail__filemeta">', o = (n = i.width) || typeof (n = t && t.width) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + " &times; ", o = (n = i.height) || typeof (n = t && t.height) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "</div>", o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: h.program(8, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a href="', s = (a = i.image) || typeof (a = e && e.image) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" target="_blank" class="c-detail__btn c-detail__btn--bottom btn js-image-detail-link">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "View File", o) : p.call(e, "l", "View File", o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      fn: h.noop,
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div>"
  })), this.DDG.templates.media_item_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = i.helperMissing,
      h = this;
    return l += '<div class="detail__inner">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="detail__media ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailMedia) === r ? s.apply(e) : s) + '"><img class="detail__media__img ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailImg) === r ? s.apply(e) : s) + '" src="' + d((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : c.call(e, "imageProxy", e && e.image, o))) + '" alt="imageAlt" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="detail__body ' + d(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.detailBody) === r ? o.apply(t) : o) + '"><div class="c-detail detail__body__content"><h5 class="c-detail__title ' + d(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.detailTitle) === r ? o.apply(t) : o) + '">', o = (n = i.title) || typeof (n = t && t.title) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o), o = i.if.call(t, t && t.altSubtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-detail__title__sub ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailAltSubtitle) === r ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.altSubtitle, o) : c.call(e, "formatSubtitle", e && e.altSubtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</h5>", o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-detail__subtitle ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailSubtitle) === r ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : c.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.description, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-detail__desc ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailSnippet) === r ? s.apply(e) : s) + '">' + d((o = {
          hash: {
            fallback: 155
          },
          data: t
        }, (a = i.ellipsis || e && e.ellipsis) ? a.call(e, e && e.description, null == (s = e && e.meta) || !1 === s ? s : s.snippetChars, o) : c.call(e, "ellipsis", e && e.description, null == (s = e && e.meta) || !1 === s ? s : s.snippetChars, o))) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.callout, {
      hash: {},
      inverse: h.noop,
      fn: h.program(9, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="c-detail__callout ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.detailFoot) === r ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.callout, o) : c.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.callout, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div></div></div>"
  })), this.DDG.templates.products_item_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression,
      h = "function",
      p = this;
    return r += '<div class="detail__inner">', o = i.if.call(t, t && t.img_m, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="detail__media  detail__media--pr"><img class="detail__media__img" src="' + c((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.img_m, a) : d.call(e, "imageProxy", e && e.img_m, a))) + '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="detail__body  detail__body--pr"><div class="c-detail  detail__body__content">', n = i.formatTitle || t && t.formatTitle, l = {
      hash: {
        href: t && t.url,
        el: "h5",
        className: "c-detail__title",
        ellipsis: 120
      },
      data: a
    }, ((o = n ? n.call(t, t && t.heading, l) : d.call(t, "formatTitle", t && t.heading, l)) || 0 === o) && (r += o), r += '<p class="c-detail__subtitle">', n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="c-detail__price  price  tx-clr--dk2">', s = (a = i.price) || typeof (a = e && e.price) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, t && t.price, l) : d.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, t && t.price, l)) || 0 === o) && (r += o), n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(5, (function (e, t) {
        return '<span class="sep  c-detail__sep"></span>'
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.price, t && t.brand, l) : d.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.price, t && t.brand, l)) || 0 === o) && (r += o), n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(7, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="c-detail__brand">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "made_by", "by %s", e && e.brand, o) : d.call(e, "lp", "made_by", "by %s", e && e.brand, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.brand, l) : d.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.brand, l)) || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.subtitle_content, {
      hash: {},
      inverse: p.noop,
      fn: p.program(9, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o) : d.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.subtitle_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</p>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.rating, {
      hash: {},
      inverse: p.noop,
      fn: p.program(11, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="c-detail__rating">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.starsAndReviews || e && e.starsAndReviews) ? a.call(e, e && e.rating, e && e.reviewCount, e && e.url_review, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.hideReviewText, o) : d.call(e, "starsAndReviews", e && e.rating, e && e.reviewCount, e && e.url_review, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.hideReviewText, o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<p class="c-detail__desc  hide--screen-xs">', ((o = (n = i.abstract) || typeof (n = t && t.abstract) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += "</p>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.buy, {
      hash: {},
      inverse: p.noop,
      fn: p.program(13, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.buy, o) : d.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.buy, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.qa_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="detail__inner"><div class="detail__body  detail__body--qa"><div class="c-detail detail__body__content  detail__body__content--qa"><h4 class="c-detail__title  detail__title--qa"><a href="', r += c(o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '">', ((o = (n = i.heading) || typeof (n = t && t.heading) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</a></h4><div class="chomp--scroll">', ((o = (n = i.abstract) || typeof (n = t && t.abstract) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</div><p class="c-detail__more">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, t && t.url, t && t.source, l) : h.call(t, "moreAt", t && t.url, t && t.source, l)) || 0 === o) && (r += o), r += "</p></div></div></div>"
  })), this.DDG.templates.videos_detail_embed = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<iframe class="proxy_video_frame detail__media__vid" width="100%" height="100%" src="/video_frame?url=', n += (0, this.escapeExpression)((o = i.embedURL) || "function" == typeof (o = t && t.embedURL) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '" frameborder="0" scrolling="no" allowfullscreen mozallowfullscreen webkitallowfullscreen></iframe>'
  })), this.DDG.templates.videos_detail_privacy = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing;
    return n += '<div class="overlay  overlay--video-privacy"><div class="overlay__wrap"><div class="overlay__content">', o = i.if.call(t, t && t.embedURL, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="overlay__text overlay--video-privacy__text">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "This video is not yet able to be watched here. You can watch it on %s.", e && e.publisher, o) : l.call(e, "l", "This video is not yet able to be watched here. You can watch it on %s.", e && e.publisher, o)) || 0 === s) && (n += s), n += '</p><a class="btn btn--wire overlay__btn overlay__btn--single js-video-privacy-leave" href="#" title="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch on %s", e && e.publisher, o) : l.call(e, "l", "Watch on %s", e && e.publisher, o)) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch on %s", e && e.publisher, o) : l.call(e, "l", "Watch on %s", e && e.publisher, o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="overlay--video-privacy__icon"></div><h3 class="overlay__title  detail__media__privacy__header">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "YouTube Privacy Warning", o) : l.call(e, "l", "YouTube Privacy Warning", o)) || 0 === s) && (n += s), n += '</h3><p class="overlay__text  overlay--video-privacy__text">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "YouTube (owned by Google) does not let you watch videos anonymously. As such, watching YouTube videos here will be tracked by YouTube/Google.", o) : l.call(e, "l", "YouTube (owned by Google) does not let you watch videos anonymously. As such, watching YouTube videos here will be tracked by YouTube/Google.", o)) || 0 === s) && (n += s), n += '</p><ul class="overlay__btn-list"><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-watch" href="#" title="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch Here", o) : l.call(e, "l", "Watch Here", o)) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch Here", o) : l.call(e, "l", "Watch Here", o)) || 0 === s) && (n += s), n += '</a></li><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-leave" href="#" title="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch on YouTube", o) : l.call(e, "l", "Watch on YouTube", o)) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Watch on YouTube", o) : l.call(e, "l", "Watch on YouTube", o)) || 0 === s) && (n += s), n += '</a></li></ul><label class="overlay--video-privacy__remember  js-video-privacy-remember-label"><input type="checkbox" class="js-video-privacy-remember" type="checkbox" checked="checked" />', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Remember my choice (this can be changed in %s%s%sSettings%s)", '<a href="/settings#privacy" title="', null == (s = e && e.answerMeta) || !1 === s ? s : s.settingsTitleText, '">', "</a>", o) : l.call(e, "l", "Remember my choice (this can be changed in %s%s%sSettings%s)", '<a href="/settings#privacy" title="', null == (s = e && e.answerMeta) || !1 === s ? s : s.settingsTitleText, '">', "</a>", o)) || 0 === s) && (n += s), n += "</label>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div></div>"
  })), this.DDG.templates.videos_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var s, a, o = "";
      return o += "<a href='", s = (a = i.userURL) || typeof (a = e && e.userURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "'>", s = (a = i.username) || typeof (a = e && e.username) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</a>"
    }

    function m(e, t) {
      var s, a;
      return s = (a = i.username) || typeof (a = e && e.username) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, c(s)
    }
    return r += '<div class="detail__inner"><div class="detail__media  detail__media--vid  js-video"><div class="detail__media__vid-wrap  js-video-media" style="background-image:url(\'' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, null == (o = t && t.images) || !1 === o ? o : o.medium, l) : p.call(t, "imageProxy", null == (o = t && t.images) || !1 === o ? o : o.medium, l))) + '\');"></div></div><div class="detail__body"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href=\'', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "' title=\"", o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</a></h5><div class="c-detail__desc">', o = i.if.call(t, t && t.username, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a = "";
        return a += '<p class="c-detail__user"><i class="c-detail__icon  c-detail__user__icon">u</i> ', ((s = i.if.call(e, e && e.userURL, {
          hash: {},
          inverse: h.program(4, m, t),
          fn: h.program(2, u, t),
          data: t
        })) || 0 === s) && (a += s), a += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.viewCount, {
      hash: {},
      inverse: h.noop,
      fn: h.program(6, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="c-detail__count"><i class="c-detail__icon  c-detail__count__icon">i</i> ', s = (a = i.viewCount) || typeof (a = e && e.viewCount) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.publishedDate, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="c-detail__date"><i class="c-detail__icon  c-detail__date__icon">&uArr;</i> ', s = (a = i.publishedDate) || typeof (a = e && e.publishedDate) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>    ", o = i.if.call(t, t && t.musicVideo, {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        var s, a, o, n = "";
        return n += '<h6 class="c-detail__links--title">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "access_song", "Get this song on:", o) : p.call(e, "lp", "access_song", "Get this song on:", o)) || 0 === s) && (n += s), n += '</h6><p class="c-detail__links"><a href=\'/?q=' + c(typeof (s = null == (s = e && e.musicVideo) || !1 === s ? s : s.spotifyURL) === d ? s.apply(e) : s) + "' class='btn c-detail__links__btn'>", o = {
          hash: {
            className: "btn__icon",
            w: "auto",
            h: "auto"
          },
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, "spotify", o) : p.call(e, "favicon", "spotify", o)) || 0 === s) && (n += s), n += "Spotify</a><a href='/?q=" + c(typeof (s = null == (s = e && e.musicVideo) || !1 === s ? s : s.amazonURL) === d ? s.apply(e) : s) + "' class='btn c-detail__links__btn'>", o = {
          hash: {
            className: "btn__icon",
            w: "auto",
            h: "auto"
          },
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, "amazon", o) : p.call(e, "favicon", "amazon", o)) || 0 === s) && (n += s), n += "Amazon  </a><a style=\"display: none;\" href='' id=\"video-detail-itunes\" class='btn c-detail__links__btn' data-title='" + c(typeof (s = null == (s = e && e.musicVideo) || !1 === s ? s : s.title) === d ? s.apply(e) : s) + "' data-artist='" + c(typeof (s = null == (s = e && e.musicVideo) || !1 === s ? s : s.artist) === d ? s.apply(e) : s) + "' data-song='" + c(typeof (s = null == (s = e && e.musicVideo) || !1 === s ? s : s.song) === d ? s.apply(e) : s) + "'>", o = {
          hash: {
            className: "btn__icon",
            w: "auto",
            h: "auto"
          },
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, "apple", o) : p.call(e, "favicon", "apple", o)) || 0 === s) && (n += s), n += "iTunes  </a></p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.searchURL, {
      hash: {},
      inverse: h.noop,
      fn: h.program(12, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="c-detail__more">', a = i.moreAt || e && e.moreAt, o = {
          hash: {
            className: " ",
            iconClassName: "c-detail__icon",
            iconUrl: e && e.faviconURL
          },
          data: t
        }, ((s = a ? a.call(e, e && e.searchURL, e && e.provider, o) : p.call(e, "moreAt", e && e.searchURL, e && e.provider, o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.audio_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;
    return r += '<div class="tile  tile--c--n  tile--audio  tile--no-highlight ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: p.program(3, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
      }), a),
      fn: p.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '"><div class="tile__media">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: p.program(7, (function (e, t) {
        return '<div class="tile__media__no-artwork ddgsi">♫</div>'
      }), a),
      fn: p.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<img class="tile__media__img js-lazyload" src="" data-src="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : h.call(e, "imageProxy", e && e.image, o)) || 0 === s) && (n += s), n += '" />'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="audio-controls"><div class="audio-controls__progress"><div class="audio-controls__progress-bg  full100"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-loading"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-playback"><span class="rotated-fill"></span><span class="full-fill"></span></div></div><span class="audio-controls__action  ddgsi">►</span><span class="audio-controls__time"></span></div></div><div class="tile__body"><h4 class="tile__title"><a href="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" title="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">' + c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.title, 45, l) : h.call(t, "ellipsis", t && t.title, 45, l))) + "</a></h4>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.footer, {
      hash: {},
      inverse: p.noop,
      fn: p.program(9, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__footer">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.base_expanding_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;
    return r += '<div class="tile  tile--e  tile--' + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === d ? o.apply(t) : o) + "  tile--no-highlight  tile--c--whole  ", o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, l) : p.call(t, "include", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.content, l)) || 0 === o) && (r += o), o = i.if.call(t, t && t.canExpand, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        var i, s = "";
        return s += '<span class="tile__expand-icon  ddgsi  ' + c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tileExpand) === d ? i.apply(e) : i) + '"></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.base_flipping_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="tile  tile--f  tile--' + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === d ? o.apply(t) : o) + "  ", o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '"><div class="tile--f__main ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileFront) === d ? o.apply(t) : o) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.front_content, l) : h.call(t, "include", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.front_content, l)) || 0 === o) && (r += o), r += '</div><div class="tile--f__alt ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileBack) === d ? o.apply(t) : o) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.back_content, l) : h.call(t, "include", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.back_content, l)) || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.base_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this,
      c = i.helperMissing;

    function h(e, t) {
      var i;
      return r(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === l ? i.apply(e) : i)
    }

    function p(e, t) {
      return "tile--c"
    }
    return n += '<div class="tile  tile--b ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: d.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tile, {
          hash: {},
          inverse: d.program(6, p, t),
          fn: d.program(4, h, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: d.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, r(s)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += " tile--" + r(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === l ? o.apply(t) : o) + '" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: d.noop,
      fn: d.program(8, (function (e, t) {
        var s, a, o = "";
        return o += 'data-link="', s = (a = i.url) || typeof (a = e && e.url) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '>  <div class="tile__body">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.tile_content, {
      hash: {},
      inverse: d.program(12, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o) : c.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.content, o)) || 0 === s ? s : ""
      }), a),
      fn: d.program(10, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.tile_content, o) : c.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.tile_content, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div>"
  })), this.DDG.templates.basic_flipping_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing,
      c = this;

    function h(e, t, s) {
      var a, o, n;
      return o = i.include || s && s.include, n = {
        hash: {
          meta: s && s.meta,
          num: s && s.num
        },
        data: t
      }, (a = o ? o.call(e, "tile_body", n) : d.call(e, "include", "tile_body", n)) || 0 === a ? a : ""
    }
    return n += '<div class="tile  tile--f  tile--' + r(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === l ? o.apply(t) : o) + "  ", o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: c.program(3, (function (e, t) {
        var i;
        return r(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === l ? i.apply(e) : i)
      }), a),
      fn: c.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, r(s)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '"><div class="tile--f__main ' + r(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileFront) === l ? o.apply(t) : o) + '">', ((o = i.with.call(t, t && t.data_front, {
      hash: {},
      inverse: c.noop,
      fn: c.programWithDepth(5, h, a, t),
      data: a
    })) || 0 === o) && (n += o), n += '</div><div class="tile--f__alt ' + r(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileBack) === l ? o.apply(t) : o) + '">', ((o = i.with.call(t, t && t.data_back, {
      hash: {},
      inverse: c.noop,
      fn: c.programWithDepth(5, h, a, t),
      data: a
    })) || 0 === o) && (n += o), n += "</div></div>"
  })), this.DDG.templates.basic_image_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i;
      return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
    }

    function m(e, t) {
      return "tile--c"
    }
    return r += '<div class="tile  tile--b--i ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tile, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += " has-detail  tile--" + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === d ? o.apply(t) : o) + '  opt--t-xxs" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        var s, a, o = "";
        return o += ' data-link="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><div class="tile__media ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileMedia) === d ? o.apply(t) : o) + '"><img src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.image, l) : p.call(t, "imageProxy", t && t.image, l))) + '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileMediaImg) === d ? o.apply(t) : o) + '" /></div><div class="tile__body  tile__body--b-i ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileBody) === d ? o.apply(t) : o) + '"><h6 class="tile__title ', ((o = i.if.call(t, t && t.description, {
      hash: {},
      inverse: h.program(12, (function (e, t) {
        return "tile__sub--2"
      }), a),
      fn: h.program(10, (function (e, t) {
        return "tile__title--1 with-sub"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(14, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.title, 55, l) : p.call(t, "ellipsis", t && t.title, 55, l))), ((o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(16, (function (e, t) {
        return "</a>"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += "</h6>", o = i.if.call(t, t && t.description, {
      hash: {},
      inverse: h.noop,
      fn: h.program(18, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="tile__sub--2  opt">' + c((a = {
          hash: {},
          data: t
        }, (s = i.ellipsis || e && e.ellipsis) ? s.call(e, e && e.description, 56, a) : p.call(e, "ellipsis", e && e.description, 56, a))) + "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="tile__tx  tile__rating  one-line ', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileRating, {
      hash: {},
      inverse: h.program(22, (function (e, t) {
        return "tile__rating--right"
      }), a),
      fn: h.program(20, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tileRating) === d ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.rating, {
      hash: {},
      inverse: h.noop,
      fn: h.program(24, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.starRating || e && e.starRating) ? a.call(e, e && e.rating, o) : p.call(e, "starRating", e && e.rating, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.ratingText, {
      hash: {},
      inverse: h.noop,
      fn: h.program(26, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="tile__source  one-line">' + c((a = {
          hash: {},
          data: t
        }, (s = i.ellipsis || e && e.ellipsis) ? s.call(e, e && e.ratingText, 19, a) : p.call(e, "ellipsis", e && e.ratingText, 19, a))) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.bing_products_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o = "";
      return o += '<span class="tile--pr__price">', s = (a = i.low_price) || typeof (a = e && e.low_price) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '</span><span class="tile--pr__original-price">', s = (a = i.price) || typeof (a = e && e.price) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</span>"
    }

    function m(e, t) {
      var s, a, o = "";
      return o += '<span class="tile--pr__price">', s = (a = i.price) || typeof (a = e && e.price) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</span>"
    }
    return r += '<div class="tile  tile--pr tile--c--w has-detail  tile--', o = (n = i.parentId) || typeof (n = t && t.parentId) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + " ", ((o = i.if.call(t, t && t.showBrand, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        return "tile--has-brand"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" data-link="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '"><div class="tile__media  tile__media--pr"><img src="" data-src="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.img, l) : h.call(t, "imageProxy", t && t.img, l)) || 0 === o) && (r += o), r += '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img  js-lazyload js-product-image" />', o = i.if.call(t, t && t.promotion, {
      hash: {},
      inverse: p.noop,
      fn: p.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="tile__media__promotion-label"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.22774 0H6.23017C6.32354 0 6.40358 0.0400194 6.47028 0.0933786L12.8067 6.42979C12.9401 6.56318 12.9401 6.77662 12.8067 6.89668L7.80426 11.8991C7.67086 12.0325 7.45743 12.0325 7.33737 11.8991L1.00096 5.5627C0.934261 5.496 0.907581 5.41596 0.907581 5.32258V0.333495C0.894241 0.146738 1.04098 0 1.22774 0ZM1.56123 5.20252L7.56415 11.2054L12.0997 6.6699L6.09677 0.66699H1.56123V5.20252Z" fill="#666666"/><path d="M3.22901 3.33496C2.68207 3.33496 2.22852 2.8814 2.22852 2.33447C2.22852 1.78754 2.68207 1.33398 3.22901 1.33398C3.77594 1.33398 4.22949 1.78754 4.22949 2.33447C4.22949 2.8814 3.77594 3.33496 3.22901 3.33496ZM3.22901 2.00097C3.04225 2.00097 2.89551 2.14771 2.89551 2.33447C2.89551 2.52123 3.04225 2.66797 3.22901 2.66797C3.41576 2.66797 3.5625 2.52123 3.5625 2.33447C3.5625 2.14771 3.41576 2.00097 3.22901 2.00097Z" fill="#666666"/></svg> ', s = (a = i.promotion) || typeof (a = e && e.promotion) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = t && t.extensions) || !1 === o ? o : o.free_shipping, {
      hash: {},
      inverse: p.noop,
      fn: p.program(5, (function (e, t) {
        var i, s = "";
        return s += '<span class="tile__media__free-shipping-label">' + c(typeof (i = null == (i = null == (i = e && e.extensions) || !1 === i ? i : i.free_shipping) || !1 === i ? i : i.text) === d ? i.apply(e) : i) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="tile__body  tile__body--pr">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: p.program(9, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            el: "h6",
            className: "tile__title",
            classNameSec: "tile__title--pr",
            optSub: !0,
            ellipsis: 100
          },
          data: t
        }, (s = (a = i.formatTitle || e && e.formatTitle) ? a.call(e, e && e.heading, o) : h.call(e, "formatTitle", e && e.heading, o)) || 0 === s ? s : ""
      }), a),
      fn: p.program(7, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            el: "h6",
            className: "tile__title",
            classNameSec: "tile__title--pr",
            href: "url",
            optSub: !0,
            ellipsis: 100
          },
          data: t
        }, (s = (a = i.formatTitle || e && e.formatTitle) ? a.call(e, e && e.heading, o) : h.call(e, "formatTitle", e && e.heading, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.rating, {
      hash: {},
      inverse: p.noop,
      fn: p.program(11, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile--pr__rating tile__rating">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.starsAndReviews || e && e.starsAndReviews) ? a.call(e, e && e.rating, e && e.reviews, !1, !0, o) : h.call(e, "starsAndReviews", e && e.rating, e && e.reviews, !1, !0, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="tile--pr__sub"><div class="tile--pr__pricing  price">', o = i.if.call(t, t && t.installmentAmount, {
      hash: {},
      inverse: p.program(15, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.low_price, {
          hash: {},
          inverse: p.program(18, m, t),
          fn: p.program(16, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: p.program(13, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="tile--pr__price">', s = (a = i.installmentAmount) || typeof (a = e && e.installmentAmount) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><a class="tile--pr__brand" href="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">', o = (n = i.brand) || typeof (n = t && t.brand) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "</a></div></div></div>"
  })), this.DDG.templates.categories_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="tile  tile--c  js-tile--' + c((l = {
      hash: {},
      data: a
    }, (n = i.firstLetter || t && t.firstLetter) ? n.call(t, t && t.Text, l) : h.call(t, "firstLetter", t && t.Text, l))) + '" data-link="', o = (n = i.FirstURL) || typeof (n = t && t.FirstURL) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '"><div class="tile__body">', o = i.if.call(t, null == (o = t && t.Icon) || !1 === o ? o : o.URL, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var i, s = "";
        return s += '<img class="tile__icon" src="' + c(typeof (i = null == (i = e && e.Icon) || !1 === i ? i : i.URL) === d ? i.apply(e) : i) + '" />'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), l = {
      hash: {
        el: "h4",
        className: "tile__title",
        href: "FirstURL",
        parseFirst: "true",
        ellipsis: 100
      },
      data: a
    }, ((o = (n = i.formatTitle || t && t.formatTitle) ? n.call(t, t && t.Result, l) : h.call(t, "formatTitle", t && t.Result, l)) || 0 === o) && (r += o), r += '<div class="tile__content  tile__content--sm">', l = {
      hash: {
        parseFirst: "true"
      },
      data: a
    }, ((o = (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.Result, 95, l) : h.call(t, "ellipsis", t && t.Result, 95, l)) || 0 === o) && (r += o), r += "</div> </div></div>"
  })), this.DDG.templates.images_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = i.helperMissing;
    return o = i.unless.call(t, t && t.n, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o, d = "";
        return d += '<div class="tile  tile--img  has-detail" style="width:', s = (a = i.tileWidth) || typeof (a = e && e.tileWidth) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + 'px;"><div class="tile--img__media"><span class="tile--img__media__i"><img class="tile--img__img  js-lazyload" src="" data-src="' + l((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.thumbnail, o) : r.call(e, "imageProxy", e && e.thumbnail, o))) + '" alt="', s = (a = i.title) || typeof (a = e && e.title) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '" /></span></div><div class="tile--img__details"><div class="tile--img__dimensions"><i class="tile--img__icon">+</i><em>', s = (a = i.width) || typeof (a = e && e.width) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + " &times; ", s = (a = i.height) || typeof (a = e && e.height) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '</em></div></div><a class="tile--img__sub" href="', s = (a = i.url) || typeof (a = e && e.url) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '"><span class="tile--img__title">', s = (a = i.title) || typeof (a = e && e.title) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '</span><span class="tile--img__domain" title="', s = (a = i.url) || typeof (a = e && e.url) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '">' + l((o = {
          hash: {},
          data: t
        }, (a = i.domain || e && e.domain) ? a.call(e, e && e.url, o) : r.call(e, "domain", e && e.url, o))) + '</span></a><div class="tile--img__dimensions">', s = (a = i.width) || typeof (a = e && e.width) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + " &times; ", s = (a = i.height) || typeof (a = e && e.height) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + "</div></div>"
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.meanings_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression,
      h = "function",
      p = this;

    function u(e, t) {
      var s, a, o, n = "";
      return n += 'data-type="' + c((o = {
        hash: {},
        data: t
      }, (a = i.stripNonAlpha || e && e.stripNonAlpha) ? a.call(e, null == (s = e && e.topic) || !1 === s ? s : s.id, o) : d.call(e, "stripNonAlpha", null == (s = e && e.topic) || !1 === s ? s : s.id, o))) + '"'
    }
    return r += '<div class="tile  tile--c  ', o = i.if.call(t, t && t.topic, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += "js-tile--" + c((o = {
          hash: {},
          data: t
        }, (a = i.trim || e && e.trim) ? a.call(e, null == (s = e && e.topic) || !1 === s ? s : s.id, o) : d.call(e, "trim", null == (s = e && e.topic) || !1 === s ? s : s.id, o)))
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '" ', o = i.if.call(t, t && t.topic, {
      hash: {},
      inverse: p.noop,
      fn: p.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += 'data-anchor="' + c((o = {
          hash: {},
          data: t
        }, (a = i.stripNonAlpha || e && e.stripNonAlpha) ? a.call(e, null == (s = e && e.topic) || !1 === s ? s : s.id, o) : d.call(e, "stripNonAlpha", null == (s = e && e.topic) || !1 === s ? s : s.id, o))) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += ' data-link="', o = (n = i.FirstURL) || typeof (n = t && t.FirstURL) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '"><div class="tile__body">', o = i.if.call(t, null == (o = t && t.Icon) || !1 === o ? o : o.URL, {
      hash: {},
      inverse: p.program(7, (function (e, t) {
        var s, a = "";
        return a += '<span class="media__img--rev" ', ((s = i.if.call(e, e && e.topic, {
          hash: {},
          inverse: p.noop,
          fn: p.program(8, u, t),
          data: t
        })) || 0 === s) && (a += s), a += "></span>"
      }), a),
      fn: p.program(5, (function (e, t) {
        var i, s = "";
        return s += '<img class="tile__icon  js-lazyload" src="" data-src="' + c(typeof (i = null == (i = e && e.Icon) || !1 === i ? i : i.URL) === h ? i.apply(e) : i) + '" />'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), l = {
      hash: {
        el: "h4",
        className: "tile__title",
        href: "FirstURL",
        parseFirst: "true",
        ellipsis: 100
      },
      data: a
    }, ((o = (n = i.formatTitle || t && t.formatTitle) ? n.call(t, t && t.Result, l) : d.call(t, "formatTitle", t && t.Result, l)) || 0 === o) && (r += o), r += '<div class="tile__content  tile__content--sm">', l = {
      hash: {
        parseFirst: "true"
      },
      data: a
    }, ((o = (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.Result, 95, l) : d.call(t, "ellipsis", t && t.Result, 95, l)) || 0 === o) && (r += o), r += "</div> </div></div>"
  })), this.DDG.templates.media_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i;
      return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
    }

    function m(e, t) {
      return "tile--c"
    }
    return r += '<div class="tile ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tile, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += " tile--" + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === d ? o.apply(t) : o) + '" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        var s, a, o = "";
        return o += 'data-link="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><div class="tile__media ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileMedia) === d ? o.apply(t) : o) + '"><img src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.image, l) : p.call(t, "imageProxy", t && t.image, l))) + '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img" /></div><div class="tile__body ', ((o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.footer, {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        return "has-foot"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += " " + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileBody) === d ? o.apply(t) : o) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "tile_titles", l) : p.call(t, "include", "tile_titles", l)) || 0 === o) && (r += o), o = i.if.call(t, t && t.description, {
      hash: {},
      inverse: h.noop,
      fn: h.program(12, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, "tile_snippet", o) : p.call(e, "include", "tile_snippet", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.footer, {
      hash: {},
      inverse: h.noop,
      fn: h.program(14, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__foot ' + c(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tileFoot) === d ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o) : p.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.dateBadge, {
      hash: {},
      inverse: h.noop,
      fn: h.program(16, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, "date_badge", o) : p.call(e, "include", "date_badge", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.nlp_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="tile  tile--c  tile--qa  has-detail" data-link="', r += c(o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '"><div class="tile__body  has-foot"><h6 class="tile__title  tile__title--3sm  tile__title--min">', ((o = (n = i.heading) || typeof (n = t && t.heading) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</h6><div class="tile__content  tile__content--qa  js-ellipsis  hide--mob">', ((o = (n = i.abstract) || typeof (n = t && t.abstract) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '</div><div class="tile__foot">', l = {
      hash: {
        className: "tile__more-link"
      },
      data: a
    }, ((o = (n = i.moreAt || t && t.moreAt) ? n.call(t, t && t.url, t && t.source, l) : h.call(t, "moreAt", t && t.url, t && t.source, l)) || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.places_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.starRating || e && e.starRating) ? a.call(e, e && e.rating, o) : h.call(e, "starRating", e && e.rating, o)) || 0 === s ? s : ""
    }

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.reviewCount || e && e.reviewCount) ? a.call(e, e && e.reviews, "", !0, o) : h.call(e, "reviewCount", e && e.reviews, "", !0, o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      var s, a, o, n = "";
      return n += '<a href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '" class="tile__segment tile__call js-tel-link"><div class="tile__segment__title">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Call", o) : h.call(e, "lp", "maps_places", "Call", o)) || 0 === s) && (n += s), n += '</div><div class="tile__phone">', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</div></a>"
    }

    function g(e, t) {
      var s, a, o, n = "";
      return n += '<div class="tile__segment"><div class="tile__segment__title">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Phone Number", o) : h.call(e, "lp", "maps_places", "Phone Number", o)) || 0 === s) && (n += s), n += '</div><a href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '" class="tile__phone js-tel-link">', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</a></div>"
    }
    return r += '<div class="tile  tile--f  tile--loc ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: p.program(3, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
      }), a),
      fn: p.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '"><div class="tile--f__main  tile--loc__main"><div class="tile__media">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: p.program(7, (function (e, t) {
        return '<span class="ddgsi tile__media__no-img">@</span>'
      }), a),
      fn: p.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__media__wrapper"><img src="" data-src="' + c((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : h.call(e, "imageProxy", e && e.image, o))) + '" alt="', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" class="tile__media__img  js-lazyload" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="tile__num">', o = (n = i.num) || typeof (n = t && t.num) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</div><div class="tile__body"><h6 class="tile__title">' + c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.name, 33, l) : h.call(t, "ellipsis", t && t.name, 33, l))) + "</h6>", o = i.if.call(t, t && t.neighborhoodOrCity, {
      hash: {},
      inverse: p.noop,
      fn: p.program(9, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="tile__neighborhood">', s = (a = i.neighborhoodOrCity) || typeof (a = e && e.neighborhoodOrCity) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="tile__foot  tile__rating  one-line">', o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.item_footer, {
      hash: {},
      inverse: p.program(13, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.rating, {
          hash: {},
          inverse: p.noop,
          fn: p.program(14, u, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.reviews, {
          hash: {},
          inverse: p.noop,
          fn: p.program(16, m, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      fn: p.program(11, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.item_footer, o) : h.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.item_footer, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div></div></div><div class="tile--f__alt  tile--loc__alt"><div class="tile__body  ', n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(18, (function (e, t) {
        return "has-foot"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.url, null == (o = t && t.meta) || !1 === o ? o : o.sourceName, l) : h.call(t, "and", t && t.url, null == (o = t && t.meta) || !1 === o ? o : o.sourceName, l)) || 0 === o) && (r += o), r += ' has-segments"><div class="tile__segment"><h6 class="tile__title"><a href="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" title="', o = (n = i.name) || typeof (n = t && t.name) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">' + c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.name, 33, l) : h.call(t, "ellipsis", t && t.name, 33, l))) + "</a></h6>", o = i.if.call(t, t && t.price, {
      hash: {},
      inverse: p.noop,
      fn: p.program(20, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile__price">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.priceSymbols || e && e.priceSymbols) ? a.call(e, e && e.price, 4, o) : h.call(e, "priceSymbols", e && e.price, 4, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, t && t.phone, {
      hash: {},
      inverse: p.noop,
      fn: p.program(22, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.canMakePhoneCalls, {
          hash: {},
          inverse: p.program(25, g, t),
          fn: p.program(23, f, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.address, {
      hash: {},
      inverse: p.noop,
      fn: p.program(27, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__segment tile__directions js-directions-container"><a class="tile__directions__link tile__segment__title js-directions-link" href="', s = (a = i.directions) || typeof (a = e && e.directions) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Directions", o) : h.call(e, "lp", "maps_places", "Directions", o)) || 0 === s) && (n += s), n += "</a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(29, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__foot">', o = {
          hash: {
            dynamicMoreAtText: 5,
            className: "tile--loc__more",
            iconClassName: "tile--loc__more__icon",
            iconPlaceholder: "true"
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.url, null == (s = e && e.meta) || !1 === s ? s : s.sourceName, o) : h.call(e, "moreAt", e && e.url, null == (s = e && e.meta) || !1 === s ? s : s.sourceName, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.url, null == (o = t && t.meta) || !1 === o ? o : o.sourceName, l) : h.call(t, "and", t && t.url, null == (o = t && t.meta) || !1 === o ? o : o.sourceName, l)) || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.products_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i;
      return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
    }

    function m(e, t) {
      return "tile--c"
    }
    return r += '<div class="tile  tile--pr ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tile, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += " has-detail  tile--", o = (n = i.parentId) || typeof (n = t && t.parentId) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + " ", ((o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.rating, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        return " has-rating"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += ' opt--t-xxs" data-link="', o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '"><div class="tile__media  tile__media--pr"><img src="" data-src="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.img, l) : p.call(t, "imageProxy", t && t.img, l)) || 0 === o) && (r += o), r += '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img  js-lazyload" />', n = i.and || t && t.and, l = {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o) : p.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.showBadge, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.badge, l) : p.call(t, "and", t && t.showBadge, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.badge, l)) || 0 === o) && (r += o), r += '</div><div class="tile__body  tile__body--pr">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.program(14, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            el: "h6",
            className: "tile__title",
            classNameSec: "tile__title--pr",
            optSub: !0,
            ellipsis: 100
          },
          data: t
        }, (s = (a = i.formatTitle || e && e.formatTitle) ? a.call(e, e && e.heading, o) : p.call(e, "formatTitle", e && e.heading, o)) || 0 === s ? s : ""
      }), a),
      fn: h.program(12, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {
            el: "h6",
            className: "tile__title",
            classNameSec: "tile__title--pr",
            href: "url",
            optSub: !0,
            ellipsis: 100
          },
          data: t
        }, (s = (a = i.formatTitle || e && e.formatTitle) ? a.call(e, e && e.heading, o) : p.call(e, "formatTitle", e && e.heading, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="tile__tx  tile--pr__sub  one-line">', n = i.and || t && t.and, l = {
      hash: {},
      inverse: h.noop,
      fn: h.program(16, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="tile--pr__price  price">', s = (a = i.price) || typeof (a = e && e.price) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, t && t.price, l) : p.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, t && t.price, l)) || 0 === o) && (r += o), n = i.and || t && t.and, l = {
      hash: {},
      inverse: h.noop,
      fn: h.program(18, (function (e, t) {
        return '<span class="sep  tile__sep"></span>'
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.price, t && t.brand, l) : p.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.price, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.price, t && t.brand, l)) || 0 === o) && (r += o), n = i.and || t && t.and, l = {
      hash: {},
      inverse: h.noop,
      fn: h.program(20, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile--pr__brand">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "made_by", "by %s", e && e.brand, o) : p.call(e, "lp", "made_by", "by %s", e && e.brand, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.brand, l) : p.call(t, "and", null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.brand, t && t.brand, l)) || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.rating, {
      hash: {},
      inverse: h.noop,
      fn: h.program(22, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__tx  tile__rating  one-line">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.starsAndReviews || e && e.starsAndReviews) ? a.call(e, e && e.rating, e && e.reviewCount, e && e.url_review, !0, o) : p.call(e, "starsAndReviews", e && e.rating, e && e.reviewCount, e && e.url_review, !0, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.text_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i;
      return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
    }

    function m(e, t) {
      return "tile--c"
    }
    return r += '<div class="tile ', o = i.if.call(t, t && t.elClass, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tile, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.elClass) || typeof (a = e && e.elClass) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += " tile--" + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === d ? o.apply(t) : o) + '" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        var s, a, o = "";
        return o += 'data-link="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><div class="tile__body ', ((o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.footer, {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        return "has-foot"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += " " + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileBody) === d ? o.apply(t) : o) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "tile_titles", l) : p.call(t, "include", "tile_titles", l)) || 0 === o) && (r += o), r += '<div class="tile__content ' + c(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileSnippet) === d ? o.apply(t) : o) + '">' + c((l = {
      hash: {
        fallback: 100
      },
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.description, null == (o = t && t.meta) || !1 === o ? o : o.snippetChars, l) : p.call(t, "ellipsis", t && t.description, null == (o = t && t.meta) || !1 === o ? o : o.snippetChars, l))) + "</div>", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.footer, {
      hash: {},
      inverse: h.noop,
      fn: h.program(12, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__foot ' + c(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tileFoot) === d ? s.apply(e) : s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o) : p.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.footer, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.dateBadge, {
      hash: {},
      inverse: h.noop,
      fn: h.program(14, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, "date_badge", o) : p.call(e, "include", "date_badge", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.tiles_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this;
    return n += '<div class="tile  tile--s ', o = i.if.call(t, t && t.spice_name, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        var s, a, o = "";
        return o += "spice_", s = (a = i.spice_name) || typeof (a = e && e.spice_name) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '">', o = i.if.call(t, t && t.subcontent, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        var s, a;
        return (s = (a = i.subcontent) || typeof (a = e && e.subcontent) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.tiles_load_more = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="tile  tile--m  tile--m--', o = (n = i.id) || typeof (n = t && t.id) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "  ", o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tile, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var i;
        return c(typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tile) === d ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '"><div class="tile__body  hide--mob"><i class="tile--m__icon  tile--m__icon--l">+</i><span class="tile--m__subtitle">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "additional", "More", l) : h.call(t, "lp", "additional", "More", l)) || 0 === o) && (r += o), r += '</span></div><span class="tile--m--mob">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "expand_text", "Show More", l) : h.call(t, "lp", "expand_text", "Show More", l)) || 0 === o) && (r += o), r += "</span>", ((o = (n = i.loader) || typeof (n = t && t.loader) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.videos_item_bing = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;
    return r += '<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += 'data-link="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><div class="tile__media"><img src="" data-src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, null == (o = t && t.images) || !1 === o ? o : o.medium, l) : p.call(t, "imageProxy", null == (o = t && t.images) || !1 === o ? o : o.medium, l))) + '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img  js-lazyload" /><div class="image-labels">', o = i.if.call(t, t && t.labelIcon, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="image-labels__label ddgsi ddgsi-', s = (a = i.labelIcon) || typeof (a = e && e.labelIcon) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.duration, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="image-labels__label">', s = (a = i.duration) || typeof (a = e && e.duration) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.title, 55, l) : p.call(t, "ellipsis", t && t.title, 55, l))), ((o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(9, (function (e, t) {
        return "</a>"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '</h6><div class="tile__stats one-line t-m">', ((o = (n = i.viewCount) || typeof (n = t && t.viewCount) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += ' <span class="hide--screen-xs">', n = i.and || t && t.and, l = {
      hash: {},
      inverse: h.noop,
      fn: h.program(11, (function (e, t) {
        return "&bullet; "
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.viewCount, t && t.publishedDate, l) : p.call(t, "and", t && t.viewCount, t && t.publishedDate, l)) || 0 === o) && (r += o), o = (n = i.publishedDate) || typeof (n = t && t.publishedDate) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</span></div><div class="t-m">', l = {
      hash: {
        lazy: "1",
        className: "tile__favicon"
      },
      data: a
    }, ((o = (n = i.favicon || t && t.favicon) ? n.call(t, t && t.url, l) : p.call(t, "favicon", t && t.url, l)) || 0 === o) && (r += o), r += c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.provider, 25, l) : p.call(t, "ellipsis", t && t.provider, 25, l))) + "</div></div></div>"
  })), this.DDG.templates.videos_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;
    return r += '<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += 'data-link="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><div class="tile__media"><img src="" data-src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, null == (o = t && t.images) || !1 === o ? o : o.medium, l) : p.call(t, "imageProxy", null == (o = t && t.images) || !1 === o ? o : o.medium, l))) + '" alt="', o = (n = i.title) || typeof (n = t && t.title) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="tile__media__img  js-lazyload" /><div class="image-labels"><span class="image-labels__label">', o = (n = i.duration) || typeof (n = t && t.duration) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</span></div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += c((l = {
      hash: {},
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.title, 55, l) : p.call(t, "ellipsis", t && t.title, 55, l))), ((o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        return "</a>"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '</h6><div class="tile__body__footer"><span>', l = {
      hash: {
        lazy: "1",
        className: "tile__favicon"
      },
      data: a
    }, ((o = (n = i.favicon || t && t.favicon) ? n.call(t, t && t.url, l) : p.call(t, "favicon", t && t.url, l)) || 0 === o) && (r += o), r += '<span class="video-source">', o = (n = i.provider) || typeof (n = t && t.provider) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '</span></span><span class="tile__count">', ((o = (n = i.viewCount) || typeof (n = t && t.viewCount) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += "</span></div></div></div>"
  })), this.DDG.templates.attribution_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = "function",
      h = this.escapeExpression,
      p = this;

    function u(e, t) {
      var s;
      return (s = i.if.call(e, e && e.show, {
        hash: {},
        inverse: p.noop,
        fn: p.program(3, m, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function m(e, t) {
      var s, a, o, n = "";
      return n += '<div class="tx-clr--slate-light">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "attribution", "Developer", o) : d.call(e, "lp", "attribution", "Developer", o)) || 0 === s) && (n += s), n += ': <a href="' + h(typeof (s = e && e.url) === c ? s.apply(e) : s) + '" class="tx-clr--slate">' + h(typeof (s = e && e.name) === c ? s.apply(e) : s) + "</a></div>"
    }
    return r += '<div class="modal  modal--popout  modal--popout--', o = (n = i.direction) || typeof (n = t && t.direction) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += h(o) + '  modal--popout--lg"><div class="modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box"><div class="modal__body"><div class="attribution"><p class="tx-clr--slate">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "attribution", "This Instant Answer was made by the %sDuckDuckHack%s Community.", "", "", l) : d.call(t, "lp", "attribution", "This Instant Answer was made by the %sDuckDuckHack%s Community.", "", "", l)) || 0 === o) && (r += o), r += "</p>", o = i.if.call(t, t && t.devs, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a = "";
        return a += '<hr class="attribution__hr"/>', ((s = i.each.call(e, e && e.devs, {
          hash: {},
          inverse: p.noop,
          fn: p.program(2, u, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div></div>"
  })), this.DDG.templates.attribution = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<span class="modal-trig  ', n += (0, this.escapeExpression)((o = i.className) || "function" == typeof (o = t && t.className) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '  hide--screen-s  hide--mob"><a class="attribution--link  js-attribution-link"><span class="attribution--link__icon  ddgsi">I</span></a></span>'
  })), this.DDG.templates.chomp_link = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing;
    return r += '<a class="', r += d(o = (n = i.className) || "function" == typeof (n = t && t.className) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + "  chomp--link  js-chomp-link  ", ((o = i.if.call(t, t && t.sep, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "sep--after"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><i class="chomp--link__icn"></i><span class="chomp--link__mr">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "expand_text", "Show More", l) : c.call(t, "lp", "expand_text", "Show More", l)) || 0 === o) && (r += o), r += '</span><span class="chomp--link__ls">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "expand_text", "Show Less", l) : c.call(t, "lp", "expand_text", "Show Less", l)) || 0 === o) && (r += o), r += "</span></a>"
  })), this.DDG.templates.date_badge = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = this;

    function d(e, t) {
      var s, a, o = "";
      return o += '<span class="date-badge__text">', s = (a = i.text) || typeof (a = e && e.text) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "</span>"
    }

    function c(e, t) {
      var s, a, o = "";
      return o += '<span class="date-badge__month">', s = (a = i.month) || typeof (a = e && e.month) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '</span><span class="date-badge__day">', s = (a = i.day) || typeof (a = e && e.day) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "</span>"
    }
    return o = i.with.call(t, t && t.dateBadge, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a = "";
        return a += '<div class="date-badge">', ((s = i.if.call(e, e && e.text, {
          hash: {},
          inverse: r.program(4, c, t),
          fn: r.program(2, d, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.infobox = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this,
      c = i.helperMissing;

    function h(e, t) {
      var s, a, o = "";
      return o += '<h6 class="info  info--head">', s = (a = i.heading) || typeof (a = e && e.heading) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</h6>"
    }

    function p(e, t) {
      var s, a = "";
      return a += '<div class="info  one-line">', ((s = i.if.call(e, e && e.label, {
        hash: {},
        inverse: d.program(11, _, t),
        fn: d.program(5, u, t),
        data: t
      })) || 0 === s) && (a += s), a += " </div>"
    }

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<a class="tile--info__link" href="' + r((o = {
        hash: {},
        data: t
      }, (a = i.makeRelative || e && e.makeRelative) ? a.call(e, e && e.url, o) : c.call(e, "makeRelative", e && e.url, o))) + '"><span class="info__label">', s = (a = i.label) || typeof (a = e && e.label) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += r(s) + '</span><span class="info__value">', ((s = i.if.call(e, null == (s = e && e.value) || !1 === s ? s : s.content, {
        hash: {},
        inverse: d.program(9, g, t),
        fn: d.program(6, m, t),
        data: t
      })) || 0 === s) && (n += s), n += "</span></a>"
    }

    function m(e, t) {
      var s;
      return (s = i.each.call(e, null == (s = e && e.value) || !1 === s ? s : s.content, {
        hash: {},
        inverse: d.noop,
        fn: d.program(7, f, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function f(e, t) {
      var s, a, o = "";
      return o += '<span class="info__value__nested"><span class="info__value__nested__label">', s = (a = i.label) || typeof (a = e && e.label) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + ":</span> ", s = (a = i.value) || typeof (a = e && e.value) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span>"
    }

    function g(e, t) {
      var s, a;
      return s = (a = i.value) || typeof (a = e && e.value) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, r(s)
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<a class="tile--info__link" href="' + r((o = {
        hash: {},
        data: t
      }, (a = i.makeRelative || e && e.makeRelative) ? a.call(e, e && e.url, o) : c.call(e, "makeRelative", e && e.url, o))) + '">', ((s = (a = i.urlTitle) || typeof (a = e && e.urlTitle) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (n += s), n += "</a>"
    }

    function v(e, t) {
      var s;
      return (s = i.if.call(e, e && e.label, {
        hash: {},
        inverse: d.noop,
        fn: d.program(14, b, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function b(e, t) {
      var s, a, o = "";
      return o += '<div class="info"><span class="info__label">', s = (a = i.label) || typeof (a = e && e.label) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + '</span><span class="info__value">', ((s = i.if.call(e, null == (s = e && e.value) || !1 === s ? s : s.content, {
        hash: {},
        inverse: d.program(9, g, t),
        fn: d.program(6, m, t),
        data: t
      })) || 0 === s) && (o += s), o += "</span></div>"
    }
    return n += '<div class="zci__aux"><div class="tile  tile--info  js-infobox-tile">', o = i.each.call(t, t && t.data, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.heading, {
          hash: {},
          inverse: d.noop,
          fn: d.program(2, h, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.url, {
          hash: {},
          inverse: d.program(13, v, t),
          fn: d.program(4, p, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="tile__expand  tile--info__expand  is-hidden  js-tile-expand"></div></div></div>'
  })), this.DDG.templates.more_at_text = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = this;

    function d(e, t) {
      var s, a, o = "";
      return o += '<img class="zci__more-at__logo" src="', s = (a = i.url) || typeof (a = e && e.url) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" width="', s = (a = i.width) || typeof (a = e && e.width) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" height="', s = (a = i.height) || typeof (a = e && e.height) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" />'
    }
    return o = i.unless.call(t, t && t.sourceLogo, {
      hash: {},
      inverse: r.program(3, (function (e, t) {
        var s;
        return (s = i.with.call(e, e && e.sourceLogo, {
          hash: {},
          inverse: r.noop,
          fn: r.program(4, d, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: r.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.sourceName) || typeof (a = e && e.sourceName) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, l(s)
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.more_at = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = "function",
      c = this.escapeExpression,
      h = this;
    return l += '<a href="', o = (n = i.sourceUrl) || typeof (n = t && t.sourceUrl) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += c(o) + '" class="', o = (n = i.className) || typeof (n = t && t.className) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += c(o) + '">', o = i.if.call(t, t && t.sourceIcon, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o;
        return a = i.favicon || e && e.favicon, o = {
          hash: {
            className: e && e.iconClassName
          },
          data: t
        }, (s = a ? a.call(e, e && e.sourceUrl, o) : r.call(e, "favicon", e && e.sourceUrl, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.sourceIconUrl, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<img class="', s = (a = i.iconClassName) || typeof (a = e && e.iconClassName) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" src="' + c((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.sourceIconUrl, o) : r.call(e, "imageProxy", e && e.sourceIconUrl, o))) + '" />'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), ((o = (n = i.moreAtText) || typeof (n = t && t.moreAtText) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (l += o), l += "</a>"
  })), this.DDG.templates.no_ia_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this.escapeExpression,
      r = i.helperMissing;
    return n += '<div class="zci__no-results  t-s--screen-xs"><span class="zci__no-results__txt">', o = i.if.call(t, t && t.message, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.l || e && e.l) ? a.call(e, "Sorry, no results here.", o) : r.call(e, "l", "Sorry, no results here.", o)) || 0 === s ? s : ""
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.message) || "function" == typeof (a = e && e.message) ? a.call(e, {
          hash: {},
          data: t
        }) : a, l(s)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</span></div>"
  })), this.DDG.templates.places_detail_rating_foursquare = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression;
    return l += '<span class="tile__rating__foursquare  ', o = (n = i.ratingClass) || typeof (n = t && t.ratingClass) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '  badge--txt">', o = (n = i.rating) || typeof (n = t && t.rating) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</span>", o = i.if.call(t, t && t.reviews, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<a class="review-count review-count--foursquare" href="', s = (a = i.url) || typeof (a = e && e.url) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '"><span class="review-count__icon  ddgsi">O</span>', s = (a = i.reviews) || typeof (a = e && e.reviews) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l
  })), this.DDG.templates.places_detail_rating_yelp = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<img src="' + (0, this.escapeExpression)((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.ratingImageURL, l) : d.call(t, "imageProxy", t && t.ratingImageURL, l))) + '" class="tile__rating__yelp-stars" />', o = i.if.call(t, t && t.reviews, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.reviewCount || e && e.reviewCount) ? a.call(e, e && e.reviews, e && e.url, o) : d.call(e, "reviewCount", e && e.reviews, e && e.url, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r
  })), this.DDG.templates.places_item_footer_foursquare = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression;
    return l += '<span class="tile__rating__foursquare  ', o = (n = i.ratingClass) || typeof (n = t && t.ratingClass) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '  badge--txt">', o = (n = i.rating) || typeof (n = t && t.rating) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</span>", o = i.if.call(t, t && t.reviews, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="review-count review-count--foursquare"><span class="review-count__icon  ddgsi">O</span>', s = (a = i.reviews) || typeof (a = e && e.reviews) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l
  })), this.DDG.templates.places_item_footer_yelp = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<img src="' + (0, this.escapeExpression)((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.ratingImageURL, l) : d.call(t, "imageProxy", t && t.ratingImageURL, l))) + '" class="tile__rating__yelp-stars" />', o = i.if.call(t, t && t.reviews, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.reviewCount || e && e.reviewCount) ? a.call(e, e && e.reviews, "", !0, o) : d.call(e, "reviewCount", e && e.reviews, "", !0, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r
  })), this.DDG.templates.play_button = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<div class="play-btn js-play-btn" data-url="', n += (0, this.escapeExpression)((o = i.url) || "function" == typeof (o = t && t.url) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '"><span class="play-btn__icn  is-hidden ddgsi js-play-btn-icn"></span><span class="play-btn__err  is-hidden  js-play-btn-err"></span></div>'
  })), this.DDG.templates.products_amazon_badge = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<span class="tile--pr__badge  badge  badge--prime"></span>'
  })), this.DDG.templates.products_amazon_buy = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '    <span class="detail__callout--pr"><a href="', r += c(o = (n = i.url) || typeof (n = t && t.url) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" class="btn btn--primary">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "More at", l) : h.call(t, "l", "More at", l)) || 0 === o) && (r += o), r += " " + c(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.sourceName) === d ? o.apply(t) : o) + "</a></span>"
  })), this.DDG.templates.record = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this,
      c = this.escapeExpression,
      h = i.helperMissing;

    function p(e, t) {
      return "record__row--highlight"
    }
    return r += '<div class="record  ', ((o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.keySpacing, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "record--keyspacing"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += "  ", ((o = i.if.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.options) || !1 === o ? o : o.rowHighlight, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "record--highlight"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><table class="record__body">', n = i["table-each"] || t && t["table-each"], l = {
      hash: {},
      inverse: d.noop,
      fn: d.programWithDepth(5, (function (e, t, s) {
        var a, o, n, l = "";
        return l += '<tr class="record__row  ', ((a = i.if.call(e, null == (a = null == (a = s && s.meta) || !1 === a ? a : a.options) || !1 === a ? a : a.rowHighlight, {
          hash: {},
          inverse: d.noop,
          fn: d.program(6, p, t),
          data: t
        })) || 0 === a) && (l += a), l += '"><td class="record__cell  record__cell--key">', a = (o = i.key) || "function" == typeof (o = e && e.key) ? o.call(e, {
          hash: {},
          data: t
        }) : o, l += c(a) + '</td><td class="record__cell  record__cell--value">' + c((n = {
          hash: {},
          data: t
        }, (o = i.ellipsis || e && e.ellipsis) ? o.call(e, e && e.value, 350, n) : h.call(e, "ellipsis", e && e.value, 350, n))) + "</td></tr>"
      }), a, t),
      data: a
    }, ((o = n ? n.call(t, t, l) : h.call(t, "table-each", t, l)) || 0 === o) && (r += o), r += "</table></div>"
  })), this.DDG.templates.sports_score = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o = "";
      return o += '<div class="c-score__item  c-score__item--', s = (a = i.type) || typeof (a = e && e.type) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '">', s = (a = i.number) || typeof (a = e && e.number) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</div>"
    }

    function m(e, t) {
      return '<div class="c-score__head__total">Total</div>'
    }

    function f(e, t) {
      var s, a, o = "";
      return o += '<div class="c-score__team"><div class="c-score__team__logo">', ((s = i.if.call(e, e && e.image, {
        hash: {},
        inverse: p.program(13, _, t),
        fn: p.program(11, g, t),
        data: t
      })) || 0 === s) && (o += s), o += '</div><div class="c-score__team__name"><span class="c-score__team__market">', s = (a = i.location) || typeof (a = e && e.location) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '</span><span class="c-score__team__nick">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</span></div></div>"
    }

    function g(e, t) {
      var s, a, o = "";
      return o += '<img class="c-score__team__img" src="', s = (a = i.image) || typeof (a = e && e.image) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '">'
    }

    function _(e, t) {
      return '<span class="c-score__team__logo__ph">u</span>'
    }

    function v(e, t) {
      var s, a, o = "";
      return o += '<div class="c-score__item  c-score__item--', s = (a = i.type) || typeof (a = e && e.type) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '">', s = (a = i.points) || typeof (a = e && e.points) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</div>"
    }

    function b(e, t) {
      var s, a, o = "";
      return o += '<div class="c-score__line__total">', s = (a = i.away_total) || typeof (a = e && e.away_total) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</div>"
    }

    function w(e, t) {
      var s, a, o = "";
      return o += '<div class="c-score__line__total">', s = (a = i.home_total) || typeof (a = e && e.home_total) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</div>"
    }
    return r += '<div class="c-score"><div class="c-score__head"><div class="c-score__head__date">', o = i.if.call(t, t && t.clock, {
      hash: {},
      inverse: p.program(3, (function (e, t) {
        var s, a;
        return c((a = {
          hash: {},
          data: t
        }, (s = i.momentDate || e && e.momentDate) ? s.call(e, e && e.start_time, a) : h.call(e, "momentDate", e && e.start_time, a)))
      }), a),
      fn: p.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="c-score__clock"><span class="c-score__clock__icon ddgsi-clock"></span>', s = (a = i.clock) || typeof (a = e && e.clock) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, t && t.score, {
      hash: {},
      inverse: p.noop,
      fn: p.program(5, (function (e, t) {
        var s, a = "";
        return ((s = i.each.call(e, null == (s = null == (s = e && e.score) || !1 === s ? s : s.away) || !1 === s ? s : s.sequence, {
          hash: {},
          inverse: p.noop,
          fn: p.program(6, u, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.current_count, {
          hash: {},
          inverse: p.noop,
          fn: p.program(8, m, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="c-score__line  c-score__line--vs1"><div class="c-score__line__name">', ((o = i.with.call(t, t && t.away_team, {
      hash: {},
      inverse: p.noop,
      fn: p.program(10, f, a),
      data: a
    })) || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, t && t.score, {
      hash: {},
      inverse: p.noop,
      fn: p.program(15, (function (e, t) {
        var s, a = "";
        return ((s = i.each.call(e, null == (s = null == (s = e && e.score) || !1 === s ? s : s.away) || !1 === s ? s : s.sequence, {
          hash: {},
          inverse: p.noop,
          fn: p.program(16, v, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.current_count, {
          hash: {},
          inverse: p.noop,
          fn: p.program(18, b, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="c-score__line  c-score__line--vs2" data-vs="@"><div class="c-score__line__name">', ((o = i.with.call(t, t && t.home_team, {
      hash: {},
      inverse: p.noop,
      fn: p.program(10, f, a),
      data: a
    })) || 0 === o) && (r += o), r += "</div>", o = i.if.call(t, t && t.score, {
      hash: {},
      inverse: p.noop,
      fn: p.program(20, (function (e, t) {
        var s, a = "";
        return ((s = i.each.call(e, null == (s = null == (s = e && e.score) || !1 === s ? s : s.home) || !1 === s ? s : s.sequence, {
          hash: {},
          inverse: p.noop,
          fn: p.program(16, v, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.current_count, {
          hash: {},
          inverse: p.noop,
          fn: p.program(21, w, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="c-score__foot"><div class="c-score__foot__main"><div class="c-score__venue">@ ' + c(typeof (o = null == (o = t && t.venue) || !1 === o ? o : o.market) === d ? o.apply(t) : o) + '<span class="c-score__venue__name"> - ' + c(typeof (o = null == (o = t && t.venue) || !1 === o ? o : o.name) === d ? o.apply(t) : o) + '</span></div><div class="c-score__foot__more  c-score__opt">', n = i.and || t && t.and, l = {
      hash: {},
      inverse: p.noop,
      fn: p.program(23, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="c-score__foot__info">Last updated ' + c((a = {
          hash: {},
          data: t
        }, (s = i.momentTime || e && e.momentTime) ? s.call(e, e && e.updated, a) : h.call(e, "momentTime", e && e.updated, a))) + "</span>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.updated, null == (o = null == (o = t && t.score) || !1 === o ? o : o.away) || !1 === o ? o : o.sequence, l) : h.call(t, "and", t && t.updated, null == (o = null == (o = t && t.score) || !1 === o ? o : o.away) || !1 === o ? o : o.sequence, l)) || 0 === o) && (r += o), r += "</div></div></div></div>"
  })), this.DDG.templates.stars = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<span class="stars  stars--', n += (0, this.escapeExpression)((o = i.rating) || "function" == typeof (o = t && t.rating) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '"><i class="star  stars__1"></i><i class="star  stars__2"></i><i class="star  stars__3"></i><i class="star  stars__4"></i><i class="star  stars__5"></i></span>'
  })), this.DDG.templates.subtitle = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = this;

    function d(e, t) {
      return '<span class="sep"></span>'
    }

    function c(e, t) {
      var s, a, o = "";
      return o += '<a href="', s = (a = i.href) || typeof (a = e && e.href) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '"', ((s = i.if.call(e, e && e.className, {
        hash: {},
        inverse: r.noop,
        fn: r.program(5, h, t),
        data: t
      })) || 0 === s) && (o += s), o += ">", s = (a = i.text) || typeof (a = e && e.text) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "</a>"
    }

    function h(e, t) {
      var s, a, o = "";
      return o += ' class="', s = (a = i.className) || typeof (a = e && e.className) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '"'
    }

    function p(e, t) {
      return l(typeof e === n ? e.apply(e) : e)
    }
    return o = i.each.call(t, t && t.components, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, null == t || !1 === t ? t : t.index, {
          hash: {},
          inverse: r.noop,
          fn: r.program(2, d, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.href, {
          hash: {},
          inverse: r.program(7, p, t),
          fn: r.program(4, c, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.tile_body = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var s, a, o = "";
      return o += "has-foot--", s = (a = i.footLines) || typeof (a = e && e.footLines) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s)
    }

    function m(e, t) {
      var s, a, o = "";
      return o += "tile__foot--", s = (a = i.footLines) || typeof (a = e && e.footLines) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s)
    }
    return r += '<div class="tile__body ', o = i.if.call(t, t && t.footer_content, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a = "";
        return a += "has-foot ", ((s = i.if.call(e, e && e.footLines, {
          hash: {},
          inverse: h.noop,
          fn: h.program(2, u, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "tile_titles", l) : p.call(t, "include", "tile_titles", l)) || 0 === o) && (r += o), o = i.if.call(t, t && t.description, {
      hash: {},
      inverse: h.noop,
      fn: h.program(4, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.include || e && e.include) ? a.call(e, "tile_snippet", o) : p.call(e, "include", "tile_snippet", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.footer_content, {
      hash: {},
      inverse: h.noop,
      fn: h.program(6, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="tile__foot ', ((s = i.if.call(e, e && e.footLines, {
          hash: {},
          inverse: h.noop,
          fn: h.program(7, m, t),
          data: t
        })) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, e && e.footer_content, o) : p.call(e, "include", e && e.footer_content, o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.tile_snippet = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing;
    return r += '<div class="tile__content ', o = i.unless.call(t, null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileSnippet, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var i;
        return d("function" == typeof (i = null == (i = null == (i = e && e.meta) || !1 === i ? i : i.elClass) || !1 === i ? i : i.tileSnippet) ? i.apply(e) : i)
      }), a),
      fn: this.program(1, (function (e, t) {
        return " tile__content--sm "
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '">' + d((l = {
      hash: {
        fallback: 55
      },
      data: a
    }, (n = i.ellipsis || t && t.ellipsis) ? n.call(t, t && t.description, null == (o = t && t.meta) || !1 === o ? o : o.snippetChars, l) : c.call(t, "ellipsis", t && t.description, null == (o = t && t.meta) || !1 === o ? o : o.snippetChars, l))) + "</div>"
  })), this.DDG.templates.tile_titles = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = "function",
      h = this;

    function p(e, t) {
      return "span"
    }
    return o = i.if.call(t, t && t.icon, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<img src="' + d((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.icon, o) : r.call(e, "imageProxy", e && e.icon, o))) + '" alt="', s = (a = i.title) || typeof (a = e && e.title) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += d(s) + '" class="tile__icon" />'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.showPin, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="tile__icon  tile__icon--pin">', s = (a = i.num) || typeof (a = e && e.num) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<h5 class="tile__title ', ((o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        return "with-sub"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += " ", ((o = i.if.call(t, t && t.altSubtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        return "has-sub--a"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += " " + d(typeof (o = null == (o = null == (o = t && t.meta) || !1 === o ? o : o.elClass) || !1 === o ? o : o.tileTitle) === c ? o.apply(t) : o) + " ", o = (n = i.titleClass) || typeof (n = t && t.titleClass) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '"><', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.program(11, p, a),
      fn: h.program(9, (function (e, t) {
        var s, a, o = "";
        return o += 'a href="', s = (a = i.url) || typeof (a = e && e.url) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '"'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += ' class="tile__title__main">', o = (n = i.title) || typeof (n = t && t.title) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</", ((o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: h.program(11, p, a),
      fn: h.program(13, (function (e, t) {
        return "a"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += ">", o = i.if.call(t, t && t.altSubtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(15, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile__title__sub ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tileAltSubtitle) === c ? s.apply(e) : s) + " ", s = (a = i.altSubClass) || typeof (a = e && e.altSubClass) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += d(s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.altSubtitle, o) : r.call(e, "formatSubtitle", e && e.altSubtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</h5>", o = i.if.call(t, t && t.subtitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(17, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="tile__sub ' + d(typeof (s = null == (s = null == (s = e && e.meta) || !1 === s ? s : s.elClass) || !1 === s ? s : s.tileSubtitle) === c ? s.apply(e) : s) + " ", s = (a = i.subClass) || typeof (a = e && e.subClass) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += d(s) + '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.formatSubtitle || e && e.formatSubtitle) ? a.call(e, e && e.subtitle, o) : r.call(e, "formatSubtitle", e && e.subtitle, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l
  })), this.DDG.templates.title = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;

    function h(e, t) {
      var s, a, o = "";
      return o += 'title="', s = (a = i.hrefTitle) || typeof (a = e && e.hrefTitle) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + '"'
    }

    function p(e, t) {
      return "opt"
    }
    return l += "<", o = (n = i.tagName) || typeof (n = t && t.tagName) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + ' class="', o = (n = i.className) || typeof (n = t && t.className) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + " ", o = (n = i.classNameSec) || typeof (n = t && t.classNameSec) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + " ", ((o = i.if.call(t, t && t.subTitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-sub"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '">', o = i.if.call(t, t && t.href, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.href) || typeof (a = e && e.href) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" ', ((s = i.if.call(e, e && e.hrefTitle, {
          hash: {},
          inverse: c.noop,
          fn: c.program(4, h, t),
          data: t
        })) || 0 === s) && (o += s), o += ">"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), ((o = (n = i.title) || typeof (n = t && t.title) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.href, {
      hash: {},
      inverse: c.noop,
      fn: c.program(6, (function (e, t) {
        return "</a>"
      }), a),
      data: a
    })) || 0 === o) && (l += o), o = i.if.call(t, t && t.subTitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(8, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="', s = (a = i.className) || typeof (a = e && e.className) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "__sub ", ((s = i.if.call(e, e && e.optSub, {
          hash: {},
          inverse: c.noop,
          fn: c.program(9, p, t),
          data: t
        })) || 0 === s) && (o += s), o += '">', ((s = (a = i.subTitle) || typeof (a = e && e.subTitle) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</", o = (n = i.tagName) || typeof (n = t && t.tagName) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + ">"
  })), this.DDG = this.DDG || {}, this.DDG.templates = this.DDG.templates || {}, this.DDG.templates.about_header = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this.escapeExpression,
      d = this;
    return n += '<div class="module__header ', ((o = i.if.call(t, t && t.imageURL, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "module__header--with-image"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '">', o = i.if.call(t, t && t.imageURL, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="module__header__image js-about-header-image" style="background-image:url(\'' + r((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.imageURL, o) : l.call(e, "imageProxy", e && e.imageURL, o))) + '\');"><img class="module__header__image__img" src="' + r((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.imageURL, o) : l.call(e, "imageProxy", e && e.imageURL, o))) + '" /><span class="label module__header__image__more">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More Images", o) : l.call(e, "l", "More Images", o)) || 0 === s) && (n += s), n += "</span></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="module__header__map js-about-header-map"></div><div class="module__header__shadow"></div></div>'
  })), this.DDG.templates.about_infobox = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this;

    function c(e, t) {
      var s, a, o = "";
      return o += '<div class="about-info-box__info-row', ((s = i.unless.call(e, e && e.visible, {
        hash: {},
        inverse: d.noop,
        fn: d.program(3, h, t),
        data: t
      })) || 0 === s) && (o += s), o += '"><span class="about-info-box__info-label">', s = (a = i.label) || typeof (a = e && e.label) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + ":</span>", ((s = i.if.call(e, null == (s = e && e.value) || !1 === s ? s : s.content, {
        hash: {},
        inverse: d.program(8, m, t),
        fn: d.program(5, p, t),
        data: t
      })) || 0 === s) && (o += s), o += "</div>"
    }

    function h(e, t) {
      return " is-hidden"
    }

    function p(e, t) {
      var s;
      return (s = i.each.call(e, null == (s = e && e.value) || !1 === s ? s : s.content, {
        hash: {},
        inverse: d.noop,
        fn: d.program(6, u, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function u(e, t) {
      var s, a, o = "";
      return o += '<div class="about-info-box__sub-info"><span class="about-info-box__info-label">', s = (a = i.label) || typeof (a = e && e.label) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + ':</span><span class="about-info-box__info-value">', s = (a = i.value) || typeof (a = e && e.value) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span></div>"
    }

    function m(e, t) {
      var s, a, o = "";
      return o += '<span class="about-info-box__info-value">', s = (a = i.value) || typeof (a = e && e.value) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span>"
    }
    return n += '<div class="about-info-box">', o = i.each.call(t, t && t.items, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.label, {
          hash: {},
          inverse: d.noop,
          fn: d.program(2, c, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.about_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = "function",
      c = this.escapeExpression,
      h = this;

    function p(e, t) {
      var s, a, o, n = "";
      return n += '<div class="module__title module__link--two-line">', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '</div><a href="', s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '" class="module__clickable-header js-about-item-clickable-header"><div class="module__link module__link--url">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.AbstractURL, o) : r.call(e, "favicon", e && e.AbstractURL, o)) || 0 === s) && (n += s), s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</div></a>"
    }

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<a href="', s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '" class="module__clickable-header js-about-item-clickable-header"><div class="module__link module__link--blue module__link--two-line tx--bold">', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '</div><div class="module__link module__link--url">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.AbstractURL, o) : r.call(e, "favicon", e && e.AbstractURL, o)) || 0 === s) && (n += s), s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</div></a>"
    }

    function m(e, t) {
      var s, a, o, n = "";
      return n += '<a class="module__image" href="', s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '" class="js-about-item-link" title="', o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "More at %s ", e && e.moreAtText, o) : r.call(e, "l", "More at %s ", e && e.moreAtText, o)) || 0 === s) && (n += s), n += '"><img src="', ((s = (a = i.Image) || typeof (a = e && e.Image) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (n += s), n += '" align="right" class="module--about__img"></a>'
    }

    function f(e, t) {
      return ' target="_blank" rel="noopener"'
    }
    return l += '<div class="module__body js-about-item">', o = i.if.call(t, t && t.showDirectionsButton, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="dir-btn"><div class="dir-btn__link btn js-about-item-directions">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "directions", "Directions", o) : r.call(e, "lp", "directions", "Directions", o)) || 0 === s) && (n += s), n += "</div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.hasClickableHeader, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.noTitleLink, {
          hash: {},
          inverse: h.program(6, u, t),
          fn: h.program(4, p, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.unless.call(t, t && t.headerImage, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.Image, {
          hash: {},
          inverse: h.noop,
          fn: h.program(9, m, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.unless.call(t, t && t.hasClickableHeader, {
      hash: {},
      inverse: h.noop,
      fn: h.program(11, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module__title js-about-item-title"><span class="module__title__link">', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.subTitle, {
      hash: {},
      inverse: h.noop,
      fn: h.program(13, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="module__title__sub">', s = (a = i.subTitle) || typeof (a = e && e.subTitle) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.OfficialUrl, {
      hash: {},
      inverse: h.noop,
      fn: h.program(15, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a href="', s = (a = i.OfficialUrl) || typeof (a = e && e.OfficialUrl) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" class="module__official-url js-about-item-link"', ((s = i.if.call(e, e && e.isMapExpanded, {
          hash: {},
          inverse: h.noop,
          fn: h.program(16, f, t),
          data: t
        })) || 0 === s) && (n += s), n += ' title="Website">' + c((o = {
          hash: {},
          data: t
        }, (a = i.domainWithPath || e && e.domainWithPath) ? a.call(e, e && e.OfficialUrl, o) : r.call(e, "domainWithPath", e && e.OfficialUrl, o))) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module__text', ((o = i.if.call(t, t && t.hasClickableHeader, {
      hash: {},
      inverse: h.noop,
      fn: h.program(18, (function (e, t) {
        return " module__text--no-padding"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '"><span class="js-about-item-abstr"></span><a href="', o = (n = i.AbstractURL) || typeof (n = t && t.AbstractURL) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += c(o) + '" class="module__more-at is-hidden js-about-item-more-at-inline tx--bold"', ((o = i.if.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: h.noop,
      fn: h.program(16, f, a),
      data: a
    })) || 0 === o) && (l += o), l += ' title="', o = (n = i.moreAtText) || typeof (n = t && t.moreAtText) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += c(o) + '">', o = (n = i.moreAtText) || typeof (n = t && t.moreAtText) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += c(o) + "</a>", o = i.unless.call(t, t && t.hasClickableHeader, {
      hash: {},
      inverse: h.noop,
      fn: h.program(20, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a href="', s = (a = i.AbstractURL) || typeof (a = e && e.AbstractURL) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" class="module__more-at-bottom is-hidden js-about-item-more-at-bottom" title="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More at %s ", e && e.moreAtText, o) : r.call(e, "l", "More at %s ", e && e.moreAtText, o)) || 0 === s) && (n += s), n += '">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.AbstractURL, o) : r.call(e, "favicon", e && e.AbstractURL, o)) || 0 === s) && (n += s), o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More at %s ", e && e.moreAtText, o) : r.call(e, "l", "More at %s ", e && e.moreAtText, o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div></div>"
  })), this.DDG.templates.about_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return ' aria-hidden="true"'
    }
    return n += '<div class="module module--about module--zci-' + d(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === r ? o.apply(t) : o) + " js-module--" + d(typeof (o = null == (o = t && t.meta) || !1 === o ? o : o.id) === r ? o.apply(t) : o) + " js-about-module", ((o = i.if.call(t, t && t.hasContentHeight, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        return " has-content-height"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"><div class="module__content js-about-module-content"></div>', o = i.unless.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: l.noop,
      fn: l.program(3, (function (e, t) {
        var s, a = "";
        return a += '<div class="module__toggle js-about-module-toggle"', ((s = i.unless.call(e, e && e.hasContentHeight, {
          hash: {},
          inverse: l.noop,
          fn: l.program(4, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '><div class="module__toggle--more js-about-module-more"><span class="module__toggle__chevron">v</span></div><div class="module__toggle--less js-about-module-less"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.about_profiles = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing;
    return n += '<ul class="about-profiles">', o = i.each.call(t, t && t.links, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<li class="about-profiles__item"><a class="about-profiles__link js-about-profile-link" href="', s = (a = i.url) || typeof (a = e && e.url) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '" title="', s = (a = i.name) || typeof (a = e && e.name) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '"><img class="about-profiles__img" src="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.iconURL, o) : d.call(e, "imageProxy", e && e.iconURL, o)) || 0 === s) && (n += s), n += '" />', s = (a = i.name) || typeof (a = e && e.name) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + "</a></li>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</ul>"
  })), this.DDG.templates.ad_badge_tooltip = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression;
    return r += "<span>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "Ads GDPR, internal use only. Do not change", "Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Microsoft's ad network", l) : d.call(t, "lp", "Ads GDPR, internal use only. Do not change", "Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Microsoft's ad network", l)) || 0 === o) && (r += o), r += ' (<a href="', r += c(o = (n = i.helpPageURL) || "function" == typeof (n = t && t.helpPageURL) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" class="tooltip-link">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "Ads GDPR, internal use only. Do not change", "More Info", l) : d.call(t, "lp", "Ads GDPR, internal use only. Do not change", "More Info", l)) || 0 === o) && (r += o), r += "</a>).</span>"
  })), this.DDG.templates.ad_badge = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<span class="badge--ad-wrap badge--ad-wrap--', n += r((o = i.context) || typeof (o = t && t.context) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '">&nbsp;<span class="badge--ad js-badge--ad">', n += r((o = i.label) || typeof (o = t && t.label) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + "</span></span>"
  })), this.DDG.templates.address_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var i = "";
      return i += '<p class="address-detail__address js-address-detail-address">' + c(typeof e === d ? e.apply(e) : e) + "</p>"
    }
    return r += '<div class="address-detail ', ((o = i.if.call(t, t && t.mapkitAppleDevice, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        return "address-detail--apple-device"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="module__title address-detail__title js-address-detail-title"><div class="address-detail__links"><h1 class="address-detail__name js-address-detail-address">', o = (n = i.name) || typeof (n = t && t.name) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "</h1>", o = i.if.call(t, t && t.addressLines, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s;
        return (s = i.each.call(e, e && e.addressLines, {
          hash: {},
          inverse: h.noop,
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.displayLatLon, {
      hash: {},
      inverse: h.noop,
      fn: h.program(6, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="address-detail__latlon js-address-detail-address">', s = (a = i.displayLatLon) || typeof (a = e && e.displayLatLon) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div></div><div class="dir-btn"><div class="dir-btn__link btn btn--primary js-address-detail-directions">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Directions", l) : p.call(t, "lp", "directions", "Directions", l)) || 0 === o) && (r += o), r += "</div></div></div>"
  })), this.DDG.templates.answerbar_tabs = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="zcm"><ul class="zcm__menu zcm__constant" id="duckbar_static"></ul><ul class="zcm__menu zcm__dynamic" id="duckbar_new"><span id="duckbar_dynamic_sep" class="zcm__sep--h sep--before is-hidden"></span></ul><ul class="zcm__menu zcm__dropdowns js-duckbar-dropdowns" id="duckbar_dropdowns"><span class="zcm__sep--h sep--before is-hidden js-duckbar-dropdowns-separator"></span></ul></div>'
  })), this.DDG.templates.auto_ads_tooltip = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "";
    return n += "<span>", ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.hasDeliveryLocation, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        return "Dealer location."
      }), a),
      fn: this.program(1, (function (e, t) {
        return "Dealer can deliver to this location."
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += "</span>"
  })), this.DDG.templates.carousel_module_item_auto_ads = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = this,
      h = "function";

    function p(e, t) {
      var s, a, o, n = "";
      return n += '<div class="js-carousel-item-image module--carousel__image is-contain-image" style="background-image:url(\'' + d((o = {
        hash: {},
        data: t
      }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, e && e.imageProxyOps, o) : r.call(e, "imageProxy", e && e.image, e && e.imageProxyOps, o))) + "')\">", ((s = i.if.call(e, e && e.is_prime, {
        hash: {},
        inverse: c.noop,
        fn: c.program(5, u, t),
        data: t
      })) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
        hash: {},
        inverse: c.noop,
        fn: c.program(7, m, t),
        data: t
      }, ((s = a ? a.call(e, e && e.showBadge, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o) : r.call(e, "and", e && e.showBadge, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o)) || 0 === s) && (n += s), n += "</div>"
    }

    function u(e, t) {
      return '<span class="tile--pr__badge badge badge--prime"></span>'
    }

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o) : r.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      return '<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'
    }

    function g(e, t) {
      return '<img src="/assets/icons/delivery-location.svg">'
    }

    function _(e, t) {
      return '<span class="ddgsi ddgsi-marker"></span>'
    }
    return l += '<div class="module--carousel__item', ((o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return " has-image"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '" data-link="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '">', o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a = "";
        return a += '<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">', ((s = i.if.call(e, e && e.image, {
          hash: {},
          inverse: c.program(9, f, t),
          fn: c.program(4, p, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.location, {
      hash: {},
      inverse: c.noop,
      fn: c.program(11, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--carousel__location"><span class="one-line">', ((s = i.if.call(e, e && e.hasDeliveryLocation, {
          hash: {},
          inverse: c.program(14, _, t),
          fn: c.program(12, g, t),
          data: t
        })) || 0 === s) && (o += s), s = (a = i.location) || typeof (a = e && e.location) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module--carousel__body"><a href="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" title="', o = (n = i.title) || typeof (n = t && t.title) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" class="module--carousel__body__title js-carousel-item-title">', o = (n = i.title) || typeof (n = t && t.title) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</a></div><div class="module--carousel__footer"><div class="module--carousel__body__pricing"><span class="module--carousel__body__price one-line">', o = (n = i.price) || typeof (n = t && t.price) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + " - ", o = (n = i.condition) || typeof (n = t && t.condition) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</span></div><div class="module--carousel__auto-ads-extra one-line">', o = (n = i.extra) || typeof (n = t && t.extra) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div><span class="module--carousel__gray-text one-line">', o = (n = i.brand) || typeof (n = t && t.brand) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</span></div></div>"
  })), this.DDG.templates.carousel_module_item_products = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = this,
      h = "function";

    function p(e, t) {
      var s, a, o, n = "";
      return n += '<div class="js-carousel-item-image module--carousel__image is-contain-image" style="background-image:url(\'' + d((o = {
        hash: {},
        data: t
      }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, e && e.imageProxyOps, o) : r.call(e, "imageProxy", e && e.image, e && e.imageProxyOps, o))) + "')\">", ((s = i.if.call(e, e && e.is_prime, {
        hash: {},
        inverse: c.noop,
        fn: c.program(5, u, t),
        data: t
      })) || 0 === s) && (n += s), a = i.and || e && e.and, o = {
        hash: {},
        inverse: c.noop,
        fn: c.program(7, m, t),
        data: t
      }, ((s = a ? a.call(e, e && e.showBadge, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o) : r.call(e, "and", e && e.showBadge, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o)) || 0 === s) && (n += s), n += "</div>"
    }

    function u(e, t) {
      return '<span class="tile--pr__badge badge badge--prime"></span>'
    }

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.include || e && e.include) ? a.call(e, null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o) : r.call(e, "include", null == (s = null == (s = e && e.meta) || !1 === s ? s : s.options) || !1 === s ? s : s.badge, o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      return '<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'
    }

    function g(e, t) {
      var s, a, o = "";
      return o += '<span class="module--carousel__body__price">', s = (a = i.installmentAmount) || typeof (a = e && e.installmentAmount) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</span>"
    }

    function _(e, t) {
      var s;
      return (s = i.if.call(e, e && e.low_price, {
        hash: {},
        inverse: c.program(17, b, t),
        fn: c.program(15, v, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function v(e, t) {
      var s, a, o = "";
      return o += '<span class="module--carousel__body__original-price">', s = (a = i.price) || typeof (a = e && e.price) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + '</span><span class="module--carousel__body__price">', s = (a = i.low_price) || typeof (a = e && e.low_price) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</span>"
    }

    function b(e, t) {
      var s, a, o = "";
      return o += '<span class="module--carousel__body__price">', s = (a = i.price) || typeof (a = e && e.price) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</span>"
    }

    function w(e, t) {
      return " one-line"
    }
    return l += '<div class="module--carousel__item', ((o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return " has-image"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '" data-link="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '">', o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a = "";
        return a += '<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">', ((s = i.if.call(e, e && e.image, {
          hash: {},
          inverse: c.program(9, f, t),
          fn: c.program(4, p, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module--carousel__body"><a href="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" title="', o = (n = i.title) || typeof (n = t && t.title) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" class="module--carousel__body__title js-carousel-item-title">', o = (n = i.title) || typeof (n = t && t.title) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</a>", o = i.if.call(t, t && t.bing, {
      hash: {},
      inverse: c.noop,
      fn: c.program(11, (function (e, t) {
        var s, a = "";
        return a += '<div class="module--carousel__body__pricing">', ((s = i.if.call(e, e && e.installmentAmount, {
          hash: {},
          inverse: c.program(14, _, t),
          fn: c.program(12, g, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="module--carousel__footer">', o = i.if.call(t, t && t.onlyGrayText, {
      hash: {},
      inverse: c.noop,
      fn: c.program(19, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="module--carousel__gray-text', ((s = i.if.call(e, e && e.bing, {
          hash: {},
          inverse: c.noop,
          fn: c.program(20, w, t),
          data: t
        })) || 0 === s) && (o += s), o += '">', s = (a = i.onlyGrayText) || typeof (a = e && e.onlyGrayText) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div></div>"
  })), this.DDG.templates.carousel_module_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = this,
      h = "function";

    function p(e, t) {
      var s, a = "";
      return a += '<div class="js-carousel-item-image module--carousel__image', ((s = i.if.call(e, e && e.centerImage, {
        hash: {},
        inverse: c.noop,
        fn: c.program(7, u, t),
        data: t
      })) || 0 === s) && (a += s), a += '"', ((s = i.unless.call(e, e && e.isSingleVideoModule, {
        hash: {},
        inverse: c.noop,
        fn: c.program(9, m, t),
        data: t
      })) || 0 === s) && (a += s), a += "></div>"
    }

    function u(e, t) {
      return " is-center-image"
    }

    function m(e, t) {
      var s, a, o = "";
      return o += "style=\"background-image:url('" + d((a = {
        hash: {},
        data: t
      }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.image, e && e.imageProxyOps, a) : r.call(e, "imageProxy", e && e.image, e && e.imageProxyOps, a))) + "')\""
    }

    function f(e, t) {
      return '<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'
    }

    function g(e, t) {
      var s, a, o = "";
      return o += '<div class="image-labels__label ddgsi ddgsi-', s = (a = i.labelIcon) || typeof (a = e && e.labelIcon) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + '"></div>'
    }

    function _(e, t) {
      var s, a, o = "";
      return o += '<div class="image-labels__label">', s = (a = i.duration) || typeof (a = e && e.duration) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</div>"
    }

    function v(e, t) {
      var s, a;
      return (s = (a = i.excerpt) || typeof (a = e && e.excerpt) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s ? s : ""
    }

    function b(e, t) {
      var s, a;
      return s = (a = i.excerpt) || typeof (a = e && e.excerpt) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a, d(s)
    }

    function w(e, t) {
      var s, a, o, n = "";
      return n += '<span class="module--carousel__gray-text', ((s = i.if.call(e, e && e.bing, {
        hash: {},
        inverse: c.noop,
        fn: c.program(40, y, t),
        data: t
      })) || 0 === s) && (n += s), n += '">' + d((o = {
        hash: {},
        data: t
      }, (a = i.ellipsis || e && e.ellipsis) ? a.call(e, e && e.textOnlySource, 20, o) : r.call(e, "ellipsis", e && e.textOnlySource, 20, o))) + "</span>"
    }

    function y(e, t) {
      return " one-line"
    }

    function k(e, t) {
      var s, a, o, n = "";
      return n += '<span class="module--carousel__source result__url">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.ellipsis || e && e.ellipsis) ? a.call(e, e && e.source, 20, o) : r.call(e, "ellipsis", e && e.source, 20, o)) || 0 === s) && (n += s), n += "</span>"
    }
    return l += '<div class="module--carousel__item', ((o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return " has-image"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.extraRow, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        return " has-extra-row"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '" data-link="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '">', o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.noop,
      fn: c.program(5, (function (e, t) {
        var s, a = "";
        return a += '<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">', ((s = i.if.call(e, e && e.image, {
          hash: {},
          inverse: c.program(11, f, t),
          fn: c.program(6, p, t),
          data: t
        })) || 0 === s) && (a += s), a += '<div class="image-labels">', ((s = i.if.call(e, e && e.labelIcon, {
          hash: {},
          inverse: c.noop,
          fn: c.program(13, g, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.duration, {
          hash: {},
          inverse: c.noop,
          fn: c.program(15, _, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module--carousel__body"><a href="', o = (n = i.link) || typeof (n = t && t.link) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" title="', o = (n = i.title) || typeof (n = t && t.title) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" class="module--carousel__body__title', ((o = i.if.call(t, t && t.oneRowTitle, {
      hash: {},
      inverse: c.noop,
      fn: c.program(17, (function (e, t) {
        return " is-one-row"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.isSingleVideoModule, {
      hash: {},
      inverse: c.noop,
      fn: c.program(19, (function (e, t) {
        return " is-big"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += ' js-carousel-item-title">', o = i.if.call(t, t && t.isNews, {
      hash: {},
      inverse: c.program(23, (function (e, t) {
        var s, a;
        return s = (a = i.title) || typeof (a = e && e.title) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, d(s)
      }), a),
      fn: c.program(21, (function (e, t) {
        var s, a;
        return (s = (a = i.title) || typeof (a = e && e.title) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</a>", o = i.if.call(t, t && t.showImage, {
      hash: {},
      inverse: c.program(25, (function (e, t) {
        var s, a = "";
        return a += '<div class="module--carousel__body__content js-carousel-item-content">', ((s = i.if.call(e, e && e.isNews, {
          hash: {},
          inverse: c.program(28, b, t),
          fn: c.program(26, v, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      fn: c.noop,
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.showDescription, {
      hash: {},
      inverse: c.noop,
      fn: c.program(30, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--carousel__body__content is-short js-carousel-item-content">', s = (a = i.description) || typeof (a = e && e.description) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="module--carousel__footer ', ((o = i.if.call(t, t && t.relativeTimeShort, {
      hash: {},
      inverse: c.noop,
      fn: c.program(32, (function (e, t) {
        return "has-relative-time"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.showRating, {
      hash: {},
      inverse: c.noop,
      fn: c.program(34, (function (e, t) {
        return " has-rating"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '">', o = i.if.call(t, t && t.extraRow, {
      hash: {},
      inverse: c.noop,
      fn: c.program(36, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--carousel__extra-row">', s = (a = i.extraRow) || typeof (a = e && e.extraRow) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.unless.call(t, t && t.hideSource, {
      hash: {},
      inverse: c.noop,
      fn: c.program(38, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="module--carousel__more-at">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.url, o) : r.call(e, "favicon", e && e.url, o)) || 0 === s) && (n += s), ((s = i.if.call(e, e && e.textOnlySource, {
          hash: {},
          inverse: c.program(42, k, t),
          fn: c.program(39, w, t),
          data: t
        })) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.relativeTimeShort, {
      hash: {},
      inverse: c.noop,
      fn: c.program(44, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="sep  tile__sep"></span><span class="tile__time">', ((s = (a = i.relativeTimeShort) || typeof (a = e && e.relativeTimeShort) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.onlyGrayText, {
      hash: {},
      inverse: c.noop,
      fn: c.program(46, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="module--carousel__gray-text', ((s = i.if.call(e, e && e.bing, {
          hash: {},
          inverse: c.noop,
          fn: c.program(40, y, t),
          data: t
        })) || 0 === s) && (o += s), o += '">', s = (a = i.onlyGrayText) || typeof (a = e && e.onlyGrayText) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.showRating, {
      hash: {},
      inverse: c.noop,
      fn: c.program(48, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="tile__rating"><span class="stars stars--', s = (a = i.rating) || typeof (a = e && e.rating) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '"><i class="star stars__1"></i><i class="star stars__2"></i><i class="star stars__3"></i><i class="star stars__4"></i><i class="star stars__5"></i></span></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div></div>"
  })), this.DDG.templates.carousel_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = i.helperMissing,
      h = this;

    function p(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.bing, {
        hash: {},
        inverse: h.noop,
        fn: h.program(19, u, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function u(e, t) {
      var i, s = "";
      return ((i = typeof (i = null == (i = e && e.meta) || !1 === i ? i : i.secondaryText) === r ? i.apply(e) : i) || 0 === i) && (s += i), s += '<span class="sep"></span>'
    }
    return l += '<div class="module module--carousel module--carousel-', o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + " js-module--", o = (n = i.id) || typeof (n = t && t.id) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o), ((o = i.if.call(t, t && t.showMainSource, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        return " has-main-source"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.bing, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        return " bing"
      }), a),
      data: a
    })) || 0 === o) && (l += o), ((o = i.if.call(t, t && t.hasHiddenVertical, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        return " has-hidden-vertical"
      }), a),
      data: a
    })) || 0 === o) && (l += o), o = i.if.call(t, t && t.gridColumns, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        var s, a, o = "";
        return o += " has-grid grid-", s = (a = i.gridColumns) || typeof (a = e && e.gridColumns) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "-cols"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), ((o = i.if.call(t, t && t.isSlottedFirst, {
      hash: {},
      inverse: h.noop,
      fn: h.program(9, (function (e, t) {
        return " is-slotted-first"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '"><div class="js-carousel-module-title module__header module__header--link is-hidden">', o = i.if.call(t, t && t.icon_template, {
      hash: {},
      inverse: h.noop,
      fn: h.program(11, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="module__header__icon">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, e && e.icon_template, o) : c.call(e, "include", e && e.icon_template, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.carouselHeaderText, {
      hash: {},
      inverse: h.program(15, (function (e, t) {
        var i;
        return d(typeof (i = null == (i = e && e.meta) || !1 === i ? i : i.primaryText) === r ? i.apply(e) : i)
      }), a),
      fn: h.program(13, (function (e, t) {
        var s, a;
        return s = (a = i.carouselHeaderText) || typeof (a = e && e.carouselHeaderText) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, d(s)
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="module--carousel__wrap"><div class="module--carousel__left js-carousel-module-left ddgsi ddgsi-left is-hidden"></div><div class="module--carousel__items js-carousel-module-items"></div><div class="module--carousel__right js-carousel-module-right ddgsi ddgsi-right is-hidden"></div></div><a href="#" class="js-carousel-module-more module__footer is-hidden">', o = (n = i.moreText) || typeof (n = t && t.moreText) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</a>", o = i.if.call(t, t && t.showMainSource, {
      hash: {},
      inverse: h.noop,
      fn: h.program(17, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="module--carousel__main-source js-carousel-module-main-source">', ((s = i.if.call(e, e && e.isAffiliate, {
          hash: {},
          inverse: h.noop,
          fn: h.program(18, p, t),
          data: t
        })) || 0 === s) && (n += s), o = {
          hash: {
            className: "zci__more-at js-carousel-module-more-at",
            dynamicMoreAtText: "0"
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.meta, "none", o) : c.call(e, "moreAt", e && e.meta, "none", o)) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div>"
  })), this.DDG.templates.covid_19_cases = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return 'class="covid__table-row--match"'
    }
    return n += '<table class="covid__table"><tbody><tr><th class="covid__table-location">Location</th><th>Confirmed</th><th>Deaths</th></tr>', o = i.each.call(t, t && t.countries, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        var s, a, o = "";
        return o += "<tr ", ((s = i.if.call(e, e && e.isCountryMatch, {
          hash: {},
          inverse: l.noop,
          fn: l.program(2, c, t),
          data: t
        })) || 0 === s) && (o += s), o += '><td class="covid__table-location">', s = (a = i.location) || typeof (a = e && e.location) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</td><td>", s = (a = i.cases) || typeof (a = e && e.cases) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</td><td>", s = (a = i.deaths) || typeof (a = e && e.deaths) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</td></tr>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</tbody></table>"
  })), this.DDG.templates.covid_19 = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;

    function h(e, t) {
      var i = "";
      return i += "<li>" + d(typeof e === r ? e.apply(e) : e) + "</li>"
    }
    return l += '<div class="module ia-module-covid"><div class="module__title module__title__link">', o = (n = i.title) || typeof (n = t && t.title) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div><div class="module__nav"><div class="module__nav__item js-covid19-tab1" data-id="1">', o = (n = i.tab1) || typeof (n = t && t.tab1) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</div>", o = i.if.call(t, t && t.vaccines, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module__nav__item js-covid19-tab5" data-id="5">', s = (a = i.tab5) || typeof (a = e && e.tab5) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.symptoms, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module__nav__item js-covid19-tab3" data-id="3">', s = (a = i.tab3) || typeof (a = e && e.tab3) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module__nav__item js-covid19-tab2" data-id="2">', o = (n = i.tab2) || typeof (n = t && t.tab2) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div><div class="module__nav__item js-covid19-tab4" data-id="4">', o = (n = i.tab4) || typeof (n = t && t.tab4) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div></div><div class="module__grey"><div class="js-covid19-panel1 is-hidden"><div>', o = (n = i.subtitle) || typeof (n = t && t.subtitle) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div><div class="covid__links">', o = i.each.call(t, t && t.links, {
      hash: {},
      inverse: c.noop,
      fn: c.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<div><span class="covid__icon"><a href="', s = (a = i.linkUrl) || typeof (a = e && e.linkUrl) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" title="', s = (a = i.linkUrl) || typeof (a = e && e.linkUrl) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" class="js-covid19-link" rel="noopener"><img height="16" width="16" src="', s = (a = i.iconURL) || typeof (a = e && e.iconURL) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" class="covid_links--align"></a></span><a href="', s = (a = i.linkUrl) || typeof (a = e && e.linkUrl) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" title="', s = (a = i.linkUrl) || typeof (a = e && e.linkUrl) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" class="module__more-at js-covid19-link covid_links--align" rel="noopener">', ((s = (a = i.linkText) || typeof (a = e && e.linkText) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += "</a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="js-covid19-cases is-hidden" style="padding-top: 10px;"><div>', o = (n = i.confirmed) || typeof (n = t && t.confirmed) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + ':</div><div class="covid__links"><div class="js-covid19-localrow is-hidden"><div class="flag-xs  flag-xs-', o = (n = i.flagIcon) || typeof (n = t && t.flagIcon) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-local"></span></div></div><div><div class="flag-xs  flag-xs-wt" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-world"></span></div></div><a href="#" class="js-covid19-stats module__footer">', o = (n = i.moreStatsText) || typeof (n = t && t.moreStatsText) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</a></div></div></div><div class="covid__tips js-covid19-panel2 is-hidden"><div class="covid__tips"><div>' + d(typeof (o = null == (o = t && t.tips) || !1 === o ? o : o.heading) === r ? o.apply(t) : o) + "</div><ul>", o = i.each.call(t, null == (o = t && t.tips) || !1 === o ? o : o.items, {
      hash: {},
      inverse: c.noop,
      fn: c.program(7, (function (e, t) {
        var i, s = "";
        return s += "<li>", ((i = typeof e === r ? e.apply(e) : e) || 0 === i) && (s += i), s += "</li>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</ul></div></div>", o = i.if.call(t, t && t.vaccines, {
      hash: {},
      inverse: c.noop,
      fn: c.program(9, (function (e, t) {
        var i, s = "";
        return s += '<div class="js-covid19-panel5 is-hidden"><div class="covid__vaccines"><div>', ((i = typeof (i = null == (i = e && e.vaccines) || !1 === i ? i : i.text) === r ? i.apply(e) : i) || 0 === i) && (s += i), s += "</div></div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.symptoms, {
      hash: {},
      inverse: c.noop,
      fn: c.program(11, (function (e, t) {
        var s, a = "";
        return a += '<div class="js-covid19-panel3 is-hidden"><div class="covid__tips"><div>' + d(typeof (s = null == (s = e && e.symptoms) || !1 === s ? s : s.heading) === r ? s.apply(e) : s) + "</div><ul>", ((s = i.each.call(e, null == (s = e && e.symptoms) || !1 === s ? s : s.items, {
          hash: {},
          inverse: c.noop,
          fn: c.program(12, h, t),
          data: t
        })) || 0 === s) && (a += s), a += "</ul></div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="js-covid19-panel4 is-hidden covid__stats-panel"></div></div><div class="covid19__footer js-covid19-footer" style="display: none;"><p class="feedback-prompt">Updated <span class=" js-covid19-updated" /> &#183; Source: <a href="https://en.wikipedia.org/wiki/Template:2019%E2%80%9320_coronavirus_pandemic_data" class="js-covid19-wiki feedback-prompt__link">Wikipedia</a></p><p class="covid19__footer__separator">|</p><div class="js-covid19-feedback"></div></div></div>'
  })), this.DDG.templates.custom_date_range_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing;
    return r += '<div class="modal modal--popover  modal--popover--gray custom_date-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--custom_date"><div class="modal__box modal__box--custom_date modal__box--headed"><div class="js-custom_date-form"><div class="modal__box__content"><h6 class="custom_date__header">', r += d(o = (n = i.header) || "function" == typeof (n = t && t.header) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '</h6><a href="#" class="modal__close  js-modal-close">X</a><div class="custom_date__fields"><input class="frm__input custom_date__input js-custom-date-range-from" /><input class="frm__input custom_date__input js-custom-date-range-to" /></div><div class="js-custom-date-range-from-datepicker"></div><div class="js-custom-date-range-to-datepicker"></div><a href="#" class="btn btn--primary js-custom-date-range-apply">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "Custom date range filer", "Apply", l) : c.call(t, "lp", "Custom date range filer", "Apply", l)) || 0 === o) && (r += o), r += "</a></div></div></div></div></div>"
  })), this.DDG.templates.definitions = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;

    function h(e, t) {
      var i, s = "";
      return s += '<li class="module--definitions__definition">', ((i = typeof e === r ? e.apply(e) : e) || 0 === i) && (s += i), s += "</li>"
    }
    return l += '<div class="module ia-module--definitions has-content-height"><div class="module__content"><div class="module__title">', o = (n = i.word) || typeof (n = t && t.word) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</div>", o = i.if.call(t, t && t.pluralFormOf, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="module--definitions__plural">Plural form of <span class="module--definitions__singular">', s = (a = i.pluralFormOf) || typeof (a = e && e.pluralFormOf) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span></p>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module--definitions__audio">', ((o = i.unless.call(t, t && t.noAudio, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        return '<span class="module--definitions__play js-definitions-play"></span>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '<span class="module--definitions__pronunciation js-definitions-pronunciation">', o = (n = i.pronunciation) || typeof (n = t && t.pronunciation) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</span></div><div class="module--definitions__collapsed-group"><h3 class="module--definitions__part-of-speech">' + d(typeof (o = null == (o = t && t.collapsedDefinitions) || !1 === o ? o : o.partOfSpeech) === r ? o.apply(t) : o) + "</h3><ol>", ((o = i.each.call(t, null == (o = t && t.collapsedDefinitions) || !1 === o ? o : o.definitions, {
      hash: {},
      inverse: c.noop,
      fn: c.program(5, h, a),
      data: a
    })) || 0 === o) && (l += o), l += "</ol></div>", o = i.each.call(t, t && t.groups, {
      hash: {},
      inverse: c.noop,
      fn: c.program(7, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--definitions__group"><h3 class="module--definitions__part-of-speech">', s = (a = i.partOfSpeech) || typeof (a = e && e.partOfSpeech) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</h3><ol>", ((s = i.each.call(e, e && e.definitions, {
          hash: {},
          inverse: c.noop,
          fn: c.program(5, h, t),
          data: t
        })) || 0 === s) && (o += s), o += "</ol></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module--definitions__attribution"><div class="module--definitions__attribution-text">' + d(typeof (o = null == (o = t && t.attribution) || !1 === o ? o : o.text) === r ? o.apply(t) : o) + '</div><div class="module--definitions__attribution-link"><img width="16" height="16" class="zci__more-at__icon" src="/assets/icons/favicons/wordnik.3x.png" /><a href="' + d(typeof (o = null == (o = t && t.attribution) || !1 === o ? o : o.url) === r ? o.apply(t) : o) + '" class="module__more-at js-definitions-link">More at Wordnik</a></div></div></div><div class="module__toggle js-definitions-toggle"><div class="module__toggle--more js-definitions-more"><span class="module__toggle__chevron">v</span></div><div class="module__toggle--less js-definitions-less"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div></div>'
  })), this.DDG.templates.directions_button = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this,
      c = i.helperMissing;

    function h(e, t) {
      return ' target="_blank" rel="noopener"'
    }

    function p(e, t) {
      return "btn--primary"
    }
    return n += '<div class="dir-btn">', o = i.if.call(t, t && t.showDirectionsIcon, {
      hash: {},
      inverse: d.program(4, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="dir-btn__link btn ', ((s = i.if.call(e, e && e.isAddress, {
          hash: {},
          inverse: d.noop,
          fn: d.program(5, p, t),
          data: t
        })) || 0 === s) && (n += s), n += ' js-dir-btn-link" href="', s = (a = i.directionsURL) || typeof (a = e && e.directionsURL) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '" title="', s = (a = i.directionsTitle) || typeof (a = e && e.directionsTitle) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '"', ((s = i.if.call(e, null == (s = e && e.answer) || !1 === s ? s : s.isMapExpanded, {
          hash: {},
          inverse: d.noop,
          fn: d.program(2, h, t),
          data: t
        })) || 0 === s) && (n += s), n += ">", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Directions", o) : c.call(e, "lp", "maps_places", "Directions", o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      fn: d.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="js-dir-btn-link" href="', s = (a = i.directionsURL) || typeof (a = e && e.directionsURL) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '" title="', s = (a = i.directionsTitle) || typeof (a = e && e.directionsTitle) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += r(s) + '"><div class="btn place-detail__cta-icon"></div><div class="place-detail__cta-text js-dir-btn-text" ', ((s = i.if.call(e, null == (s = e && e.answer) || !1 === s ? s : s.isMapExpanded, {
          hash: {},
          inverse: d.noop,
          fn: d.program(2, h, t),
          data: t
        })) || 0 === s) && (n += s), n += "><span>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Directions", o) : c.call(e, "lp", "maps_places", "Directions", o)) || 0 === s) && (n += s), n += "</span></div></a>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.directions_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = this,
      c = (i = this.merge(i, e.helpers)).helperMissing;

    function h(e, t) {
      return "is-hidden"
    }
    return r += '<form class="module directions-module js-directions-module"><span class="is-hidden js-directions-module-privacy-link"><a class="feedback-prompt__link" target="_blank" href="https://help.duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/">Privacy</a>&nbsp;|&nbsp;</span><div class="directions-module__header ', ((o = i.if.call(t, t && t.canShowMap, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (r += o), r += '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Directions", l) : c.call(t, "lp", "directions", "Directions", l)) || 0 === o) && (r += o), r += '</div><div class="directions-module__search js-directions-module-search"></div><div class="directions-module__map ', ((o = i.unless.call(t, t && t.canShowMap, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="directions-module__map__inner js-directions-module-map"></div><span class="label mapkit-static__cta">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Open Map", l) : c.call(t, "l", "Open Map", l)) || 0 === o) && (r += o), r += '</span></div><div class="directions-module__details js-directions-module-details"><div class="directions-module__cta dir-btn"><div class="dir-btn__link btn btn--primary is-disabled js-directions-module-cta">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "maps_maps_module", "Get Directions", l) : c.call(t, "lp", "maps_maps_module", "Get Directions", l)) || 0 === o) && (r += o), r += '</div></div><div class="skeleton-loader js-directions-module-skeletonloader ', ((o = i.unless.call(t, t && t.canShowMap, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="skeleton-loader__row1"><div class="skeleton-loader__section4"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section5"><div class="skeleton-loader__box skeleton-loader__box2"></div></div></div><div class="skeleton-loader__row2"><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div></div></form>'
  })), this.DDG.templates.directions_print_error_message = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="directions-print-error-message is-hidden"><div class="directions-print-error-message__logo"><img src="/assets/logo_print.svg" /></div><div class="directions-print-error-message__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "To print directions:%sGo back to the map.%sSelect the route you want to print.%sClick the print icon.%s", "<ol><li>", "</li><li>", "</li><li>", "</li></ol>", l) : d.call(t, "lp", "directions", "To print directions:%sGo back to the map.%sSelect the route you want to print.%sClick the print icon.%s", "<ol><li>", "</li><li>", "</li><li>", "</li></ol>", l)) || 0 === o) && (r += o), r += '</div><div class="directions-print-error-message__image"><img src="/assets/maps/directions-print.png" /></div></div>'
  })), this.DDG.templates.directions_print_preview = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = "function",
      h = this.escapeExpression;
    return r += '<div class="directions-print-preview modal modal--popover js-popover"><div class="directions-print-preview__overlay modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="directions-print-preview__wrap modal__box"><div class="directions-print-preview__close ddgsi ddgsi-close-bold js-modal-close"></div><div class="modal__box__content directions-print-preview__content"><div class="directions-print-preview__content__header"><h1 class="directions-print-preview__content__header__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Print Preview", l) : d.call(t, "l", "Print Preview", l)) || 0 === o) && (r += o), r += '</h1></div><div class="directions-print-preview__content__body js-directions-print-preview-body"><div class="directions-print-preview__print-header"><div class="directions-print-preview__print-header__title"><div class="directions-print-title"><div class="directions-table"><div class="directions-col directions-col--icon"><span class="directions-col--icon__image directions-col--icon__image--' + h(typeof (o = null == (o = null == (o = null == (o = t && t.model) || !1 === o ? o : o.directionsModel) || !1 === o ? o : o.currentTransportType) || !1 === o ? o : o.id) === c ? o.apply(t) : o) + '"></span></div><div class="directions-col directions-col--content"><div class="directions-route-overview__heading"><span class="directions-route-overview__heading__primary">' + h(typeof (o = null == (o = null == (o = null == (o = t && t.model) || !1 === o ? o : o.directionsModel) || !1 === o ? o : o.currentTransportType) || !1 === o ? o : o.printDisplay) === c ? o.apply(t) : o) + '</span></div><div class="directions-route-overview__item">' + h(typeof (o = t && t.start) === c ? o.apply(t) : o) + ' <span class="ddgsi ddgsi-arrow-right"></span> ' + h(typeof (o = t && t.end) === c ? o.apply(t) : o) + '</div><div class="directions-route-overview__item">' + h(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.expectedTravelTimeFormatted) === c ? o.apply(t) : o) + " &middot; " + h(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.distanceFormatted) === c ? o.apply(t) : o) + '</div></div></div></div></div><div class="directions-print-preview__print-header__logo"><img src="/assets/logo_print.svg" /></div></div><div class="directions-print-preview__print-map js-directions-print-preview-map"></div><div class="directions-print-preview__print-steps js-directions-print-preview-steps"></div></div></div><div class="directions-print-preview__footer"><div class="directions-print-preview__footer__cta btn js-directions-print-preview-cta">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Print Directions", l) : d.call(t, "lp", "directions", "Print Directions", l)) || 0 === o) && (r += o), r += "</div></div></div></div></div>"
  })), this.DDG.templates.directions_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression;
    return r += '<div class="directions-results js-directions-results"><p class="directions-results__initial-message js-directions-results-initial-message ', ((o = i.if.call(t, t && t.isRouting, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Add a starting point and destination to find a route.", l) : d.call(t, "lp", "directions", "Add a starting point and destination to find a route.", l)) || 0 === o) && (r += o), r += '</p><div class="directions-results__external-provider is-hidden js-directions-results-external-provider"><a href="">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Navigate in", l) : d.call(t, "lp", "directions", "Navigate in", l)) || 0 === o) && (r += o), r += " ", r += c(o = (n = i.externalMapProviderDisplay) || "function" == typeof (n = t && t.externalMapProviderDisplay) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + "</a></div></div>"
  })), this.DDG.templates.directions_route_info = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing,
      c = this;
    return n += '<div class="directions-route-info"><div><span class="directions-route-info__heading__primary ', ((o = i.if.call(t, t && t.hasResults, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-results"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' js-directions-module-traveltime">', o = i.if.call(t, t && t.hasResults, {
      hash: {},
      inverse: c.program(5, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.lp || e && e.lp) ? a.call(e, "directions", "No Available Routes", o) : d.call(e, "lp", "directions", "No Available Routes", o)) || 0 === s ? s : ""
      }), a),
      fn: c.program(3, (function (e, t) {
        var i, s = "";
        return s += r(typeof (i = null == (i = e && e.fastestRoute) || !1 === i ? i : i.expectedTravelTimeFormatted) === l ? i.apply(e) : i) + '<span class="directions-route-info__transport directions-route-info__transport--' + r(typeof (i = null == (i = e && e.currentTransportType) || !1 === i ? i : i.id) === l ? i.apply(e) : i) + '"></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '</span></div><div class="directions-route-info__heading__secondary js-directions-module-traveldistance">', o = i.if.call(t, t && t.hasResults, {
      hash: {},
      inverse: c.program(9, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.lp || e && e.lp) ? a.call(e, "directions", "No available routes between these locations", o) : d.call(e, "lp", "directions", "No available routes between these locations", o)) || 0 === s ? s : ""
      }), a),
      fn: c.program(7, (function (e, t) {
        var i;
        return r(typeof (i = null == (i = e && e.fastestRoute) || !1 === i ? i : i.distanceFormatted) === l ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div></div>"
  })), this.DDG.templates.directions_route_line = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="directions-route-line js-directions-route-line"></div>'
  })), this.DDG.templates.directions_route_overview = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this,
      h = "function",
      p = this.escapeExpression;
    return r += '<div class="directions-route-overview js-directions-route-overview ', ((o = i.if.call(t, t && t.isSelected, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "is-selected"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="directions-table"><div class="directions-col directions-col--icon"><span class="directions-col--icon__image directions-col--icon__image--' + p(typeof (o = null == (o = null == (o = t && t.directionsModel) || !1 === o ? o : o.currentTransportType) || !1 === o ? o : o.id) === h ? o.apply(t) : o) + '"></span></div><div class="directions-col directions-col--content"><div class="directions-route-overview__heading"><span class="directions-route-overview__heading__primary">', r += p(o = (n = i.expectedTravelTimeFormatted) || typeof (n = t && t.expectedTravelTimeFormatted) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '</span><span class="directions-route-overview__heading__secondary">&nbsp;(', r += p(o = (n = i.distanceFormatted) || typeof (n = t && t.distanceFormatted) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n) + ')</span></div><div class="directions-route-overview__item">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Via", l) : d.call(t, "lp", "directions", "Via", l)) || 0 === o) && (r += o), r += " ", r += p(o = (n = i.name) || typeof (n = t && t.name) === h ? n.call(t, {
      hash: {},
      data: a
    }) : n), o = i.if.call(t, t && t.isFastestRoute, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += " &middot; ", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "directions", "Fastest route", o) : d.call(e, "lp", "directions", "Fastest route", o)) || 0 === s) && (n += s), n
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="directions-route-overview__toggle js-directions-route-overview-toggle"><div class="js-directions-route-overview-toggle-show"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 11 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.153 9.75l1.392 1.393L10.688 6 5.545.857 4.153 2.25 7.903 6l-3.75 3.75z"/></svg>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Show Steps", l) : d.call(t, "lp", "directions", "Show Steps", l)) || 0 === o) && (r += o), r += '</div><div class="js-directions-route-overview-toggle-hide is-hidden"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 12 11"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 4.153L.857 5.545 6 10.688l5.143-5.143L9.75 4.153 6 7.903l-3.75-3.75z"/></svg>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Hide Steps", l) : d.call(t, "lp", "directions", "Hide Steps", l)) || 0 === o) && (r += o), r += '</div></div></div></div><div class="directions-route-overview__print js-directions-route-overview-print"><svg class="directions-route-overview__print__icon" width="16" height="16"><path d="M12.5 4.75h-.25V3.5a1.76 1.76 0 00-1.75-1.75h-5A1.76 1.76 0 003.75 3.5v1.25H3.5A1.76 1.76 0 001.75 6.5v4a1.76 1.76 0 001.75 1.75h.25v.25a1.76 1.76 0 001.75 1.75h5a1.76 1.76 0 001.75-1.75v-.25h.25a1.76 1.76 0 001.75-1.75v-4a1.76 1.76 0 00-1.75-1.75zM5.25 3.5a.25.25 0 01.25-.25h5a.25.25 0 01.25.25v1.25h-5.5V3.5zm5.5 9a.25.25 0 01-.25.25h-5a.25.25 0 01-.25-.25v-2a.25.25 0 01.25-.25h5a.25.25 0 01.25.25v2z"/></svg><span class="directions-route-overview__print__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Print", l) : d.call(t, "l", "Print", l)) || 0 === o) && (r += o), r += "</span></div></div>"
  })), this.DDG.templates.directions_route_step_list = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "";
    return n += '<div class="directions-route-step-list js-directions-route-step-list ', ((o = (i = this.merge(i, e.helpers)).unless.call(t, t && t.isExpanded, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"><div class="directions-route-step-list__container js-directions-route-step-list-container"></div></div>'
  })), this.DDG.templates.directions_route_step = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = "function",
      h = this;
    return l += '<div class="directions-route-step directions-table js-directions-route-step"><div class="directions-col directions-col--icon">', o = i.if.call(t, t && t.imageUrl, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<img class="directions-col--icon__image" src="' + d((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.imageUrl, a) : r.call(e, "imageProxy", e && e.imageUrl, a))) + '"/>'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</div><div class="directions-col directions-col--content"><div class="directions-route-step__heading">', o = (n = i.stepHeader) || typeof (n = t && t.stepHeader) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '</div><div class="directions-route-step__instructions">', o = i.if.call(t, t && t.instructions, {
      hash: {},
      inverse: h.program(5, (function (e, t) {
        return "&nbsp;"
      }), a),
      fn: h.program(3, (function (e, t) {
        var s, a;
        return s = (a = i.instructions) || typeof (a = e && e.instructions) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, d(s)
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div></div></div>"
  })), this.DDG.templates.directions_route = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="directions-route js-directions-route"></div>'
  })), this.DDG.templates.directions_search = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = this,
      c = (i = this.merge(i, e.helpers)).helperMissing;

    function h(e, t) {
      return "form"
    }

    function p(e, t) {
      return "div"
    }
    return r += "<", ((o = i.if.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: d.program(3, p, a),
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (r += o), r += ' class="directions-search js-directions-search"><div class="directions-search__mode"><div class="directions-search__mode__type directions-search__mode__type--drive js-directions-search-drive is-selected"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--drive"></span><span class="directions-search__mode__type__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Driving", l) : c.call(t, "lp", "directions", "Driving", l)) || 0 === o) && (r += o), r += '</span></div><div class="directions-search__mode__type directions-search__mode__type--walk js-directions-search-walk"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--walk"></span><span class="directions-search__mode__type__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Walking", l) : c.call(t, "lp", "directions", "Walking", l)) || 0 === o) && (r += o), r += '</span></div></div><div class="directions-search__input-container"><div class="directions-search__icons"><div class="directions-search__icon__start"></div><div class="directions-search__icon__route"><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div></div><div class="directions-search__icon__end"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.1917 0.910032C6.66239 0.910032 3.63672 3.43141 3.63672 7.21291C3.63672 11.4987 10.1917 18.5586 10.1917 18.5586C10.1917 18.5586 16.7468 11.4993 16.7468 7.21291C16.7468 3.43082 13.7211 0.910032 10.1917 0.910032ZM7.67034 7.41528C7.67034 6.00329 8.77975 4.89385 10.1917 4.89385C11.6037 4.89385 12.7131 6.00329 12.7131 7.41528C12.7131 8.82723 11.6037 9.93667 10.1917 9.93667C8.77975 9.93667 7.67034 8.82727 7.67034 7.41528Z"></path></svg></div></div><div class="directions-search__inputs js-directions-search-inputs"></div></div></', ((o = i.if.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: d.program(3, p, a),
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (r += o), r += ">"
  })), this.DDG.templates.directions_sidebar_mobile = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class=\'js-vertical-map-sidebar-mobile\'><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a>\x3c!-- Searchbar gets appended here --\x3e</div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Show map", l) : d.call(t, "lp", "directions", "Show map", l)) || 0 === o) && (r += o), r += "</span></div></div>"
  })), this.DDG.templates.directions_sidebar = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="js-vertical-map-sidebar-header-wrapper"><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'
  })), this.DDG.templates.directions_skeleton_loader = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = this;
    return n += '<div class="skeleton-loader ', ((o = (i = this.merge(i, e.helpers)).unless.call(t, t && t.isRouting, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '">', ((o = i.each.call(t, t && t.loadItems, {
      hash: {},
      inverse: l.noop,
      fn: l.program(3, (function (e, t) {
        return '<div class="skeleton-loader__item"><div class="skeleton-loader__item__left"><div class="skeleton-loader__box skeleton-loader__box1"></div></div><div class="skeleton-loader__item__right"><div class="skeleton-loader__section1"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box3"></div></div><div class="skeleton-loader__section3"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div>'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.feedback_button = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="btn feedback-btn"><a href="javascript:;" class="feedback-btn__send js-feedback-start">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "Share Feedback", l) : d.call(t, "lp", "feedback form", "Share Feedback", l)) || 0 === o) && (r += o), r += "</a>", ((o = i.unless.call(t, t && t.noFaces, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return '<div class="feedback-btn__icon-wrap is-hidden js-feedback-icon-wrap"><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--love js-feedback-love"></a><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--nolove js-feedback-nolove"></a></div>'
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.feedback_issue_list = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression;
    return o = i.each.call(t, t && t.issues, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<label class="feedback-modal__radio"><input class="js-feedback-radio feedback-modal__radio__input" type="radio" value="', s = (a = i.val) || typeof (a = e && e.val) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += l(s) + '" name="feedback-issues"/>', s = (a = i.text) || typeof (a = e && e.text) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += l(s) + "</label>"
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.feedback_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var s, a, o = "";
      return o += '<option value="', s = (a = i.val) || typeof (a = e && e.val) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '">', s = (a = i.text) || typeof (a = e && e.text) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</option>"
    }
    return r += '<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback modal__box--headed"><div class="js-feedback-form"><header class="modal__box__header modal__box__header--form"><h5>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "Help DuckDuckGo%s improve searches like this", "<br/>", l) : p.call(t, "lp", "feedback form", "Help DuckDuckGo%s improve searches like this", "<br/>", l)) || 0 === o) && (r += o), r += '</h5></header><div class="modal__box__content">                    <div class="frm frm--feedback">', o = i.if.call(t, t && t.defaultCategory, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s, a = "";
        return a += '<div class="frm__label feedback-modal__label js-feedback-suggestion-label"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">', ((s = i.each.call(e, e && e.options, {
          hash: {},
          inverse: h.noop,
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s) && (a += s), a += "</select></div>"
      }), a),
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="frm__label feedback-modal__label feedback-modal__subtitle">', s = (a = i.subtitleText) || typeof (a = e && e.subtitleText) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="js-feedback-issues is-invisible feedback-modal__issues is-invisible"></div><textarea placeholder="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Feedback", l) : p.call(t, "l", "Feedback", l)) || 0 === o) && (r += o), r += '" class="frm__text is-hidden feedback-modal__input feedback-modal__input--text js-feedback-suggestion"></textarea><a href="#" class="feedback-modal__submit is-disabled btn btn--primary js-feedback-submit">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Submit", l) : p.call(t, "l", "Submit", l)) || 0 === o) && (r += o), r += '</a><a href="#" class="modal__close  js-modal-close">X</a></div></div></div><div class="js-feedback-success"><header class="modal__box__header modal__box__header--success"><h5>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "Feedback Sent Successfully", l) : p.call(t, "lp", "feedback form", "Feedback Sent Successfully", l)) || 0 === o) && (r += o), r += '</h5></header><div class="modal__box__content">                    <p class="feedback-modal__message">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Thank you!", l) : p.call(t, "l", "Thank you!", l)) || 0 === o) && (r += o), r += " ", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "We use feedback like this to improve DuckDuckGo.", l) : p.call(t, "lp", "feedback form", "We use feedback like this to improve DuckDuckGo.", l)) || 0 === o) && (r += o), r += '</p><a href="#"  class="modal__close  js-modal-close">X</a></div></div></div></div></div>'
  })), this.DDG.templates.feedback_prompt = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = i.helperMissing,
      d = this;

    function c(e, t) {
      return "btn"
    }
    return o = i.if.call(t, t && t.showYesNo, {
      hash: {},
      inverse: d.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="feedback-prompt ', ((s = i.if.call(e, e && e.asButton, {
          hash: {},
          inverse: d.noop,
          fn: d.program(4, c, t),
          data: t
        })) || 0 === s) && (o += s), o += '"><a href="#" class="feedback-prompt__link js-feedback-prompt-generic">', s = (a = i.promptText) || typeof (a = e && e.promptText) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += l(s) + "</a></p>"
      }), a),
      fn: d.program(1, (function (e, t) {
        var s, a, o, d = "";
        return d += '<p class="feedback-prompt">', s = (a = i.promptText) || typeof (a = e && e.promptText) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, d += l(s) + '<a href="#" class="feedback-prompt__link js-feedback-prompt-yes">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Yes", o) : r.call(e, "l", "Yes", o)) || 0 === s) && (d += s), d += '</a><a href="#" class="feedback-prompt__link js-feedback-prompt-no">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "No", o) : r.call(e, "l", "No", o)) || 0 === s) && (d += s), d += "</a></p>"
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.footer_mobile = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;
    return r += '<div class="footer--mobile"><p class="footer__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Privacy, simplified.", l) : h.call(t, "l", "Privacy, simplified.", l)) || 0 === o) && (r += o), r += '</p><div class="footer__links">', o = i.each.call(t, null == (o = t && t.model) || !1 === o ? o : o.links, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" class="js-footer-link" data-id=', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '><img class="footer__social-icon" src="/assets/icons/footer/', s = (a = i.icon) || typeof (a = e && e.icon) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '.svg" alt="', s = (a = i.alt) || typeof (a = e && e.alt) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" aria-hidden="true"></a>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="', o = i.if.call(t, t && t.jsFooterFeedbackClassName, {
      hash: {},
      inverse: p.program(5, (function (e, t) {
        return "js-footer-feedback-btn-wrap"
      }), a),
      fn: p.program(3, (function (e, t) {
        var s, a;
        return s = (a = i.jsFooterFeedbackClassName) || typeof (a = e && e.jsFooterFeedbackClassName) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, c(s)
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '"></div></div>'
  })), this.DDG.templates.footer = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;
    return r += '<div class="footer"><div class="footer__left"><div class="footer_cards">', o = i.each.call(t, null == (o = t && t.model) || !1 === o ? o : o.cards, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<a class="footer__card js-footer-card bg-clr--white" href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" data-id=', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '><img class="footer__card__icon js-footer-lazysvg" data-src="/assets/icons/', s = (a = i.icon) || typeof (a = e && e.icon) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '.svg" alt="', s = (a = i.alt) || typeof (a = e && e.alt) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" aria-hidden="true" loading="lazy" height="50" width="50"><h3 class="footer__card__title tx-clr--slate" title="', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">', s = (a = i.title) || typeof (a = e && e.title) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '</h3><p class="footer__text">', s = (a = i.body) || typeof (a = e && e.body) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</p></a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div></div><div class="footer__right"><div class="footer__column"><h2 class="footer__title tx-clr--slate-light">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "SERP footer content", "Stay Informed", l) : p.call(t, "lp", "SERP footer content", "Stay Informed", l)) || 0 === o) && (r += o), r += '</h2><p class="footer__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "SERP footer content", "We don't track you, but others do.", l) : p.call(t, "lp", "SERP footer content", "We don't track you, but others do.", l)) || 0 === o) && (r += o), r += '</p><p class="footer__text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "SERP footer content", "Learn how to protect your privacy.", l) : p.call(t, "lp", "SERP footer content", "Learn how to protect your privacy.", l)) || 0 === o) && (r += o), r += '</p><div class="footer__links">', o = i.each.call(t, null == (o = t && t.model) || !1 === o ? o : o.links, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" class="js-footer-link" data-id="', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"><img class="footer__social-icon js-footer-lazysvg" data-src="/assets/icons/footer/', s = (a = i.icon) || typeof (a = e && e.icon) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '.svg" alt="', s = (a = i.alt) || typeof (a = e && e.alt) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" aria-hidden="true" loading="lazy" height="20" width="20"></a>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div></div></div>"
  })), this.DDG.templates.forecast_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = this,
      d = i.helperMissing;

    function c(e, t) {
      var s, a, o, c = "";
      return c += '<div class="module__warnings"><a href="' + l(typeof (s = null == (s = e && e.weatherAlert) || !1 === s ? s : s.uri) === n ? s.apply(e) : s) + '" class="module__weather-warning ', ((s = i.unless.call(e, null == (s = e && e.weatherAlert) || !1 === s ? s : s.isAdvisory, {
        hash: {},
        inverse: r.noop,
        fn: r.program(3, h, t),
        data: t
      })) || 0 === s) && (c += s), c += '"><svg class="module__weather-warning__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 4.75C9.75 5.30228 9.30229 5.75 8.75 5.75C8.19771 5.75 7.75 5.30228 7.75 4.75C7.75 4.19772 8.19771 3.75 8.75 3.75C9.30229 3.75 9.75 4.19772 9.75 4.75Z" fill="currentColor" /><path d="M8.99244 7.85607C9.05101 7.44602 8.76609 7.06612 8.35604 7.00754C7.94599 6.94896 7.56609 7.23389 7.50751 7.64394L7.00751 11.1439C6.94893 11.554 7.23386 11.9339 7.64391 11.9925C8.05396 12.051 8.43386 11.7661 8.49244 11.3561L8.99244 7.85607Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5Z" fill="currentColor" /></svg><div class="module__weather-warning__title">' + l(typeof (s = null == (s = e && e.weatherAlert) || !1 === s ? s : s.title) === n ? s.apply(e) : s) + '</div></a><div class="module__more"><a href="' + l(typeof (s = null == (s = e && e.weatherAlert) || !1 === s ? s : s.uri) === n ? s.apply(e) : s) + '" class="tx-clr--blue-dark">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "Learn %sMore%s", "", "", o) : d.call(e, "l", "Learn %sMore%s", "", "", o)) || 0 === s) && (c += s), c += "</a></div></div>"
    }

    function h(e, t) {
      return "module__weather-warning--red"
    }

    function p(e, t) {
      return "has-alert"
    }

    function u(e, t) {
      return "module__temperature-units--ie11"
    }

    function m(e, t) {
      return "module__temperature-unit--on text--primary"
    }

    function f(e, t) {
      var s, a, o = "";
      return o += '<div data-item-index="' + l(typeof (s = null == t || !1 === t ? t : t.index) === n ? s.apply(e) : s) + '" class="label-' + l(typeof (s = null == t || !1 === t ? t : t.index) === n ? s.apply(e) : s) + ' module__detail--hours__labels__item" title="', s = (a = i.summary) || typeof (a = e && e.summary) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '"><div class="module__detail__hour-label">', s = (a = i.hour) || typeof (a = e && e.hour) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '</div><img class="module__forecast-icon ', ((s = i.if.call(e, e && e.isIE11, {
        hash: {},
        inverse: r.noop,
        fn: r.program(12, g, t),
        data: t
      })) || 0 === s) && (o += s), o += '" src="', s = (a = i.icon) || typeof (a = e && e.icon) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" /><div class="module__detail__temp-label">', s = (a = i.temperature) || typeof (a = e && e.temperature) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '</div><div class="module__detail__precip-label">', ((s = i.if.call(e, e && e.precipProbability, {
        hash: {},
        inverse: r.noop,
        fn: r.program(14, _, t),
        data: t
      })) || 0 === s) && (o += s), o += "</div></div>"
    }

    function g(e, t) {
      return "module__forecast-icon--ie11"
    }

    function _(e, t) {
      var s, a, o = "";
      return o += '<img class="module__detail__precip-label__icon" src="/assets/weather/raindrop.svg"><span>', s = (a = i.precipProbability) || typeof (a = e && e.precipProbability) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "%</span>"
    }
    return o = i.with.call(t, t && t.items, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a, o, h = "";
        return ((s = i.if.call(e, e && e.weatherAlert, {
          hash: {},
          inverse: r.noop,
          fn: r.program(2, c, t),
          data: t
        })) || 0 === s) && (h += s), h += '<div class="module__top js-forecast-module-detail-top ', ((s = i.if.call(e, e && e.weatherAlert, {
          hash: {},
          inverse: r.noop,
          fn: r.program(5, p, t),
          data: t
        })) || 0 === s) && (h += s), h += '"><div class="module__current-wrap"><div class="module__current" title="', s = (a = i.summary) || typeof (a = e && e.summary) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '">', s = (a = i.summary) || typeof (a = e && e.summary) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '</div><div class="module__temperature"><div class="module__temperature-units ', ((s = i.if.call(e, e && e.isIE11, {
          hash: {},
          inverse: r.noop,
          fn: r.program(7, u, t),
          data: t
        })) || 0 === s) && (h += s), h += '"><a href="#" data-unit="c" class="module__temperature-unit js-forecast-module-detail-unit ', ((s = i.if.call(e, e && e.isMetric, {
          hash: {},
          inverse: r.noop,
          fn: r.program(9, m, t),
          data: t
        })) || 0 === s) && (h += s), h += '">&deg;C</a><span class="module__temperature-unit-separator"></span><a href="#" data-unit="f" class="module__temperature-unit js-forecast-module-detail-unit ', ((s = i.unless.call(e, e && e.isMetric, {
          hash: {},
          inverse: r.noop,
          fn: r.program(9, m, t),
          data: t
        })) || 0 === s) && (h += s), h += '">&deg;F</a></div></div></div><div class="module__place text--primary">', s = (a = i.location) || typeof (a = e && e.location) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '</div></div><div class="module__bottom js-forecast-module-detail-bottom"><div class="module__detail--hours__labels module__detail--hours__labels--desktop hours__labels--day-', s = (a = i.selected) || typeof (a = e && e.selected) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '">', ((s = i.each.call(e, null == (s = e && e.hours) || !1 === s ? s : s.labels, {
          hash: {},
          inverse: r.noop,
          fn: r.program(11, f, t),
          data: t
        })) || 0 === s) && (h += s), h += '</div><div class="module__detail--hours__labels module__detail--hours__labels--mobile hours__labels--day-', s = (a = i.selected) || typeof (a = e && e.selected) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '">', ((s = i.each.call(e, null == (s = e && e.hours) || !1 === s ? s : s.mobileLabels, {
          hash: {},
          inverse: r.noop,
          fn: r.program(11, f, t),
          data: t
        })) || 0 === s) && (h += s), h += '</div><div class="module__detail__bottom tx-clr--slate"><span class="module__humidity">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "forecast", "Humidity", o) : d.call(e, "lp", "forecast", "Humidity", o)) || 0 === s) && (h += s), h += ": <strong>", s = (a = i.humidity) || typeof (a = e && e.humidity) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '</strong>&#37;</span><span class="module__winds">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "forecast", "Wind", o) : d.call(e, "lp", "forecast", "Wind", o)) || 0 === s) && (h += s), h += ': <span class="module__winds module__winds--val"><strong>', s = (a = i.wind) || typeof (a = e && e.wind) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '</strong></span></span><span class="module__more"><a href="', s = (a = i.moreLink) || typeof (a = e && e.moreLink) === n ? a.call(e, {
          hash: {},
          data: t
        }) : a, h += l(s) + '" class="js-forecast-module-detail-more tx-clr--blue-dark">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "expand_text", "Show More", o) : d.call(e, "lp", "expand_text", "Show More", o)) || 0 === s) && (h += s), h += "</a></span></div></div>"
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.forecast_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "function",
      l = this.escapeExpression,
      r = this,
      d = i.helperMissing;

    function c(e, t) {
      var s, a, o = "";
      return o += '<div data-item-index="', s = (a = i.index) || typeof (a = e && e.index) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" class="module__items-item js-forecast-module-item ', ((s = i.if.call(e, e && e.selected, {
        hash: {},
        inverse: r.noop,
        fn: r.program(3, h, t),
        data: t
      })) || 0 === s) && (o += s), o += ' align-days__item"><div class="module__items-day text-primary">', s = (a = i.day) || typeof (a = e && e.day) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '</div><img class="module__items-icon" src="', s = (a = i.icon) || typeof (a = e && e.icon) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '" alt="', s = (a = i.summary) || typeof (a = e && e.summary) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '"><div class="module__items-unit module__items-unit--on text-primary">', s = (a = i.high) || typeof (a = e && e.high) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + '&deg;</div><div class="module__items-unit module__items-unit--low tx-clr--slate-light">', s = (a = i.low) || typeof (a = e && e.low) === n ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "&deg;</div></div>"
    }

    function h(e, t) {
      return "module__items-item--selected"
    }

    function p(e, t) {
      return "module__more-at--not-en"
    }
    return o = i.with.call(t, t && t.items, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="forecast-wrapper"><div class="module module--forecast module__container"><div class="js-forecast-module-detail"></div><div class="module__items align-days">', ((s = i.each.call(e, e && e.days, {
          hash: {},
          inverse: r.noop,
          fn: r.program(2, c, t),
          data: t
        })) || 0 === s) && (n += s), n += '</div></div><div class="module__more-at-and-feedback js-forecast-module-detail-moreatcontainer"><p class="module__more-at ', ((s = i.unless.call(e, e && e.isEnglishDevice, {
          hash: {},
          inverse: r.noop,
          fn: r.program(5, p, t),
          data: t
        })) || 0 === s) && (n += s), n += '">', o = {
          hash: {
            hideMoreAtText: 1,
            className: "zci__more-at tx-clr--slate-light js-forecast-module-detail-moreat"
          },
          data: t
        }, ((s = (a = i.moreAt || e && e.moreAt) ? a.call(e, e && e.moreAtUrl, "Dark Sky", o) : d.call(e, "moreAt", e && e.moreAtUrl, "Dark Sky", o)) || 0 === s) && (n += s), n += '</p></div><div class="clear"></div></div>'
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.images_module_thumbnails = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = this,
      l = "function",
      r = this.escapeExpression;

    function d(e, t) {
      return "is-last"
    }
    return o = i.each.call(t, t, {
      hash: {},
      inverse: n.noop,
      fn: n.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--images__thumbnails__tile ', ((s = i.if.call(e, e && e.lastOfRow, {
          hash: {},
          inverse: n.noop,
          fn: n.program(2, d, t),
          data: t
        })) || 0 === s) && (o += s), o += ' js-images-link" style="height:', s = (a = i.divHeight) || typeof (a = e && e.divHeight) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + "px;width:", s = (a = i.divWidth) || typeof (a = e && e.divWidth) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + 'px;" data-id="', s = (a = i.id) || typeof (a = e && e.id) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '"><a href="/?q=', ((s = (a = i.rq) || typeof (a = e && e.rq) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a) || 0 === s) && (o += s), o += "&iax=images&ia=images&iai=", s = (a = i.id) || typeof (a = e && e.id) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s), s = (a = i.kurl) || typeof (a = e && e.kurl) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '" class="module--images__thumbnails__link"><img src="', s = (a = i.moduleThumbnail) || typeof (a = e && e.moduleThumbnail) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '" alt="', s = (a = i.title) || typeof (a = e && e.title) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '" width="', s = (a = i.scaledWidth) || typeof (a = e && e.scaledWidth) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '" height="', s = (a = i.scaledHeight) || typeof (a = e && e.scaledHeight) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += r(s) + '" class="module--images__thumbnails__image"></a></div>'
      }), a),
      data: a
    }), o || 0 === o ? o : ""
  })), this.DDG.templates.images_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = "function",
      h = this.escapeExpression,
      p = this;
    return r += '<div class="module module--images"><div class="module__header module__header--link js-images-show-more">', o = i.if.call(t, t && t.icon_template, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="module__header__icon">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, e && e.icon_template, o) : d.call(e, "include", e && e.icon_template, o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "<span>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Images", l) : d.call(t, "l", "Images", l)) || 0 === o) && (r += o), r += " ", l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "for", l) : d.call(t, "l", "for", l)) || 0 === o) && (r += o), r += " <b>", o = (n = i.query) || typeof (n = t && t.query) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += h(o) + '</b></span></div><div class="module--images__thumbnails js-images-thumbnails"></div><a class="js-images-show-more module__footer hide--mob" href="#">', o = i.if.call(t, t && t.icon_template, {
      hash: {},
      inverse: p.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += "<span>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More Images", o) : d.call(e, "l", "More Images", o)) || 0 === s) && (n += s), n += " ", o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "for", o) : d.call(e, "l", "for", o)) || 0 === s) && (n += s), n += " <b>", s = (a = i.query) || typeof (a = e && e.query) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += h(s) + "</b></span>"
      }), a),
      fn: p.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += "<span>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More Images", o) : d.call(e, "l", "More Images", o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</a><div class="js-images-show-more module__toggle tx--bold show--mob">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "More Images", l) : d.call(t, "l", "More Images", l)) || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.keep_extension_alert = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = this,
      c = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div><div class="keep-extension-alert__blur ', ((o = i.if.call(t, t && t.invertColors, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "keep-extension-alert__blur--inverted"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"></div><aside class="keep-extension-alert ', ((o = i.if.call(t, t && t.isNativeDialogueCentered, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "keep-extension-alert--centered"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, t && t.invertColors, {
      hash: {},
      inverse: d.noop,
      fn: d.program(5, (function (e, t) {
        return "keep-extension-alert--inverted"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, t && t.isConnectorOffsetted, {
      hash: {},
      inverse: d.noop,
      fn: d.program(7, (function (e, t) {
        return "keep-extension-alert--connector-offseted"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"}><img src="/assets/common/dax-logo.svg" alt="DuckDuckGo Dax Logo"><header>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Hold on! Changing it back will disable the DuckDuckGo extension and you'll lose our privacy protection.", l) : c.call(t, "l", "Hold on! Changing it back will disable the DuckDuckGo extension and you'll lose our privacy protection.", l)) || 0 === o) && (r += o), r += "</header><p>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Choose %skeep it%s to continue protecting your privacy.", "<strong>", "</strong>", l) : c.call(t, "l", "Choose %skeep it%s to continue protecting your privacy.", "<strong>", "</strong>", l)) || 0 === o) && (r += o), r += "</p></aside></div>"
  })), this.DDG.templates.keep_extension_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "";
    return n += "<aside class='keep-extension-modal'><button class=\"ddgsi js-keep-extension-modal-close\" aria-label=\"Close\">×</button><div class='keep-extension-modal__wrapper'>        <div class='keep-extension-modal__body'><header><h2>Sorry to see you go…</h2><p>You have chosen to disable DuckDuckGo Privacy Essentials.</p><p>You can always enable it again.</p>        </header><ol><li>", ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.isWindows, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        return '<p>Go to Extensions from Window menu</p><img src="/assets/add-to-browser/install-chrome/osx-extension-instructions.svg" alt="Screenshot of Extension menu entry on Mac OS" width="438" height="263"/>'
      }), a),
      fn: this.program(1, (function (e, t) {
        return '<p>At the top right, click&nbsp;⋮&nbsp;➝&nbsp;More tools&nbsp;➝&nbsp;Extensions</p><img src="/assets/add-to-browser/install-chrome/windows-extension-instructions.svg" alt="Screenshot of Extension menu entry on Windows" width="484" height="314"/>'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '</li><li><p>Turn on the toggle for DuckDuckGo Privacy Essentials</p><div><img src="/assets/add-to-browser/install-chrome/toggle-extension.svg" alt="Screenshot of the extension management UI with an emphasis on activating the extension through a toggle control" width="814" height="464"/></div></li>        </ol><button class="js-keep-extension-modal-close">Go Back</button>            </div></div></aside>'
  })), this.DDG.templates.manual_user_location_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="modal modal--popover modal--popover--dark manual-user-location-modal js-popover"><div class="modal__overlay manual-user-location-modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box manual-user-location-modal__content"><div class="manual-user-location-modal__content-wrapper"><div class="manual-user-location-modal__map js-manual-user-location-map"><div class="map-controls map-controls--topright js-manual-user-location-map-controls"><div class="map-control map-control__close"><button class="js-manual-user-location-close btn btn--mapbox ddgsi map-control__btn ', ((o = i.if.call(t, t && t.isDarkMap, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "map-control__btn--darkmap "
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += ' js-modal-close" type="button" aria-label="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Click to collapse", l) : d.call(t, "l", "Click to collapse", l)) || 0 === o) && (r += o), r += '" title="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Click to collapse", l) : d.call(t, "l", "Click to collapse", l)) || 0 === o) && (r += o), r += '">&#215;</button></div></div></div><div class="manual-user-location-modal__tools"><div class="manual-user-location-modal__msg">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "precise_user_location", "Move map to set current location", l) : d.call(t, "lp", "precise_user_location", "Move map to set current location", l)) || 0 === o) && (r += o), r += '</div><div class="btn btn--primary js-manual-user-location-done-btn is-disabled">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "precise_user_location", "Done", l) : d.call(t, "lp", "precise_user_location", "Done", l)) || 0 === o) && (r += o), r += "</div></div></div></div></div></div>"
  })), this.DDG.templates.map_example_searches = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="vertical--map__search-examples"><h4 class="vertical--map__search-examples__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "map", "Search this area for...", l) : h.call(t, "lp", "map", "Search this area for...", l)) || 0 === o) && (r += o), r += '</h4><ul class="vertical--map__search-examples__list">', o = i.each.call(t, t && t.categories, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<li class="vertical--map__search-examples__item"><button class="vertical--map__search-examples__button module__button js-example-search-button" data-category="', s = (a = i.query) || typeof (a = e && e.query) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"><img src="/assets/maps/', s = (a = i.iconUrl) || typeof (a = e && e.iconUrl) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" class="vertical--map__search-examples__icon" />', s = (a = i.query) || typeof (a = e && e.query) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</button></li>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</ul></div><div class="vertical--map__search-web"><a href="', o = (n = i.webSearchUrl) || typeof (n = t && t.webSearchUrl) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '" class="module__link">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Show Web Results", l) : h.call(t, "lp", "noresults", "Show Web Results", l)) || 0 === o) && (r += o), r += '<span class="ddgsi ddgsi-next"></span></a></div>'
  })), this.DDG.templates.map_searchbar = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = this.escapeExpression;
    return n += '<div class="map-searchbar vertical--map__sidebar__header__search  ', ((o = i.if.call(t, t && t.isIPhone, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        return " is-iphone"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " ", ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.hideSearchButton, {
      hash: {},
      inverse: l.noop,
      fn: l.program(3, (function (e, t) {
        return " hide-search-button"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " map-searchbar--", ((o = i.if.call(t, t && t.directionsModel, {
      hash: {},
      inverse: l.program(7, (function (e, t) {
        return "maps"
      }), a),
      fn: l.program(5, (function (e, t) {
        return "directions"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '">', ((o = i.if.call(t, t && t.directionsModel, {
      hash: {},
      inverse: l.program(11, (function (e, t) {
        return "<form"
      }), a),
      fn: l.program(9, (function (e, t) {
        return "<div"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' id="search_form" class="js-vertical-map-search search--adv search--header has-text"><input type="text" class="js-vertical-map-search-input search__input--adv search__input--maps" value="" tabindex="1" placeholder="' + r("function" == typeof (o = null == (o = t && t.model) || !1 === o ? o : o.searchFormPlaceholder) ? o.apply(t) : o) + '"><input class="search__button js-vertical-map-search-button" tabindex="2" value="S" type="submit"><input class="search__clear empty js-vertical-map-search-clear" tabindex="3" value="X" type="button">', ((o = i.if.call(t, t && t.directionsModel, {
      hash: {},
      inverse: l.program(15, (function (e, t) {
        return "</form>"
      }), a),
      fn: l.program(13, (function (e, t) {
        return "</div>"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.map_sidebar_footer = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<div class="map-sidebar-footer map-sidebar-footer--' + (0, this.escapeExpression)("function" == typeof (o = null == (o = t && t.model) || !1 === o ? o : o.sidebarLayout) ? o.apply(t) : o) + " ", ((o = i.if.call(t, t && t.offsetted, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "map-sidebar-footer--offsetted"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"></div>'
  })), this.DDG.templates.map_sidebar_mobile = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class=\'js-vertical-map-sidebar-mobile\'><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-sidebar-mobile-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a>\x3c!-- Searchbar gets appended here --\x3e</div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">Show Map</span></div></div>'
  })), this.DDG.templates.map_sidebar = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="js-vertical-map-sidebar-header-wrapper"><div class="vertical--map__user-loc-container js-vertical-map-user-loc-container"></div><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'
  })), this.DDG.templates.map_type_select = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = this;
    return n += '<button class="map-type-select ', ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.small, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        return "map-type-select--small"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' map-type-select--satellite js-map-type-select-button">', ((o = i.unless.call(t, t && t.small, {
      hash: {},
      inverse: l.noop,
      fn: l.program(3, (function (e, t) {
        return '<span class="map-type-select__label js-map-type-select-label">Satellite</span>'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += "</button>"
  })), this.DDG.templates.mapkit_map = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this;
    return n += '<div class="mapkit-map ', ((o = i.unless.call(t, null == (o = t && t.model) || !1 === o ? o : o.canShowMap, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        return "is-loading"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " is-mapkit-map ", ((o = i.if.call(t, t && t.isFrozen, {
      hash: {},
      inverse: r.noop,
      fn: r.program(3, (function (e, t) {
        return "mapkit-map--frozen"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '">', o = i.if.call(t, t && t.isFrozen, {
      hash: {},
      inverse: r.noop,
      fn: r.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="mapkit-map__click-overlay js-mapkit-map-click-overlay"></div><span class="label mapkit-map__open-cta">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Open Map", o) : l.call(e, "l", "Open Map", o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.mapkit_marker = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression;
    return l += '<div class="mgl-marker mgl-marker--', o = (n = i.markerType) || typeof (n = t && t.markerType) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + '">', o = i.if.call(t, t && t.number, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="mgl-marker__num">', s = (a = i.number) || typeof (a = e && e.number) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</div>"
  })), this.DDG.templates.mapkit_position_picker = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="mapkit-map mapkit-position-picker js-mapkit-position-picker"><div class="mapkit-position-picker__marker mgl-marker js-mapkit-position-picker-marker"></div><div class="mapbox-gl__map mapkit-position-picker__map is-loading js-mapkit-position-picker-map"></div></div>'
  })), this.DDG.templates.mapkit_static_map = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this,
      h = this.escapeExpression,
      p = "function";
    return r += '<div class="mapkit-static ', ((o = i.if.call(t, t && t.showCTA, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        return "has-cta"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="mapkit-static__map" style="background-image:url(\'' + h((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.url, l) : d.call(t, "imageProxy", t && t.url, l))) + '\');"><img class="mapkit-static__img" width="', r += h(o = (n = i.width) || typeof (n = t && t.width) === p ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" height="', r += h(o = (n = i.height) || typeof (n = t && t.height) === p ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" src="' + h((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.url, l) : d.call(t, "imageProxy", t && t.url, l))) + '" /></div>', o = i.if.call(t, t && t.showCTA, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<span class="label mapkit-static__cta">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Open Map", o) : d.call(e, "l", "Open Map", o)) || 0 === s) && (n += s), n += "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.mapkit_user_location_control = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="map-control"><button class="btn ddgsi map-control__btn"><span class="map-control__icon"></span>', l = {
      hash: {
        className: "map-control__spinner"
      },
      data: a
    }, ((o = (n = i.include || t && t.include) ? n.call(t, "spinner", l) : d.call(t, "include", "spinner", l)) || 0 === o) && (r += o), r += "</button></div>"
  })), this.DDG.templates.mapkit_user_location = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="mgl-user-loc"></div>'
  })), this.DDG.templates.maps_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<div class="module module--map js-module--', n += (0, this.escapeExpression)((o = i.id) || "function" == typeof (o = t && t.id) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '"><div class="module__map js-maps-module-map"><div class="map-controls map-controls--topright js-maps-module-control-topright"></div></div><div class="module__address-detail js-maps-module-detailview"></div></div>'
  })), this.DDG.templates.module_container = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div id="m', n += r((o = i.slot) || typeof (o = t && t.slot) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + "-", n += r((o = i.count) || typeof (o = t && t.count) === l ? o.call(t, {
      hash: {},
      data: a
    }) : o) + '" class="module-slot"></div>'
  })), this.DDG.templates.module_image_header = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this,
      c = i.helperMissing;

    function h(e, t) {
      var s, a = "";
      return a += '<a class="module__header__image__link" href="', ((s = i.if.call(e, e && e.imagesModel, {
        hash: {},
        inverse: d.program(7, u, t),
        fn: d.program(5, p, t),
        data: t
      })) || 0 === s) && (a += s), a += '" ', ((s = i.unless.call(e, e && e.hideTitle, {
        hash: {},
        inverse: d.noop,
        fn: d.program(9, m, t),
        data: t
      })) || 0 === s) && (a += s), a += ' target="_blank" rel="noopener"</a>'
    }

    function p(e, t) {
      var s, a;
      return s = (a = i.imageIAURL) || typeof (a = e && e.imageIAURL) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, r(s)
    }

    function u(e, t) {
      var s, a;
      return s = (a = i.imageURL) || typeof (a = e && e.imageURL) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, r(s)
    }

    function m(e, t) {
      var s, a, o = "";
      return o += 'title="', s = (a = i.morePhotosText) || typeof (a = e && e.morePhotosText) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + '"'
    }

    function f(e, t) {
      var s, a, o = "";
      return o += '<a class="module__header__image__link" href="', s = (a = i.imageURL) || typeof (a = e && e.imageURL) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + '" title="', s = (a = i.morePhotosText) || typeof (a = e && e.morePhotosText) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + '"</a>'
    }

    function g(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.isMapExpanded, {
        hash: {},
        inverse: d.noop,
        fn: d.program(14, _, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<div class="image-tiles__col--blur">', a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[0]),
          className: "module__header__image--big module__header__image--blur"
        },
        data: t
      }, ((s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s) && (n += s), n += '<span class="module__header__image__no-more">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "No More Photos", o) : c.call(e, "l", "No More Photos", o)) || 0 === s) && (n += s), n += "</span></div>"
    }

    function v(e, t) {
      var s;
      return (s = i.if.call(e, null == (s = e && e.layout) || !1 === s ? s : s.layout_4, {
        hash: {},
        inverse: d.program(24, x, t),
        fn: d.program(17, b, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function b(e, t) {
      var s, a = "";
      return a += '<div class="image-tiles__col--wrap"><div class="image-tiles__col__cell">', ((s = i.if.call(e, null == (s = null == (s = e && e.images) || !1 === s ? s : s[1]) || !1 === s ? s : s.url, {
        hash: {},
        inverse: d.noop,
        fn: d.program(18, w, t),
        data: t
      })) || 0 === s) && (a += s), a += '</div><div class="image-tiles__col__cell">', ((s = i.if.call(e, null == (s = null == (s = e && e.images) || !1 === s ? s : s[2]) || !1 === s ? s : s.url, {
        hash: {},
        inverse: d.noop,
        fn: d.program(20, y, t),
        data: t
      })) || 0 === s) && (a += s), a += '</div></div><div class="image-tiles__col">', ((s = i.if.call(e, null == (s = null == (s = e && e.images) || !1 === s ? s : s[3]) || !1 === s ? s : s.url, {
        hash: {},
        inverse: d.noop,
        fn: d.program(22, k, t),
        data: t
      })) || 0 === s) && (a += s), a += "</div>"
    }

    function w(e, t) {
      var s, a, o;
      return a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[1]),
          className: "module__header__image--small"
        },
        data: t
      }, (s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s ? s : ""
    }

    function y(e, t) {
      var s, a, o;
      return a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[2]),
          className: "module__header__image--small"
        },
        data: t
      }, (s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s ? s : ""
    }

    function k(e, t) {
      var s, a, o;
      return a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[3]),
          className: "module__header__image--big"
        },
        data: t
      }, (s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s ? s : ""
    }

    function x(e, t) {
      var s, a = "";
      return ((s = i.if.call(e, null == (s = null == (s = e && e.images) || !1 === s ? s : s[1]) || !1 === s ? s : s.url, {
        hash: {},
        inverse: d.noop,
        fn: d.program(25, M, t),
        data: t
      })) || 0 === s) && (a += s), ((s = i.if.call(e, null == (s = null == (s = e && e.images) || !1 === s ? s : s[2]) || !1 === s ? s : s.url, {
        hash: {},
        inverse: d.noop,
        fn: d.program(27, D, t),
        data: t
      })) || 0 === s) && (a += s), a
    }

    function M(e, t) {
      var s, a, o, n = "";
      return n += '<div class="image-tiles__col">', a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[1]),
          className: "module__header__image--big"
        },
        data: t
      }, ((s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s) && (n += s), n += "</div>"
    }

    function D(e, t) {
      var s, a, o, n = "";
      return n += '<div class="image-tiles__col">', a = i.include || e && e.include, o = {
        hash: {
          image: (s = e && e.images, null == s || !1 === s ? s : s[2]),
          className: "module__header__image--big"
        },
        data: t
      }, ((s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s) && (n += s), n += "</div>"
    }

    function C(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.hideTitle, {
        hash: {},
        inverse: d.noop,
        fn: d.program(30, S, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function S(e, t) {
      var s, a, o = "";
      return o += '<span class="label module__header__image__more">', s = (a = i.morePhotosText) || typeof (a = e && e.morePhotosText) === l ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += r(s) + "</span>"
    }
    return n += '<div class="module__header ', ((o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "module__header--with-image"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' module__header--map js-place-header-map">', o = i.if.call(t, t && t.layout, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        var s, a, o, n = "";
        return ((s = i.if.call(e, e && e.isMapExpanded, {
          hash: {},
          inverse: d.program(11, f, t),
          fn: d.program(4, h, t),
          data: t
        })) || 0 === s) && (n += s), n += '<div class="module__header__image module__header__image--full js-place-header-map-link"><div class="image-tiles"><div class="image-tiles__col">', a = i.include || e && e.include, o = {
          hash: {
            className: "module__header__image--big",
            image: (s = e && e.images, null == s || !1 === s ? s : s[0])
          },
          data: t
        }, ((s = a ? a.call(e, "module_image_header_item", o) : c.call(e, "include", "module_image_header_item", o)) || 0 === s) && (n += s), n += "</div>", ((s = i.if.call(e, null == (s = e && e.layout) || !1 === s ? s : s.layout_1, {
          hash: {},
          inverse: d.program(16, v, t),
          fn: d.program(13, g, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div>", ((s = i.unless.call(e, null == (s = e && e.layout) || !1 === s ? s : s.layout_1, {
          hash: {},
          inverse: d.noop,
          fn: d.program(29, C, t),
          data: t
        })) || 0 === s) && (n += s), n += '</div><div class="module__header__shadow"></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.module_placeholder = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "";
    return n += '<div class="module module--placeholder ', ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.lsExpHide, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return "is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"></div>'
  })), this.DDG.templates.no_directions_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression;
    return r += '<div class="no-results t-m is-hidden"><p class="no-results__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "No results found.", l) : d.call(t, "lp", "directions", "No results found.", l)) || 0 === o) && (r += o), r += '</p><div class="no-results__tips"><p class="no-results__tips-title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Suggestions:", l) : d.call(t, "lp", "directions", "Suggestions:", l)) || 0 === o) && (r += o), r += '</p><ul class="no-results__tips-list"><li>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Make sure your search is spelled correctly.", l) : d.call(t, "lp", "directions", "Make sure your search is spelled correctly.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "directions", "Try adding a city, state, or postal code.", l) : d.call(t, "lp", "directions", "Try adding a city, state, or postal code.", l)) || 0 === o) && (r += o), r += '</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="', r += c(o = (n = i.webSearchUrl) || "function" == typeof (n = t && t.webSearchUrl) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Show Web Results", l) : d.call(t, "lp", "noresults", "Show Web Results", l)) || 0 === o) && (r += o), r += "</a></p></div>"
  })), this.DDG.templates.no_map_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="no-results t-m" ', o = i.if.call(t, t && t.minHeight, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += 'style="min-height:', s = (a = i.minHeight) || typeof (a = e && e.minHeight) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + 'px;"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><p class="no-results__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "No %s found for %s%s%s.", t && t.resultType, "<b>", t && t.query, "</b>", l) : h.call(t, "lp", "noresults", "No %s found for %s%s%s.", t && t.resultType, "<b>", t && t.query, "</b>", l)) || 0 === o) && (r += o), r += '</p><div class="no-results__tips"><p class="no-results__tips-title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Suggestions:", l) : h.call(t, "lp", "noresults", "Suggestions:", l)) || 0 === o) && (r += o), r += '</p><ul class="no-results__tips-list"><li>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Make sure all words are spelled correctly.", l) : h.call(t, "lp", "noresults", "Make sure all words are spelled correctly.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try different keywords.", l) : h.call(t, "lp", "noresults", "Try different keywords.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try more general keywords.", l) : h.call(t, "lp", "noresults", "Try more general keywords.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try fewer keywords.", l) : h.call(t, "lp", "noresults", "Try fewer keywords.", l)) || 0 === o) && (r += o), r += '</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="', o = (n = i.webSearchUrl) || typeof (n = t && t.webSearchUrl) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Show Web Results", l) : h.call(t, "lp", "noresults", "Show Web Results", l)) || 0 === o) && (r += o), r += "</a></p></div>"
  })), this.DDG.templates.no_more_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="no-results no-results--bottom t-m"><p class="no-results__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "No more results found for %s%s%s.", "<b>", t && t.query, "</b>", l) : d.call(t, "lp", "noresults", "No more results found for %s%s%s.", "<b>", t && t.query, "</b>", l)) || 0 === o) && (r += o), r += '</p><div class="no-results__tips"><p class="no-results__tips-title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Suggestions:", l) : d.call(t, "lp", "noresults", "Suggestions:", l)) || 0 === o) && (r += o), r += '</p><ul class="no-results__tips-list"><li>', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Make sure all words are spelled correctly.", l) : d.call(t, "lp", "noresults", "Make sure all words are spelled correctly.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try different keywords.", l) : d.call(t, "lp", "noresults", "Try different keywords.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try more general keywords.", l) : d.call(t, "lp", "noresults", "Try more general keywords.", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "Try fewer keywords.", l) : d.call(t, "lp", "noresults", "Try fewer keywords.", l)) || 0 === o) && (r += o), r += "</li></ul></div></div>"
  })), this.DDG.templates.no_results = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing,
      h = this;

    function p(e, t) {
      var s, a, o, n = "";
      return n += '<p class="no-results__web"><a class="no-results__link js-no-results-web" href="#">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Show Web Results", o) : c.call(e, "lp", "noresults", "Show Web Results", o)) || 0 === s) && (n += s), n += "</a></p>"
    }

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<div class="no-results__tips"><p class="no-results__tips-title">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Suggestions:", o) : c.call(e, "lp", "noresults", "Suggestions:", o)) || 0 === s) && (n += s), n += '</p><ul class="no-results__tips-list"><li>', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Make sure all words are spelled correctly.", o) : c.call(e, "lp", "noresults", "Make sure all words are spelled correctly.", o)) || 0 === s) && (n += s), n += "</li><li>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Try different keywords.", o) : c.call(e, "lp", "noresults", "Try different keywords.", o)) || 0 === s) && (n += s), n += "</li><li>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Try more general keywords.", o) : c.call(e, "lp", "noresults", "Try more general keywords.", o)) || 0 === s) && (n += s), n += "</li><li>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "Try fewer keywords.", o) : c.call(e, "lp", "noresults", "Try fewer keywords.", o)) || 0 === s) && (n += s), n += "</li></ul></div>", ((s = i.if.call(e, e && e.showRetryMessage, {
        hash: {},
        inverse: h.noop,
        fn: h.program(9, m, t),
        data: t
      })) || 0 === s) && (n += s), n
    }

    function m(e, t) {
      var s, a, o, n = "";
      return n += '<p class="no-results__retry">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "%sClick here%s to try again, if you think there should be results for this search.", '<a class="no-results__link js-no-results-retry" href="#">', "</a>", o) : c.call(e, "lp", "noresults", "%sClick here%s to try again, if you think there should be results for this search.", '<a class="no-results__link js-no-results-retry" href="#">', "</a>", o)) || 0 === s) && (n += s), n += "</p>"
    }
    return r += '<div class="no-results t-m" ', o = i.if.call(t, t && t.minHeight, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += 'style="min-height:', s = (a = i.minHeight) || "function" == typeof (a = e && e.minHeight) ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + 'px;"'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '><p class="no-results__title">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "noresults", "No %s found for %s%s%s.", t && t.resultType, "<b>", t && t.query, "</b>", l) : c.call(t, "lp", "noresults", "No %s found for %s%s%s.", t && t.resultType, "<b>", t && t.query, "</b>", l)) || 0 === o) && (r += o), r += "</p>", o = i.if.call(t, t && t.resetFilters, {
      hash: {},
      inverse: h.program(5, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.showWebLink, {
          hash: {},
          inverse: h.program(8, u, t),
          fn: h.program(6, p, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: h.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="no-results__retry">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "noresults", "%sReset filters %s", '<a class="no-results__link js-no-results-retry" href="#">', "</a>", o) : c.call(e, "lp", "noresults", "%sReset filters %s", '<a class="no-results__link js-no-results-retry" href="#">', "</a>", o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.open_in_app = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="open-in-app js-open-in-app"><a class="open-in-app__deep-link js-open-in-app-link" href="#" aria-describedby="open-in-app-info">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "App", l) : d.call(t, "l", "App", l)) || 0 === o) && (r += o), r += "</a></div>"
  })), this.DDG.templates.place_detail = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.renderStars || e && e.renderStars) ? a.call(e, e && e.ratingClass, o) : h.call(e, "renderStars", e && e.ratingClass, o)) || 0 === s ? s : ""
    }

    function m(e, t) {
      return 'target="_blank" rel="noopener"'
    }

    function f(e, t) {
      return "&nbsp;&middot;&nbsp;"
    }

    function g(e, t) {
      var s, a, o = "";
      return ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textStatus, {
        hash: {},
        inverse: p.noop,
        fn: p.program(26, _, t),
        data: t
      })) || 0 === s) && (o += s), s = (a = i.categories) || typeof (a = e && e.categories) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s)
    }

    function _(e, t) {
      return '<span class="place-detail__dot">&nbsp;&middot;&nbsp;</span>'
    }

    function v(e, t) {
      var s, a, o = "";
      return o += '<p class="place-detail__description">', s = (a = i.description) || typeof (a = e && e.description) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</p>"
    }

    function b(e, t) {
      return ' target="_blank" rel="noopener"'
    }

    function w(e, t) {
      var s, a, o, n = "";
      return n += '<li class="place-detail__cta-item place-detail__cta-item--call"><a class="js-place-detail-call" href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Call", o) : h.call(e, "lp", "maps_places", "Call", o)) || 0 === s) && (n += s), n += "</span></a></li>"
    }

    function y(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.showAttribution, {
        hash: {},
        inverse: p.noop,
        fn: p.program(44, k, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function k(e, t) {
      var s, a, o = "";
      return o += '<p class="place-detail__more-at place-detail__more-at--', s = (a = i.sourceId) || typeof (a = e && e.sourceId) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '"> <a class="module__link place-detail__more-at__logo place-detail__more-at__logo--', s = (a = i.sourceId) || typeof (a = e && e.sourceId) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '" href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '" ', ((s = i.if.call(e, e && e.isMapExpanded, {
        hash: {},
        inverse: p.noop,
        fn: p.program(15, m, t),
        data: t
      })) || 0 === s) && (o += s), o += "></a></p>"
    }

    function x(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item"><span class="place-detail__data__label">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Hours", o) : h.call(e, "lp", "maps_places", "Hours", o)) || 0 === s) && (n += s), n += ': </span><span class="place-detail__hours-toggle js-place-detail-hours-toggle"><span class="place-detail__status place-detail__status--' + c(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.style) === d ? s.apply(e) : s) + '">' + c(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.textStatus) === d ? s.apply(e) : s) + "</span>", ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textHour, {
        hash: {},
        inverse: p.noop,
        fn: p.program(18, f, t),
        data: t
      })) || 0 === s) && (n += s), n += '<span class="module__link">', ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textHour, {
        hash: {},
        inverse: p.noop,
        fn: p.program(47, M, t),
        data: t
      })) || 0 === s) && (n += s), n += '&nbsp;<span class="ddgsi ddgsi-down js-place-detail-hours-toggle-icon"></span></span></span></p><div class="js-place-detail-hours"></div>'
    }

    function M(e, t) {
      var i, s = "";
      return s += c(typeof (i = null == (i = e && e.hoursStatus) || !1 === i ? i : i.textHour) === d ? i.apply(e) : i) + "&nbsp;"
    }

    function D(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item"><strong class="place-detail__data__label">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Address", o) : h.call(e, "lp", "maps_places", "Address", o)) || 0 === s) && (n += s), n += ": </strong>", s = (a = i.address) || typeof (a = e && e.address) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</p>"
    }

    function C(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item"><strong class="place-detail__data__label">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Phone", o) : h.call(e, "lp", "maps_places", "Phone", o)) || 0 === s) && (n += s), n += ': </strong><a class="module__link js-place-detail-phone" href="tel:', s = (a = i.phone) || typeof (a = e && e.phone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '">', s = (a = i.displayPhone) || typeof (a = e && e.displayPhone) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</a></p>"
    }

    function S(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item"><strong class="place-detail__data__label">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Menu", o) : h.call(e, "lp", "maps_places", "Menu", o)) || 0 === s) && (n += s), n += ': </strong><a class="module__link" href="', s = (a = i.menuURL) || typeof (a = e && e.menuURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '"', ((s = i.if.call(e, e && e.isMapExpanded, {
        hash: {},
        inverse: p.noop,
        fn: p.program(35, b, t),
        data: t
      })) || 0 === s) && (n += s), n += ">", s = (a = i.viewOnExternalServiceText) || typeof (a = e && e.viewOnExternalServiceText) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</a></p>"
    }

    function I(e, t) {
      var s, a = "";
      return ((s = i.if.call(e, e && e.showAttribution, {
        hash: {},
        inverse: p.noop,
        fn: p.program(56, T, t),
        data: t
      })) || 0 === s) && (a += s), a += "                    "
    }

    function T(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item place-detail__attribution ', ((s = i.if.call(e, e && e.canExpand, {
        hash: {},
        inverse: p.noop,
        fn: p.program(57, L, t),
        data: t
      })) || 0 === s) && (n += s), n += '"><a class="module__link" href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.url, o) : h.call(e, "favicon", e && e.url, o)) || 0 === s) && (n += s), n += " ", s = (a = i.moreAtExternalServiceText) || typeof (a = e && e.moreAtExternalServiceText) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + "</a></p>"
    }

    function L(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.expanded, {
        hash: {},
        inverse: p.noop,
        fn: p.program(58, $, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function $(e, t) {
      return " is-hidden"
    }

    function E(e, t) {
      var s, a, o, n = "";
      return n += '<p class="place-detail__item"><span class="place-detail__data__label">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Hours", o) : h.call(e, "lp", "maps_places", "Hours", o)) || 0 === s) && (n += s), n += ': </span><span class="place-detail__hours-toggle js-place-detail-hours-toggle"><span class="place-detail__status place-detail__status--' + c(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.style) === d ? s.apply(e) : s) + '">' + c(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.textStatus) === d ? s.apply(e) : s) + "</span>", ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textHour, {
        hash: {},
        inverse: p.noop,
        fn: p.program(18, f, t),
        data: t
      })) || 0 === s) && (n += s), n += '<span class="module__link">', ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textHour, {
        hash: {},
        inverse: p.noop,
        fn: p.program(64, P, t),
        data: t
      })) || 0 === s) && (n += s), n += '&nbsp;<span class="ddgsi ddgsi-down js-place-detail-hours-toggle-icon"></span></span></span></p><div class="js-place-detail-hours"></div>'
    }

    function P(e, t) {
      var i;
      return c(typeof (i = null == (i = e && e.hoursStatus) || !1 === i ? i : i.textHour) === d ? i.apply(e) : i)
    }

    function A(e, t, s) {
      var a, o, n = "";
      return n += '<div class="review place-detail__reviews__review"><div class="review__user"><a ', ((a = i.unless.call(e, null == (a = e && e.user) || !1 === a ? a : a.image, {
        hash: {},
        inverse: p.noop,
        fn: p.program(68, R, t),
        data: t
      })) || 0 === a) && (n += a), n += 'href="', ((a = i.if.call(e, null == (a = e && e.user) || !1 === a ? a : a.url, {
        hash: {},
        inverse: p.program(72, j, t),
        fn: p.program(70, V, t),
        data: t
      })) || 0 === a) && (n += a), n += '"', ((a = i.if.call(e, s && s.isMapExpanded, {
        hash: {},
        inverse: p.noop,
        fn: p.program(74, H, t),
        data: t
      })) || 0 === a) && (n += a), n += 'title="' + c(typeof (a = null == (a = e && e.user) || !1 === a ? a : a.userOnServiceText) === d ? a.apply(e) : a) + '">', ((a = i.if.call(e, null == (a = e && e.user) || !1 === a ? a : a.image, {
        hash: {},
        inverse: p.noop,
        fn: p.program(76, G, t),
        data: t
      })) || 0 === a) && (n += a), n += '</a></div><div class="review__content"><p class="place-detail__rating">', ((a = i.if.call(e, e && e.ratingImage, {
        hash: {},
        inverse: p.program(80, F, t),
        fn: p.program(78, U, t),
        data: t
      })) || 0 === a) && (n += a), n += '<span class="review__rating-date">', a = (o = i.formattedDate) || typeof (o = e && e.formattedDate) === d ? o.call(e, {
        hash: {},
        data: t
      }) : o, n += c(a) + '</span></p><p class="place-detail__reviews__review__text">', a = (o = i.excerpt) || typeof (o = e && e.excerpt) === d ? o.call(e, {
        hash: {},
        data: t
      }) : o, n += c(a) + ' <a class="module__link" href="', a = (o = i.url) || typeof (o = e && e.url) === d ? o.call(e, {
        hash: {},
        data: t
      }) : o, n += c(a) + '"', ((a = i.if.call(e, s && s.isMapExpanded, {
        hash: {},
        inverse: p.noop,
        fn: p.program(35, b, t),
        data: t
      })) || 0 === a) && (n += a), n += ">" + c(typeof (a = s && s.moreOnExternalServiceText) === d ? a.apply(e) : a) + "</a></p></div></div>"
    }

    function R(e, t) {
      return 'class="review__user__url--fallback"'
    }

    function V(e, t) {
      var i;
      return c(typeof (i = null == (i = e && e.user) || !1 === i ? i : i.url) === d ? i.apply(e) : i)
    }

    function j(e, t) {
      var s, a;
      return s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, c(s)
    }

    function H(e, t) {
      return ' target="_blank" rel="noopener" '
    }

    function G(e, t) {
      var s, a, o, n = "";
      return n += '<img class="review__user__image" src="' + c((o = {
        hash: {},
        data: t
      }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, null == (s = e && e.user) || !1 === s ? s : s.image, o) : h.call(e, "imageProxy", null == (s = e && e.user) || !1 === s ? s : s.image, o))) + '" width="42" height="42" />'
    }

    function U(e, t) {
      var s, a, o = "";
      return o += '<img class="review__rating-stars"src="' + c((a = {
        hash: {},
        data: t
      }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.ratingImage, a) : h.call(e, "imageProxy", e && e.ratingImage, a))) + '" />'
    }

    function F(e, t) {
      var s, a = "";
      return a += " ", ((s = i.if.call(e, e && e.ratingClass, {
        hash: {},
        inverse: p.noop,
        fn: p.program(12, u, t),
        data: t
      })) || 0 === s) && (a += s), a
    }

    function B(e, t) {
      var s, a, o = "";
      return o += '<div class="place-detail__reviews_link"><a class="module__link" href="', s = (a = i.reviewsURL) || typeof (a = e && e.reviewsURL) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '" target="_blank" rel="noopener">', s = (a = i.moreReviewsOnExternalServiceText) || typeof (a = e && e.moreReviewsOnExternalServiceText) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</a></div>"
    }
    return r += '<div class="place-detail ', ((o = i.if.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        return "place-detail--map"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="module__section place-detail__section', ((o = i.if.call(t, t && t.canExpand, {
      hash: {},
      inverse: p.noop,
      fn: p.program(3, (function (e, t) {
        return " module__section--minimized"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><div class="place-detail__item place-detail__header-row"><h2 class="module__title place-detail__name js-place-detail-title">', o = i.if.call(t, t && t.isMapExpanded, {
      hash: {},
      inverse: p.program(7, (function (e, t) {
        var s, a, o = "";
        return o += '<span class="module__title__link js-place-detail-map">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      fn: p.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<a class="module__title__link" href="', s = (a = i.titleUrl) || typeof (a = e && e.titleUrl) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" title="', s = (a = i.viewOnExternalServiceText) || typeof (a = e && e.viewOnExternalServiceText) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" target="_blank" rel="noopener">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</h2></div><p class="place-detail__item place-detail__review-count">', o = i.if.call(t, t && t.ratingImage, {
      hash: {},
      inverse: p.program(11, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.ratingClass, {
          hash: {},
          inverse: p.noop,
          fn: p.program(12, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: p.program(9, (function (e, t) {
        var s, a, o = "";
        return o += '<img class="review__rating-stars" src="' + c((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.ratingImage, a) : h.call(e, "imageProxy", e && e.ratingImage, a))) + '" />'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.numberOfReviews, {
      hash: {},
      inverse: p.noop,
      fn: p.program(14, (function (e, t) {
        var s, a, o = "";
        return o += '<a class="place-detail__review-count__link" href="', s = (a = i.reviewsURL) || typeof (a = e && e.reviewsURL) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" ', ((s = i.if.call(e, e && e.isMapExpanded, {
          hash: {},
          inverse: p.noop,
          fn: p.program(15, m, t),
          data: t
        })) || 0 === s) && (o += s), o += ">", s = (a = i.source) || typeof (a = e && e.source) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + " (", s = (a = i.numberOfReviews) || typeof (a = e && e.numberOfReviews) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + ")</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.priceSymbol, {
      hash: {},
      inverse: p.noop,
      fn: p.program(17, (function (e, t) {
        var s, a, o = "";
        return ((s = i.if.call(e, e && e.numberOfReviews, {
          hash: {},
          inverse: p.noop,
          fn: p.program(18, f, t),
          data: t
        })) || 0 === s) && (o += s), o += '<span class="place-detail__review-count__price">', s = (a = i.priceSymbol) || typeof (a = e && e.priceSymbol) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</p><p class="place-detail__item place-detail__subtitle">', o = i.if.call(t, null == (o = t && t.hoursStatus) || !1 === o ? o : o.textStatus, {
      hash: {},
      inverse: p.noop,
      fn: p.program(20, (function (e, t) {
        var i, s = "";
        return s += '<span class="place-detail__status place-detail__status--' + c(typeof (i = null == (i = e && e.hoursStatus) || !1 === i ? i : i.style) === d ? i.apply(e) : i) + '">' + c(typeof (i = null == (i = e && e.hoursStatus) || !1 === i ? i : i.textStatus) === d ? i.apply(e) : i) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.showSubtitlePlaceholder, {
      hash: {},
      inverse: p.program(24, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.categories, {
          hash: {},
          inverse: p.noop,
          fn: p.program(25, g, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.description, {
          hash: {},
          inverse: p.noop,
          fn: p.program(28, v, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      fn: p.program(22, (function (e, t) {
        return '<div class="place-detail__subtitle-placeholder"></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</p></div>", o = i.if.call(t, t && t.showTabs, {
      hash: {},
      inverse: p.noop,
      fn: p.program(30, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="module__section module__nav place-detail__section"><div class="module__nav__item place-detail__cta-text is-active js-place-detail-tab-nav" data-tab-nav="overview">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Overview", o) : h.call(e, "lp", "maps_places", "Overview", o)) || 0 === s) && (n += s), n += '</div><div class="module__nav__item place-detail__cta-text js-place-detail-tab-nav" data-tab-nav="reviews">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Reviews", o) : h.call(e, "lp", "maps_places", "Reviews", o)) || 0 === s) && (n += s), n += "</div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="', ((o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: p.noop,
      fn: p.program(32, (function (e, t) {
        return "js-place-detail-tab-content"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" data-tab-content="overview"><div class="module__section place-detail__section place-detail__section--tab"><ul class="place-detail__cta-block">', o = i.if.call(t, t && t.website, {
      hash: {},
      inverse: p.noop,
      fn: p.program(34, (function (e, t) {
        var s, a, o, n = "";
        return n += '<li class="place-detail__cta-item place-detail__cta-item--website"><a class="js-place-detail-website" href="', s = (a = i.website) || typeof (a = e && e.website) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '"', ((s = i.if.call(e, e && e.isMapExpanded, {
          hash: {},
          inverse: p.noop,
          fn: p.program(35, b, t),
          data: t
        })) || 0 === s) && (n += s), n += '><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "Website", o) : h.call(e, "lp", "maps_places", "Website", o)) || 0 === s) && (n += s), n += "</span></a></li>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<li class="place-detail__cta-item place-detail__cta-item--directions js-place-detail-directions"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "maps_places", "Directions", l) : h.call(t, "lp", "maps_places", "Directions", l)) || 0 === o) && (r += o), r += "</span></li>", o = i.if.call(t, t && t.showMapCta, {
      hash: {},
      inverse: p.program(39, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.phone, {
          hash: {},
          inverse: p.noop,
          fn: p.program(40, w, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: p.program(37, (function (e, t) {
        var s, a, o, n = "";
        return n += '<li class="place-detail__cta-item place-detail__cta-item--map"><div class="js-place-detail-map"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Map", o) : h.call(e, "l", "Map", o)) || 0 === s) && (n += s), n += "</span></div></li>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</ul></div>", o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: p.noop,
      fn: p.program(42, (function (e, t) {
        var s, a = "";
        return a += '<div class="module__section">', ((s = i.if.call(e, e && e.url, {
          hash: {},
          inverse: p.noop,
          fn: p.program(43, y, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.hoursToday, {
          hash: {},
          inverse: p.noop,
          fn: p.program(46, x, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.address, {
          hash: {},
          inverse: p.noop,
          fn: p.program(49, D, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.phone, {
          hash: {},
          inverse: p.noop,
          fn: p.program(51, C, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.menuURL, {
          hash: {},
          inverse: p.noop,
          fn: p.program(53, S, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.unless.call(e, e && e.reviews, {
          hash: {},
          inverse: p.noop,
          fn: p.program(55, I, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><div class="module__section place-detail__section place-detail__section--bordered ', ((o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: p.noop,
      fn: p.program(60, (function (e, t) {
        return "js-place-detail-tab-content is-hidden"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" data-tab-content="reviews">', ((o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: p.noop,
      fn: p.program(43, y, a),
      data: a
    })) || 0 === o) && (r += o), o = i.unless.call(t, t && t.isMobile, {
      hash: {},
      inverse: p.noop,
      fn: p.program(62, (function (e, t) {
        var s, a = "";
        return a += '<div class="place-detail__data">', ((s = i.if.call(e, e && e.address, {
          hash: {},
          inverse: p.noop,
          fn: p.program(49, D, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.phone, {
          hash: {},
          inverse: p.noop,
          fn: p.program(51, C, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.hoursToday, {
          hash: {},
          inverse: p.noop,
          fn: p.program(63, E, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.menuURL, {
          hash: {},
          inverse: p.noop,
          fn: p.program(53, S, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.reviews, {
      hash: {},
      inverse: p.noop,
      fn: p.program(66, (function (e, t) {
        var s, a, o, n = "";
        return n += ' <div class="place-detail__reviews"><p class="place-detail__item"><strong class="place-detail__data__label">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "maps_places", "What people say:", o) : h.call(e, "lp", "maps_places", "What people say:", o)) || 0 === s) && (n += s), n += '</strong></p><div class="place-detail__reviews__container">', ((s = i.each.call(e, e && e.reviews, {
          hash: {},
          inverse: p.noop,
          fn: p.programWithDepth(67, A, t, e),
          data: t
        })) || 0 === s) && (n += s), n += "</div>", ((s = i.if.call(e, e && e.reviewsURL, {
          hash: {},
          inverse: p.noop,
          fn: p.program(82, B, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.if.call(t, t && t.showAttribution, {
      hash: {},
      inverse: p.noop,
      fn: p.program(84, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="place-detail__item place-detail__attribution ', ((s = i.if.call(e, e && e.canExpand, {
          hash: {},
          inverse: p.noop,
          fn: p.program(57, L, t),
          data: t
        })) || 0 === s) && (n += s), n += '"><a class="module__link" href="', s = (a = i.url) || typeof (a = e && e.url) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + '" ', ((s = i.if.call(e, e && e.isMapExpanded, {
          hash: {},
          inverse: p.noop,
          fn: p.program(35, b, t),
          data: t
        })) || 0 === s) && (n += s), n += ">", o = {
          hash: {},
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, e && e.url, o) : h.call(e, "favicon", e && e.url, o)) || 0 === s) && (n += s), n += " ", s = (a = i.moreAtExternalServiceText) || typeof (a = e && e.moreAtExternalServiceText) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += c(s) + "</a></p>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.place_header = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = i.helperMissing,
      h = this;

    function p(e, t) {
      var s, a, o = "";
      return o += '<span class="label module__header__image__more">', s = (a = i.morePhotosText) || typeof (a = e && e.morePhotosText) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</span>"
    }
    return l += '<div class="module__header ', ((o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        return "module__header--with-image"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += " module__header--", o = (n = i.sourceId) || typeof (n = t && t.sourceId) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + ' js-place-header">', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="module__header__image" href="', s = (a = i.imageURL) || typeof (a = e && e.imageURL) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += d(s) + '" title="', s = (a = i.morePhotosText) || typeof (a = e && e.morePhotosText) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += d(s) + '"style="background-image: url(\'' + d((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : c.call(e, "imageProxy", e && e.image, o))) + '\')"><img class="module__header__image__img" src="' + d((o = {
          hash: {},
          data: t
        }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, e && e.image, o) : c.call(e, "imageProxy", e && e.image, o))) + '" />', ((s = i.unless.call(e, e && e.isScrapedImage, {
          hash: {},
          inverse: h.noop,
          fn: h.program(4, p, t),
          data: t
        })) || 0 === s) && (n += s), n += "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<div class="module__header__map js-place-header-map"></div><div class="module__header__shadow"></div></div>'
  })), this.DDG.templates.place_hours = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = i.helperMissing,
      c = this;

    function h(e, t) {
      return "place-hours__item--current"
    }

    function p(e, t) {
      var i;
      return r(typeof (i = e && e.hours) === l ? i.apply(e) : i)
    }

    function u(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.l || e && e.l) ? a.call(e, "Closed", o) : d.call(e, "l", "Closed", o)) || 0 === s ? s : ""
    }
    return n += '<div class="place-hours is-hidden"><span class="place-hours__close ddgsi js-place-hours-close">X</span><table><tbody>', o = i.each.call(t, t && t.hours, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a = "";
        return a += '<tr class="place-hours__item ', ((s = i.if.call(e, e && e.isToday, {
          hash: {},
          inverse: c.noop,
          fn: c.program(2, h, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><td class="place-hours__item__day">' + r(typeof (s = e && e.weekDay) === l ? s.apply(e) : s) + '</td><td class="place-hours__item__hours">', ((s = i.if.call(e, e && e.hours, {
          hash: {},
          inverse: c.program(6, u, t),
          fn: c.program(4, p, t),
          data: t
        })) || 0 === s) && (a += s), a += "</td></tr>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</tbody></table></div>"
  })), this.DDG.templates.place_list_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression,
      c = "function",
      h = this;

    function p(e, t) {
      var s, a, o = "";
      return o += '<img class="review__rating-stars place-list-item__rating__image" src="' + d((a = {
        hash: {},
        data: t
      }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.ratingImage, a) : r.call(e, "imageProxy", e && e.ratingImage, a))) + '" />'
    }

    function u(e, t) {
      var s;
      return (s = i.if.call(e, e && e.ratingClass, {
        hash: {},
        inverse: h.noop,
        fn: h.program(9, m, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.renderStars || e && e.renderStars) ? a.call(e, e && e.ratingClass, o) : r.call(e, "renderStars", e && e.ratingClass, o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      var s, a, o = "";
      return s = (a = i.source) || typeof (a = e && e.source) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + " (", s = (a = i.numberOfReviews) || typeof (a = e && e.numberOfReviews) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + ")"
    }

    function g(e, t) {
      var s, a = "";
      return ((s = i.if.call(e, e && e.priceSymbol, {
        hash: {},
        inverse: h.noop,
        fn: h.program(14, _, t),
        data: t
      })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.categories, {
        hash: {},
        inverse: h.noop,
        fn: h.program(17, b, t),
        data: t
      })) || 0 === s) && (a += s), a
    }

    function _(e, t) {
      var s, a, o = "";
      return ((s = i.if.call(e, e && e.numberOfReviews, {
        hash: {},
        inverse: h.noop,
        fn: h.program(15, v, t),
        data: t
      })) || 0 === s) && (o += s), s = (a = i.priceSymbol) || typeof (a = e && e.priceSymbol) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s)
    }

    function v(e, t) {
      return "&nbsp;&middot;&nbsp;"
    }

    function b(e, t) {
      var s, a, o = "";
      return o += "&nbsp;&middot;&nbsp;", s = (a = i.categories) || typeof (a = e && e.categories) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s)
    }

    function w(e, t) {
      var s, a = "";
      return a += '<li class="place-list-item__info__item">', ((s = i.if.call(e, e && e.priceSymbol, {
        hash: {},
        inverse: h.noop,
        fn: h.program(21, y, t),
        data: t
      })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.categories, {
        hash: {},
        inverse: h.noop,
        fn: h.program(23, k, t),
        data: t
      })) || 0 === s) && (a += s), a += "</li>"
    }

    function y(e, t) {
      var s, a;
      return s = (a = i.priceSymbol) || typeof (a = e && e.priceSymbol) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, d(s)
    }

    function k(e, t) {
      var s, a, o = "";
      return ((s = i.if.call(e, e && e.priceSymbol, {
        hash: {},
        inverse: h.noop,
        fn: h.program(15, v, t),
        data: t
      })) || 0 === s) && (o += s), s = (a = i.categories) || typeof (a = e && e.categories) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s)
    }

    function x(e, t) {
      var s, a, o = "";
      return o += " · ", s = (a = i.distanceStr) || typeof (a = e && e.distanceStr) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s)
    }

    function M(e, t) {
      var i, s = "";
      return s += "&nbsp;&middot;&nbsp;" + d(typeof (i = null == (i = e && e.hoursStatus) || !1 === i ? i : i.textHour) === c ? i.apply(e) : i)
    }
    return l += '<div class="module__section place-list-item js-place-list-item"> ', o = i.if.call(t, t && t.image, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="place-list-item__image"style="background-image: url(\'' + d((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.image, a) : r.call(e, "imageProxy", e && e.image, a))) + '\')"><img class="place-list-item__image__img" src="' + d((a = {
          hash: {},
          data: t
        }, (s = i.imageProxy || e && e.imageProxy) ? s.call(e, e && e.image, a) : r.call(e, "imageProxy", e && e.image, a))) + '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<h2 class="place-list-item__title">', o = i.if.call(t, t && t.number, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        var s, a, o = "";
        return s = (a = i.number) || typeof (a = e && e.number) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + ". "
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = (n = i.name) || typeof (n = t && t.name) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</h2>", o = i.if.call(t, t && t.rating, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<p class="place-list-item__rating place-list-item__rating--', s = (a = i.sourceId) || typeof (a = e && e.sourceId) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '">', ((s = i.if.call(e, e && e.ratingImage, {
          hash: {},
          inverse: h.program(8, u, t),
          fn: h.program(6, p, t),
          data: t
        })) || 0 === s) && (o += s), o += '<span class="review__count place-list-item__rating__count">', ((s = i.if.call(e, e && e.numberOfReviews, {
          hash: {},
          inverse: h.noop,
          fn: h.program(11, f, t),
          data: t
        })) || 0 === s) && (o += s), ((s = i.unless.call(e, e && e.showPriceCategoryNewLine, {
          hash: {},
          inverse: h.noop,
          fn: h.program(13, g, t),
          data: t
        })) || 0 === s) && (o += s), o += "</span></p>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<ul class="place-list-item__info">', o = i.if.call(t, t && t.showPriceCategoryNewLine, {
      hash: {},
      inverse: h.noop,
      fn: h.program(19, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.hasPriceOrCategory, {
          hash: {},
          inverse: h.noop,
          fn: h.program(20, w, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.shortAddress, {
      hash: {},
      inverse: h.noop,
      fn: h.program(25, (function (e, t) {
        var s, a, o = "";
        return o += '<li class="place-list-item__info__item">', s = (a = i.shortAddress) || typeof (a = e && e.shortAddress) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s), ((s = i.if.call(e, e && e.distanceStr, {
          hash: {},
          inverse: h.noop,
          fn: h.program(26, x, t),
          data: t
        })) || 0 === s) && (o += s), o += "</li>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.addressLine2, {
      hash: {},
      inverse: h.noop,
      fn: h.program(28, (function (e, t) {
        var s, a, o = "";
        return o += '<li class="place-list-item__info__item">', s = (a = i.addressLine2) || typeof (a = e && e.addressLine2) === c ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</li>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), o = i.if.call(t, t && t.hoursToday, {
      hash: {},
      inverse: h.noop,
      fn: h.program(30, (function (e, t) {
        var s, a = "";
        return a += '<li class="place-list-item__info__item"><span class="place-detail__status place-detail__status--' + d(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.style) === c ? s.apply(e) : s) + '">' + d(typeof (s = null == (s = e && e.hoursStatus) || !1 === s ? s : s.textStatus) === c ? s.apply(e) : s) + "</span>", ((s = i.if.call(e, null == (s = e && e.hoursStatus) || !1 === s ? s : s.textHour, {
          hash: {},
          inverse: h.noop,
          fn: h.program(31, M, t),
          data: t
        })) || 0 === s) && (a += s), a += "</li>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += "</ul></div>"
  })), this.DDG.templates.place_snippet = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = "function",
      d = this.escapeExpression,
      c = this;

    function h(e, t) {
      var s, a, o = "";
      return o += '<a href="#" class="module__link place-snippet__link js-place-snippet-trigger">', s = (a = i.title) || typeof (a = e && e.title) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</a>"
    }

    function p(e, t) {
      var s, a;
      return s = (a = i.title) || typeof (a = e && e.title) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, d(s)
    }
    return l += '<div class="module place-snippet"><h2 class="place-snippet__header module__title__link">', o = i.if.call(t, t && t.url, {
      hash: {},
      inverse: c.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.action, {
          hash: {},
          inverse: c.program(6, p, t),
          fn: c.program(4, h, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: c.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<a href="', s = (a = i.url) || typeof (a = e && e.url) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + '" class="module__link place-snippet__link">', s = (a = i.title) || typeof (a = e && e.title) === r ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += d(s) + "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '</h2><p class="place-snippet__subtitle module__title__sub"><a href="#" class="place-snippet__subtitle-name js-place-snippet-subtitle-name">', o = (n = i.name) || typeof (n = t && t.name) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</a>", o = (n = i.infoType) || typeof (n = t && t.infoType) === r ? n.call(t, {
      hash: {},
      data: a
    }) : n, l += d(o) + "</p></div>"
  })), this.DDG.templates.places_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "";
    return l += '<div class="module module--places js-module--', l += (0, this.escapeExpression)(o = (n = i.id) || "function" == typeof (n = t && t.id) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '"><div class="js-places-module-content"></div>', ((o = i.if.call(t, t && t.isSingle, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return '<div class="module__toggle module__toggle--map js-places-module-map"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">Show More</div></div>'
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += "</div>"
  })), this.DDG.templates.places_multiple = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing;
    return n += '<div class="module--places-multiple js-places-multiple"><div class=\'module__places-multiple__top-left js-places-multiple-top-left\'></div><div class=\'module__places-multiple__top-right js-places-multiple-top-right\'></div><div class="module__header"><div class="module__header__map js-places-multiple-map" /><div class="module__header__shadow"></div></div><div class="module__place-list js-places-multiple-list"></div>', o = i.if.call(t, t && t.isMobile, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="module__places-more module__section"><span class="module__link module__link--blue module__places-more__link--more-places js-places-multiple-expand">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More Places", o) : l.call(e, "l", "More Places", o)) || 0 === s) && (n += s), n += "</span></div>"
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="module__toggle module__toggle--map js-places-multiple-expand"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "More Places", o) : l.call(e, "l", "More Places", o)) || 0 === s) && (n += s), n += "</div></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.places_single_map = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "";
    return n += '<div class="places-single-map">', ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.showPlaceholder, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        return '<div class="places-single-map__placeholder"></div>'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.places_single = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="js-places-module-content js-places-single"></div>'
  })), this.DDG.templates.region_filter_modal_items = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this,
      d = "function",
      c = this.escapeExpression;

    function h(e, t) {
      return '<li class="modal__list__divider"></li>'
    }

    function p(e, t) {
      return "is-selected"
    }
    return o = i.if.call(t, t && t.showListHeader, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="modal__list__header">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "region filter", "Recent:", o) : l.call(e, "lp", "region filter", "Recent:", o)) || 0 === s) && (n += s), n += '<a class="modal__list__clear js-region-filter-clear no-visited" href="#">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Clear", o) : l.call(e, "l", "Clear", o)) || 0 === s) && (n += s), n += "</a></div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.each.call(t, t && t.regions, {
      hash: {},
      inverse: r.noop,
      fn: r.program(3, (function (e, t) {
        var s, a, o = "";
        return ((s = i.if.call(e, e && e.showDivider, {
          hash: {},
          inverse: r.noop,
          fn: r.program(4, h, t),
          data: t
        })) || 0 === s) && (o += s), o += '<li class="modal__list__item"><a class="modal__list__link  ', ((s = i.if.call(e, e && e.selected, {
          hash: {},
          inverse: r.noop,
          fn: r.program(6, p, t),
          data: t
        })) || 0 === s) && (o += s), o += ' js-region-filter-link" data-id="', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '" data-index="' + c(typeof (s = null == t || !1 === t ? t : t.index) === d ? s.apply(e) : s) + '"><span class="region-flag__wrap region-flag__wrap--small has-region"><span class="flag-xs  flag-xs-', s = (a = i.countryCode) || typeof (a = e && e.countryCode) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '"></span></span>', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</a></li>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n
  })), this.DDG.templates.region_filter_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this;

    function d(e, t) {
      var s, a, o, n = "";
      return n += '<a class="modal__header__clear sep--before js-region-filter-clear">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "Clear All", o) : l.call(e, "l", "Clear All", o)) || 0 === s) && (n += s), n += "</a>"
    }
    return n += '<div class="modal modal--dropdown ', ((o = i.if.call(t, t && t.isPopover, {
      hash: {},
      inverse: r.program(3, (function (e, t) {
        return "modal--popout"
      }), a),
      fn: r.program(1, (function (e, t) {
        return "modal--popover modal--popover--gray"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' modal--dropdown--region has-header js-dropdown-popout"><div class="modal__overlay  js-modal-close"></div><div class="modal__wrap"><div class="modal__box">', o = i.if.call(t, t && t.isPopover, {
      hash: {},
      inverse: r.program(7, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="modal__header"><input class="frm__input  js-region-filter-input" placeholder="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Search", o) : l.call(e, "l", "Search", o)) || 0 === s) && (n += s), n += '" />', ((s = i.if.call(e, e && e.hasRegionOrSuggested, {
          hash: {},
          inverse: r.noop,
          fn: r.program(8, d, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div>"
      }), a),
      fn: r.program(5, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="modal__header"><span class="modal__header__title">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Filter by Region", o) : l.call(e, "l", "Filter by Region", o)) || 0 === s) && (n += s), n += '</span><a href="#"  class="modal__close  js-modal-close">X</a></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<div class="modal__body">', o = i.if.call(t, t && t.isPopover, {
      hash: {},
      inverse: r.noop,
      fn: r.program(10, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="modal__body__input"><input class="frm__input  js-region-filter-input" placeholder="', o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Search", o) : l.call(e, "l", "Search", o)) || 0 === s) && (n += s), n += '" /></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<ol class="modal__list  js-region-filter-list"></ol></div></div></div></div>'
  })), this.DDG.templates.region_filter = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l = "",
      r = this,
      d = this.escapeExpression;

    function c(e, t) {
      return "has-inactive-region"
    }

    function h(e, t) {
      return "is-on"
    }
    return l += '<div class="dropdown dropdown--region ', o = i.if.call(t, t && t.hasRegion, {
      hash: {},
      inverse: r.noop,
      fn: r.program(1, (function (e, t) {
        var s, a = "";
        return a += "is-active ", ((s = i.if.call(e, e && e.hasActiveRegion, {
          hash: {},
          inverse: r.program(2, c, t),
          fn: r.noop,
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '">', o = i.if.call(t, t && t.hasRegion, {
      hash: {},
      inverse: r.noop,
      fn: r.program(4, (function (e, t) {
        var s, a = "";
        return a += '<div class="dropdown__switch switch js-region-filter-switch ', ((s = i.if.call(e, e && e.hasActiveRegion, {
          hash: {},
          inverse: r.noop,
          fn: r.program(5, h, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><span class="switch__knob"></span></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (l += o), l += '<a class="dropdown__button dropdown__button js-dropdown-button ', ((o = i.if.call(t, t && t.isAllRegion, {
      hash: {},
      inverse: r.noop,
      fn: r.program(7, (function (e, t) {
        return "all"
      }), a),
      data: a
    })) || 0 === o) && (l += o), l += '">', l += d(o = (n = i.regionName) || "function" == typeof (n = t && t.regionName) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + "</a></div>"
  })), this.DDG.templates.related_searches_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var s, a, o = "";
      return o += '<li class="related-searches__item"><a class="result__a related-searches__link js-related-searches-link" href="', s = (a = i.web_search_url) || typeof (a = e && e.web_search_url) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '"><span class="related-searches__item-text"><span>', ((s = (a = i.display_text) || typeof (a = e && e.display_text) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (o += s), o += "&ZeroWidthSpace;</span></span></a></li>"
    }
    return ((o = i.if.call(t, t && t.isAtBottom, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        return '<div class="related-searches t-m">'
      }), a),
      fn: h.program(1, (function (e, t) {
        return '<div class="related-searches t-m at-bottom">'
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '<p class="related-searches__title-long">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, 'Searches related to "%s"', t && t.query, l) : p.call(t, "l", 'Searches related to "%s"', t && t.query, l)) || 0 === o) && (r += o), r += '</p><p class="related-searches__title-short">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Related Searches", l) : p.call(t, "l", "Related Searches", l)) || 0 === o) && (r += o), r += '</p><div class="related-searches__lists"><ol class="related-searches__list related-searches__list--first">', ((o = i.each.call(t, t && t.firstHalf, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, u, a),
      data: a
    })) || 0 === o) && (r += o), r += '</ol><ol class="related-searches__list">', ((o = i.each.call(t, t && t.secondHalf, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, u, a),
      data: a
    })) || 0 === o) && (r += o), r += "</ol></div></div>"
  })), this.DDG.templates.report_ads_button = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="report-ad"><span class="report-ad__start js-report-ad-start"><i class="ddgsi-comment ddgsi"></i><a href="#" class="report-ad__link">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "ads", "Report Ad", l) : d.call(t, "lp", "ads", "Report Ad", l)) || 0 === o) && (r += o), r += "</a></span></div>"
  })), this.DDG.templates.report_image_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing;
    return r += '<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback"><div class="modal__box__content js-feedback-form"><h5 class="feedback-modal__heading"><span class="feedback-modal__heading__main">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "Report image modal", "Report this image", l) : h.call(t, "lp", "Report image modal", "Report this image", l)) || 0 === o) && (r += o), r += '</span><a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><div class="frm frm--feedback"><div class="feedback-modal__image"><img src="' + c((l = {
      hash: {},
      data: a
    }, (n = i.imageProxy || t && t.imageProxy) ? n.call(t, t && t.thumbnail, l) : h.call(t, "imageProxy", t && t.thumbnail, l))) + '"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">', o = i.each.call(t, t && t.options, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var s, a, o = "";
        return o += '<option value="', s = (a = i.val) || typeof (a = e && e.val) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + '">', s = (a = i.text) || typeof (a = e && e.text) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</option>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</select></div><textarea class="frm__text feedback-modal__input feedback-modal__input--text js-feedback-comment"></textarea><a href="#" class="feedback-modal__submit is-disabled btn btn--primary--alt js-feedback-submit">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Submit", l) : h.call(t, "l", "Submit", l)) || 0 === o) && (r += o), r += '</a></div></div><div class="modal__box__content js-feedback-success"><h5 class="feedback-modal__heading feedback-modal__heading--success">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "Feedback Sent", l) : h.call(t, "lp", "feedback form", "Feedback Sent", l)) || 0 === o) && (r += o), r += '<a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><p class="feedback-modal__message">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Thank you!", l) : h.call(t, "l", "Thank you!", l)) || 0 === o) && (r += o), r += " ", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "feedback form", "We use feedback like this to improve DuckDuckGo.", l) : h.call(t, "lp", "feedback form", "We use feedback like this to improve DuckDuckGo.", l)) || 0 === o) && (r += o), r += "</p></div></div></div></div>"
  })), this.DDG.templates.result_extras_ad_uxexp = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return "is-hidden"
    }

    function h(e, t) {
      return "data-"
    }
    return n += '<div class="result__extras__url">', o = i.if.call(t, t && t.icon, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        var s, a = "";
        return a += '<span class="result__icon ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.hide, {
          hash: {},
          inverse: l.noop,
          fn: l.program(2, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><img ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.lazyLoad, {
          hash: {},
          inverse: l.noop,
          fn: l.program(4, h, t),
          data: t
        })) || 0 === s) && (a += s), a += 'src="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.imageUrl) === r ? s.apply(e) : s) + '" height="16" width="16" class="result__icon__img js-lazyload-icons"></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<a href="' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.href) === r ? o.apply(t) : o) + '" rel="noopener" ', ((o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.targetBlank, {
      hash: {},
      inverse: l.noop,
      fn: l.program(6, (function (e, t) {
        return 'target="_blank"'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' class="result__url js-result-extras-url">' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.domain) === r ? o.apply(t) : o), o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.path, {
      hash: {},
      inverse: l.noop,
      fn: l.program(8, (function (e, t) {
        var i, s = "";
        return s += "&nbsp;&rsaquo;&nbsp;" + d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.path) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</a></div>"
  })), this.DDG.templates.result_extras_ad = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return "is-hidden"
    }

    function h(e, t) {
      return "data-"
    }
    return n += '<div class="result__extras__url">', o = i.if.call(t, t && t.icon, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        var s, a = "";
        return a += '<span class="result__icon ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.hide, {
          hash: {},
          inverse: l.noop,
          fn: l.program(2, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><img ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.lazyLoad, {
          hash: {},
          inverse: l.noop,
          fn: l.program(4, h, t),
          data: t
        })) || 0 === s) && (a += s), a += 'src="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.imageUrl) === r ? s.apply(e) : s) + '" height="16" width="16" class="result__icon__img js-lazyload-icons"></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<a href="' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.href) === r ? o.apply(t) : o) + '" rel="noopener" ', ((o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.targetBlank, {
      hash: {},
      inverse: l.noop,
      fn: l.program(6, (function (e, t) {
        return 'target="_blank"'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' class="result__url js-result-extras-url">' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.domain) === r ? o.apply(t) : o), o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.path, {
      hash: {},
      inverse: l.noop,
      fn: l.program(8, (function (e, t) {
        var i, s = "";
        return s += "/" + d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.path) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</a></div>"
  })), this.DDG.templates.result_extras_uxexp = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return "is-hidden"
    }

    function h(e, t) {
      return "data-"
    }
    return n += '<div class="result__extras__url">', o = i.if.call(t, t && t.icon, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        var s, a = "";
        return a += '<span class="result__icon ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.hide, {
          hash: {},
          inverse: l.noop,
          fn: l.program(2, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><a href="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.siteSearchUrl) === r ? s.apply(e) : s) + '" title="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.title) === r ? s.apply(e) : s) + '" class="js-result-extras-site_search"><img ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.lazyLoad, {
          hash: {},
          inverse: l.noop,
          fn: l.program(4, h, t),
          data: t
        })) || 0 === s) && (a += s), a += 'src="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.imageUrl) === r ? s.apply(e) : s) + '" height="16" width="16" title="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.title) === r ? s.apply(e) : s) + '" class="result__icon__img js-lazyload-icons"></a></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<a href="' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.href) === r ? o.apply(t) : o) + '" rel="noopener" ', ((o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.targetBlank, {
      hash: {},
      inverse: l.noop,
      fn: l.program(6, (function (e, t) {
        return 'target="_blank"'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' class="result__url js-result-extras-url"><span class="result__url__domain">', o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.prefix, {
      hash: {},
      inverse: l.noop,
      fn: l.program(8, (function (e, t) {
        var i;
        return d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.prefix) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.domain) === r ? o.apply(t) : o) + '</span><span class="result__url__full">', o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.path, {
      hash: {},
      inverse: l.noop,
      fn: l.program(10, (function (e, t) {
        var i, s = "";
        return s += "&nbsp;&rsaquo;&nbsp;" + d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.path) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</span></a></div>"
  })), this.DDG.templates.result_extras = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression;

    function c(e, t) {
      return "is-hidden"
    }

    function h(e, t) {
      return "data-"
    }
    return n += '<div class="result__extras__url">', o = i.if.call(t, t && t.icon, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        var s, a = "";
        return a += '<span class="result__icon ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.hide, {
          hash: {},
          inverse: l.noop,
          fn: l.program(2, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '"><a href="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.siteSearchUrl) === r ? s.apply(e) : s) + '" title="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.title) === r ? s.apply(e) : s) + '" class="js-result-extras-site_search"><img ', ((s = i.if.call(e, null == (s = e && e.icon) || !1 === s ? s : s.lazyLoad, {
          hash: {},
          inverse: l.noop,
          fn: l.program(4, h, t),
          data: t
        })) || 0 === s) && (a += s), a += 'src="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.imageUrl) === r ? s.apply(e) : s) + '" height="16" width="16" title="' + d(typeof (s = null == (s = e && e.icon) || !1 === s ? s : s.title) === r ? s.apply(e) : s) + '" class="result__icon__img js-lazyload-icons"></a></span>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += '<a href="' + d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.href) === r ? o.apply(t) : o) + '" rel="noopener" ', ((o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.targetBlank, {
      hash: {},
      inverse: l.noop,
      fn: l.program(6, (function (e, t) {
        return 'target="_blank"'
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' class="result__url js-result-extras-url"><span class="result__url__domain">', o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.prefix, {
      hash: {},
      inverse: l.noop,
      fn: l.program(8, (function (e, t) {
        var i;
        return d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.prefix) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += d(typeof (o = null == (o = t && t.link) || !1 === o ? o : o.domain) === r ? o.apply(t) : o) + '</span><span class="result__url__full">', o = i.if.call(t, null == (o = t && t.link) || !1 === o ? o : o.path, {
      hash: {},
      inverse: l.noop,
      fn: l.program(10, (function (e, t) {
        var i, s = "";
        return s += "/" + d(typeof (i = null == (i = e && e.link) || !1 === i ? i : i.path) === r ? i.apply(e) : i)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</span></a></div>"
  })), this.DDG.templates.result_snippet_ad = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this;

    function c(e, t) {
      return 'target="_blank"'
    }

    function h(e, t) {
      var i, s = "";
      return s += "<b>" + r(typeof (i = e && e.type) === l ? i.apply(e) : i) + "</b>: " + r(typeof (i = e && e.text) === l ? i.apply(e) : i)
    }

    function p(e, t) {
      var i;
      return (i = typeof e === l ? e.apply(e) : e) || 0 === i ? i : ""
    }
    return n += '<div class="result__snippet js-result-snippet">', o = i.each.call(t, null == (o = t && t.model) || !1 === o ? o : o.snippets, {
      hash: {},
      inverse: d.noop,
      fn: d.programWithDepth(1, (function (e, t, s) {
        var a, o = "";
        return o += '<a href="' + r(typeof (a = null == (a = s && s.model) || !1 === a ? a : a.href) === l ? a.apply(e) : a) + '" rel="noopener" ', ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.targetBlank, {
          hash: {},
          inverse: d.noop,
          fn: d.program(2, c, t),
          data: t
        })) || 0 === a) && (o += a), o += ">", ((a = i.if.call(e, e && e.type, {
          hash: {},
          inverse: d.program(6, p, t),
          fn: d.program(4, h, t),
          data: t
        })) || 0 === a) && (o += a), o += "</a><br>"
      }), a, t),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.result_snippet = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="result__snippet js-result-snippet">', o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.formattedDate, {
      hash: {},
      inverse: this.noop,
      fn: this.program(1, (function (e, t) {
        var i, s = "";
        return s += '<span class="result__date">' + r(typeof (i = null == (i = e && e.model) || !1 === i ? i : i.formattedDate) === l ? i.apply(e) : i) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), ((o = typeof (o = null == (o = t && t.model) || !1 === o ? o : o.organicResultSnippet) === l ? o.apply(t) : o) || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.result_title = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      return ' target="_blank"'
    }
    return r += '<h2 class="result__title js-result-title"><a data-testid="result-title-a" class="result__a js-result-title-link" rel="noopener" href="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === d ? o.apply(t) : o) + '"', ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.openInNewTab, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, u, a),
      data: a
    })) || 0 === o) && (r += o), r += ">", ((o = typeof (o = null == (o = t && t.model) || !1 === o ? o : o.title) === d ? o.apply(t) : o) || 0 === o) && (r += o), r += '</a><a class="result__check" rel="noopener" href="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === d ? o.apply(t) : o) + '"', ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.openInNewTab, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, u, a),
      data: a
    })) || 0 === o) && (r += o), r += '><span class="result__check__tt">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Your browser indicates if you've visited this link", l) : p.call(t, "l", "Your browser indicates if you've visited this link", l)) || 0 === o) && (r += o), r += "</span></a></h2>"
  })), this.DDG.templates.safe_search = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="msg msg--serp"><span class="msg__label js-safe-search">', o = i.if.call(t, t && t.noResults, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.l || e && e.l) ? a.call(e, "Safe search blocked some results for %s.", e && e.searchTerm, o) : d.call(e, "l", "Safe search blocked some results for %s.", e && e.searchTerm, o)) || 0 === s ? s : ""
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.l || e && e.l) ? a.call(e, "Safe search blocked results for %s.", e && e.searchTerm, o) : d.call(e, "l", "Safe search blocked results for %s.", e && e.searchTerm, o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</span><span class="msg__btn-wrap"><span class="msg__label">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Turn off:", l) : d.call(t, "l", "Turn off:", l)) || 0 === o) && (r += o), r += '</span><a href="#" class="btn  msg__btn  js-safe-search-temp">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "temporarily", l) : d.call(t, "l", "temporarily", l)) || 0 === o) && (r += o), r += '</a><a href="/settings" class="btn  msg__btn  js-safe-search-perm">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "permanently", l) : d.call(t, "l", "permanently", l)) || 0 === o) && (r += o), r += "</a></span></div>"
  })), this.DDG.templates.site_query = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = "function",
      h = this.escapeExpression,
      p = this;

    function u(e, t) {
      var s, a, o = "";
      return o += '<a href="/?q=', ((s = (a = i.clearQuery) || typeof (a = e && e.clearQuery) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (o += s), o += '" class="msg__clear-filter  js-site-query-clear">', s = (a = i.site) || typeof (a = e && e.site) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += h(s) + ' <span class="msg__clear-filter-x">X</span></a>'
    }

    function m(e, t) {
      var s, a;
      return s = (a = i.site) || typeof (a = e && e.site) === c ? a.call(e, {
        hash: {},
        data: t
      }) : a, h(s)
    }
    return r += '<div class="msg  msg--serp  msg--site"><div class="msg__wrap"><span class="msg__text">', o = i.if.call(t, t && t.isExcluding, {
      hash: {},
      inverse: p.program(3, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.l || e && e.l) ? a.call(e, "Showing results from", o) : d.call(e, "l", "Showing results from", o)) || 0 === s ? s : ""
      }), a),
      fn: p.program(1, (function (e, t) {
        var s, a, o;
        return o = {
          hash: {},
          data: t
        }, (s = (a = i.l || e && e.l) ? a.call(e, "Showing results excluding", o) : d.call(e, "l", "Showing results excluding", o)) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += ':</span><span class="msg__sites ', ((o = i.if.call(t, t && t.forceBreak, {
      hash: {},
      inverse: p.noop,
      fn: p.program(5, (function (e, t) {
        return " msg__sites--mobile"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '">', o = i.each.call(t, t && t.sites, {
      hash: {},
      inverse: p.noop,
      fn: p.programWithDepth(7, (function (e, t, s) {
        var a, o = "";
        return o += '<span class="msg__site">', ((a = i.if.call(e, s && s.hasMultipleSites, {
          hash: {},
          inverse: p.program(10, m, t),
          fn: p.program(8, u, t),
          data: t
        })) || 0 === a) && (o += a), o += "</span>"
      }), a, t),
      data: a
    }), (o || 0 === o) && (r += o), r += '<a href="/?q=', ((o = (n = i.queryEncoded) || typeof (n = t && t.queryEncoded) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += '" class="msg__all  js-site-query-clear"><span class="hide--screen-s">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "All Results", l) : d.call(t, "l", "All Results", l)) || 0 === o) && (r += o), r += '</span><span class="hide  show--screen-s">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "All", l) : d.call(t, "l", "All", l)) || 0 === o) && (r += o), r += "</span></a></span></div></div>"
  })), this.DDG.templates.sitelinks = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this,
      r = "function",
      d = this.escapeExpression,
      c = i.helperMissing;

    function h(e, t, s) {
      var a, o, n = "";
      return ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.isDesktop, {
        hash: {},
        inverse: l.noop,
        fn: l.program(11, p, t),
        data: t
      })) || 0 === a) && (n += a), ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.isDesktop, {
        hash: {},
        inverse: l.noop,
        fn: l.program(13, u, t),
        data: t
      })) || 0 === a) && (n += a), n += '<a class="sitelink--small__title js-sitelinks-title" href="', a = (o = i.targetUrl) || typeof (o = e && e.targetUrl) === r ? o.call(e, {
        hash: {},
        data: t
      }) : o, n += d(a) + '" data-idx="' + d(typeof (a = null == t || !1 === t ? t : t.index) === r ? a.apply(e) : a) + '" rel="noopener"', ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.newWindow, {
        hash: {},
        inverse: l.noop,
        fn: l.program(16, f, t),
        data: t
      })) || 0 === a) && (n += a), n += ">", a = (o = i.text) || typeof (o = e && e.text) === r ? o.call(e, {
        hash: {},
        data: t
      }) : o, n += d(a) + "</a>", ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.isDesktop, {
        hash: {},
        inverse: l.noop,
        fn: l.program(18, g, t),
        data: t
      })) || 0 === a) && (n += a), n
    }

    function p(e, t) {
      return '<span class="sitelink--small">'
    }

    function u(e, t) {
      var s;
      return (s = i.unless.call(e, null == t || !1 === t ? t : t.first, {
        hash: {},
        inverse: l.noop,
        fn: l.program(14, m, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function m(e, t) {
      return '<span class="sitelink--small__separator js-sitelink-separator">&#8231;</span>'
    }

    function f(e, t) {
      return ' target="_blank"'
    }

    function g(e, t) {
      return "</span>"
    }

    function _(e, t, s) {
      var a, o, n, h = "";
      return h += '<div class="sitelink" id="sl-' + d(typeof (a = null == t || !1 === t ? t : t.index) === r ? a.apply(e) : a) + '" data-domain="' + d(typeof (a = null == (a = s && s.model) || !1 === a ? a : a.domain) === r ? a.apply(e) : a) + '"><a class="result__sitelink-title result__a', ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.isDesktop, {
        hash: {},
        inverse: l.noop,
        fn: l.program(22, v, t),
        data: t
      })) || 0 === a) && (h += a), h += ' js-sitelinks-title" href="', a = (o = i.targetUrl) || typeof (o = e && e.targetUrl) === r ? o.call(e, {
        hash: {},
        data: t
      }) : o, h += d(a) + '" data-idx="' + d(typeof (a = null == t || !1 === t ? t : t.index) === r ? a.apply(e) : a) + '" rel="noopener" ', ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.newWindow, {
        hash: {},
        inverse: l.noop,
        fn: l.program(24, b, t),
        data: t
      })) || 0 === a) && (h += a), h += ">", a = (o = i.text) || typeof (o = e && e.text) === r ? o.call(e, {
        hash: {},
        data: t
      }) : o, h += d(a) + "</a>", o = i.and || s && s.and, n = {
        hash: {},
        inverse: l.noop,
        fn: l.programWithDepth(26, w, t, s),
        data: t
      }, ((a = o ? o.call(e, null == (a = s && s.model) || !1 === a ? a : a.isDesktop, e && e.snippet, n) : c.call(e, "and", null == (a = s && s.model) || !1 === a ? a : a.isDesktop, e && e.snippet, n)) || 0 === a) && (h += a), h += "</div>"
    }

    function v(e, t) {
      return " result__sitelink-title--desktop"
    }

    function b(e, t) {
      return 'target="_blank"'
    }

    function w(e, t, s) {
      var a, o = "";
      return o += '<div class="result__snippet">', ((a = i.if.call(e, null == (a = s && s.model) || !1 === a ? a : a.isAd, {
        hash: {},
        inverse: l.program(29, k, t),
        fn: l.program(27, y, t),
        data: t
      })) || 0 === a) && (o += a), o += "</div>"
    }

    function y(e, t) {
      var s, a;
      return s = (a = i.snippet) || typeof (a = e && e.snippet) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, d(s)
    }

    function k(e, t) {
      var s, a;
      return d((a = {
        hash: {},
        data: t
      }, (s = i.ellipsis || e && e.ellipsis) ? s.call(e, e && e.snippet, 71, a) : c.call(e, "ellipsis", e && e.snippet, 71, a)))
    }
    return n += '<div class="result__sitelinks result__sitelinks--', ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.isAd, {
      hash: {},
      inverse: l.program(3, (function (e, t) {
        return "organics"
      }), a),
      fn: l.program(1, (function (e, t) {
        return "ads"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " result__sitelinks--", ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.isSmallSitelinks, {
      hash: {},
      inverse: l.program(7, (function (e, t) {
        return "large"
      }), a),
      fn: l.program(5, (function (e, t) {
        return "small"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' js-sitelinks">', o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.isSmallSitelinks, {
      hash: {},
      inverse: l.program(20, (function (e, t) {
        var s;
        return (s = i.each.call(e, null == (s = e && e.model) || !1 === s ? s : s.links, {
          hash: {},
          inverse: l.noop,
          fn: l.programWithDepth(21, _, t, e),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: l.program(9, (function (e, t) {
        var s, a = "";
        return a += '<div class="result__sitelinks__scrolling-container">', ((s = i.each.call(e, null == (s = e && e.model) || !1 === s ? s : s.links, {
          hash: {},
          inverse: l.noop,
          fn: l.programWithDepth(10, h, t, e),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.spelling_dym = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div id="did_you_mean" class="msg  msg--result  msg--spelling">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Did you mean %s?", '<a class="js-spelling-suggestion-link"></a>', l) : d.call(t, "l", "Did you mean %s?", '<a class="js-spelling-suggestion-link"></a>', l)) || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.spelling_irf = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Including results for %s", '<a class="js-spelling-suggestion-link"></a>', l) : d.call(t, "l", "Including results for %s", '<a class="js-spelling-suggestion-link"></a>', l)) || 0 === o) && (r += o), r += '</span><span class="msg__line  msg__line--small">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Search only for %s?", '<a class="js-spelling-recourse-link"></a>', l) : d.call(t, "l", "Search only for %s?", '<a class="js-spelling-recourse-link"></a>', l)) || 0 === o) && (r += o), r += "</span></div></div>"
  })), this.DDG.templates.spelling_nmrc = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Not many results contain %s", '<span class="js-spelling-suggestion-link"></span>', l) : d.call(t, "l", "Not many results contain %s", '<span class="js-spelling-suggestion-link"></span>', l)) || 0 === o) && (r += o), r += '</span><span class="msg__line  msg__line--small">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Search only for %s?", '<a class="js-spelling-recourse-link"></a>', l) : d.call(t, "l", "Search only for %s?", '<a class="js-spelling-recourse-link"></a>', l)) || 0 === o) && (r += o), r += "</span></div></div>"
  })), this.DDG.templates.tooltip = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = this;
    return n += '<div class="tooltip is-hidden js-tooltip', ((o = (i = this.merge(i, e.helpers)).if.call(t, t && t.isAlignedLeft, {
      hash: {},
      inverse: l.noop,
      fn: l.program(1, (function (e, t) {
        return " is-aligned-left"
      }), a),
      data: a
    })) || 0 === o) && (n += o), ((o = i.if.call(t, t && t.darkerBackgroundDarkTheme, {
      hash: {},
      inverse: l.noop,
      fn: l.program(3, (function (e, t) {
        return " has-darker-background-dark-theme"
      }), a),
      data: a
    })) || 0 === o) && (n += o), ((o = i.if.call(t, t && t.tooltipHoverable, {
      hash: {},
      inverse: l.noop,
      fn: l.program(5, (function (e, t) {
        return " is-hoverable"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += '"><div class="tooltip__triangle-outer js-tooltip-triangle-outer"></div><div class="tooltip__triangle-inner js-tooltip-triangle-inner"></div></div>'
  })), this.DDG.templates.translation_select_modal = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = this,
      p = i.helperMissing;

    function u(e, t) {
      var s, a, o = "";
      return o += "modal--popout--", s = (a = i.position) || typeof (a = e && e.position) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s)
    }

    function m(e, t) {
      return "modal--popout--bottom"
    }

    function f(e, t) {
      return '<a class="modal__close  js-modal-close">X</a>'
    }

    function g(e, t) {
      var s;
      return (s = i.if.call(e, e && e.selected, {
        hash: {},
        inverse: h.noop,
        fn: h.program(15, _, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function _(e, t) {
      var s;
      return (s = i.if.call(e, e && e.visible, {
        hash: {},
        inverse: h.noop,
        fn: h.program(16, v, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function v(e, t) {
      var s, a, o = "";
      return o += '<li><a data-value="', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '"class="modal__list__link is-selected is-before-divider js-dropdown-items">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</a></li>"
    }

    function b(e, t) {
      var s;
      return (s = i.if.call(e, e && e.pinned, {
        hash: {},
        inverse: h.noop,
        fn: h.program(19, w, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function w(e, t) {
      var s;
      return (s = i.if.call(e, e && e.visible, {
        hash: {},
        inverse: h.noop,
        fn: h.program(20, y, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function y(e, t) {
      var s, a, o = "";
      return o += '<li><a data-value="', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '" class="modal__list__link is-before-divider js-dropdown-items">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</a></li>"
    }

    function k(e, t) {
      var s;
      return (s = i.unless.call(e, e && e.pinned, {
        hash: {},
        inverse: h.noop,
        fn: h.program(24, x, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function x(e, t) {
      var s;
      return (s = i.if.call(e, e && e.visible, {
        hash: {},
        inverse: h.noop,
        fn: h.program(25, M, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function M(e, t) {
      var s, a, o = "";
      return o += '<li><a data-value="', s = (a = i.id) || typeof (a = e && e.id) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + '" class="modal__list__link ', ((s = i.if.call(e, e && e.selected, {
        hash: {},
        inverse: h.noop,
        fn: h.program(26, D, t),
        data: t
      })) || 0 === s) && (o += s), o += ' js-dropdown-items">', s = (a = i.name) || typeof (a = e && e.name) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += c(s) + "</a></li>"
    }

    function D(e, t) {
      return "is-selected"
    }
    return r += '<div class="modal--dropdown modal--dropdown--', o = (n = i.key) || typeof (n = t && t.key) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + " modal--dropdown--", o = (n = i.name) || typeof (n = t && t.name) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + " modal--dropdown--filter modal ", o = i.if.call(t, t && t.isPopover, {
      hash: {},
      inverse: h.program(3, (function (e, t) {
        var s, a = "";
        return a += "modal--popout ", ((s = i.if.call(e, e && e.position, {
          hash: {},
          inverse: h.program(6, m, t),
          fn: h.program(4, u, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      fn: h.program(1, (function (e, t) {
        return "modal--popover modal--popover--gray"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, t && t.header, {
      hash: {},
      inverse: h.noop,
      fn: h.program(8, (function (e, t) {
        return "has-header"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += ' js-dropdown-popout"><div class="modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box">', o = i.if.call(t, t && t.header, {
      hash: {},
      inverse: h.noop,
      fn: h.program(10, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="modal__header"><span class="modal__header__title">', s = (a = i.header) || typeof (a = e && e.header) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</span>", ((s = i.if.call(e, e && e.isPopover, {
          hash: {},
          inverse: h.noop,
          fn: h.program(11, f, t),
          data: t
        })) || 0 === s) && (o += s), o += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<div class="modal__body"><div class="modal__list__filter"><input class="js-dropdown-filter" type="search" placeholder="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "translations_module", "Search languages", l) : p.call(t, "lp", "translations_module", "Search languages", l)) || 0 === o) && (r += o), r += '" /></div><ol class="modal__list">', o = i.if.call(t, t && t.selected, {
      hash: {},
      inverse: h.noop,
      fn: h.program(13, (function (e, t) {
        var s, a = "";
        return ((s = i.each.call(e, e && e.values, {
          hash: {},
          inverse: h.noop,
          fn: h.program(14, g, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.each.call(e, e && e.values, {
          hash: {},
          inverse: h.noop,
          fn: h.program(18, b, t),
          data: t
        })) || 0 === s) && (a += s), a += '<li class="modal__list__divider js-dropdown-divider"></li>'
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), o = i.each.call(t, t && t.values, {
      hash: {},
      inverse: h.noop,
      fn: h.program(22, (function (e, t) {
        var s;
        return (s = i.unless.call(e, e && e.selected, {
          hash: {},
          inverse: h.noop,
          fn: h.program(23, k, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</ol></div></div></div></div>"
  })), this.DDG.templates.translation_select = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression;
    return n += '<div class="dropdown dropdown--translation-select"><a class="dropdown__button js-dropdown-button">', o = i.if.call(t, t && t.buttonContent, {
      hash: {},
      inverse: this.program(3, (function (e, t) {
        var s, a;
        return s = (a = i.displayName) || typeof (a = e && e.displayName) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, r(s)
      }), a),
      fn: this.program(1, (function (e, t) {
        var s, a;
        return s = (a = i.buttonContent) || typeof (a = e && e.buttonContent) === l ? a.call(e, {
          hash: {},
          data: t
        }) : a, r(s)
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</a></div>"
  })), this.DDG.templates.translations_module = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = "function",
      c = this.escapeExpression,
      h = i.helperMissing,
      p = this;

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<div class="module--translations-translatedtext js-module--translations-translatedtext">', s = (a = i.translated_text) || typeof (a = e && e.translated_text) === d ? a.call(e, {
        hash: {},
        data: t
      }) : a, n += c(s) + '</div><a class="module--translations-copy js-module--translations-copy" title="', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "translations_module", "Copy translation", o) : h.call(e, "lp", "translations_module", "Copy translation", o)) || 0 === s) && (n += s), n += '"></a>'
    }

    function m(e, t) {
      var s, a, o, n = "";
      return n += '<div class="module--translations-translatedtext js-module--translations-translatedtext is-placeholder">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "translations_module", "Translation", o) : h.call(e, "lp", "translations_module", "Translation", o)) || 0 === s) && (n += s), n += "</div>"
    }
    return r += '<div class="translations-wrapper"><div class="module module--translations module__container"><div class="module--translations-section module--translations-original js-module--translations-original ', ((o = i.if.call(t, t && t.error, {
      hash: {},
      inverse: p.noop,
      fn: p.program(1, (function (e, t) {
        return "has-error"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '"><textarea placeholder="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "translations_module", "Enter text", l) : h.call(t, "lp", "translations_module", "Enter text", l)) || 0 === o) && (r += o), r += '">', o = (n = i.original_text) || typeof (n = t && t.original_text) === d ? n.call(t, {
      hash: {},
      data: a
    }) : n, r += c(o) + "</textarea>", ((o = i.if.call(t, t && t.error, {
      hash: {},
      inverse: p.noop,
      fn: p.program(3, (function (e, t) {
        return '<span class="module--translations-length js-module--translations-length"></span>'
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '<a class="module--translations-clear js-module--translations-clear" title="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "translations_module", "Clear source text", l) : h.call(t, "lp", "translations_module", "Clear source text", l)) || 0 === o) && (r += o), r += '"></a></div><div class="module--translations-section module--translations-translated js-module--translations-translated">', o = i.if.call(t, t && t.error, {
      hash: {},
      inverse: p.program(7, (function (e, t) {
        var s;
        return (s = i.if.call(e, e && e.translated_text, {
          hash: {},
          inverse: p.program(10, m, t),
          fn: p.program(8, u, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      fn: p.program(5, (function (e, t) {
        var s, a, o = "";
        return o += '<div class="module--translations-translatedtext js-module--translations-translatedtext module--translations-error js-module--translations-error">', s = (a = i.error) || typeof (a = e && e.error) === d ? a.call(e, {
          hash: {},
          data: t
        }) : a, o += c(s) + "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '</div><a class="module--translations-swap js-module--translations-swap" title="', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "translations_module", "Swap languages", l) : h.call(t, "lp", "translations_module", "Swap languages", l)) || 0 === o) && (r += o), r += '"></a><div class="clear"></div></div><div class="module--translations-footer js-module--translations-footer"><p><a href="https://help.duckduckgo.com/results/translation/" class="tx-clr--grey-light" target="_blank">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Learn %sMore%s", "", "", l) : h.call(t, "l", "Learn %sMore%s", "", "", l)) || 0 === o) && (r += o), r += "</a></p></div></div>"
  })), this.DDG.templates.twitter_easter_egg = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l = "",
      r = (i = this.merge(i, e.helpers)).helperMissing,
      d = this.escapeExpression;
    return l += '<img class="header__praise js-logo-praise" src="' + d((n = {
      hash: {},
      data: a
    }, (o = i.imageProxy || t && t.imageProxy) ? o.call(t, "/assets/spread/praise.png", n) : r.call(t, "imageProxy", "/assets/spread/praise.png", n))) + '" /><img class="header__avatar js-logo-avatar" src="' + d((n = {
      hash: {},
      data: a
    }, (o = i.imageProxy || t && t.imageProxy) ? o.call(t, t && t.image, n) : r.call(t, "imageProxy", t && t.image, n))) + '" />'
  })), this.DDG.templates.user_location_badge = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, "<div class='user-loc-badge js-user-loc-badge'><div class='user-loc-badge__btn user-loc-badge__btn--loc js-user-loc-badge-btn-loc'><span class='js-user-loc-badge-btn-loc-icon ddgsi ddgsi-location'></span></div><div class='user-loc-badge__btn user-loc-badge__btn--close js-user-loc-badge-btn-close is-hidden'><span class='ddgsi ddgsi-close-bold'></span></div><div class='js-user-loc-badge-desc user-loc-badge__desc'></div></div>"
  })), this.DDG.templates.user_location_button = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = this;

    function d(e, t) {
      return "btn--primary"
    }

    function c(e, t) {
      return "update"
    }

    function h(e, t) {
      return "enable"
    }

    function p(e, t) {
      var s;
      return (s = i.if.call(e, e && e.problemUpdatingLocation, {
        hash: {},
        inverse: r.program(13, m, t),
        fn: r.program(11, u, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function u(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Set Manually", o) : l.call(e, "lp", "precise_user_location", "Set Manually", o)) || 0 === s ? s : ""
    }

    function m(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Update Location", o) : l.call(e, "lp", "precise_user_location", "Update Location", o)) || 0 === s ? s : ""
    }

    function f(e, t) {
      var s, a, o;
      return o = {
        hash: {},
        data: t
      }, (s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Enable Location", o) : l.call(e, "lp", "precise_user_location", "Enable Location", o)) || 0 === s ? s : ""
    }

    function g(e, t) {
      var s, a, o, n = "";
      return n += '<a class="btn user-loc-btn__btn js-user-loc-btn-clear">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Clear Location", o) : l.call(e, "lp", "precise_user_location", "Clear Location", o)) || 0 === s) && (n += s), n += "</a>"
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<a class="btn ', ((s = i.if.call(e, e && e.highlightManualLocationButton, {
        hash: {},
        inverse: r.noop,
        fn: r.program(4, d, t),
        data: t
      })) || 0 === s) && (n += s), n += ' user-loc-btn__btn js-user-loc-btn-manual">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Set Manually", o) : l.call(e, "lp", "precise_user_location", "Set Manually", o)) || 0 === s) && (n += s), n += "</a>"
    }
    return n += '<div class="user-loc-btn">', o = i.if.call(t, t && t.waiting, {
      hash: {},
      inverse: r.program(3, (function (e, t) {
        var s, a = "";
        return a += '<a class="btn ', ((s = i.unless.call(e, e && e.highlightManualLocationButton, {
          hash: {},
          inverse: r.noop,
          fn: r.program(4, d, t),
          data: t
        })) || 0 === s) && (a += s), a += " user-loc-btn__btn user-loc-btn__btn--first js-user-loc-btn-", ((s = i.if.call(e, e && e.update, {
          hash: {},
          inverse: r.program(8, h, t),
          fn: r.program(6, c, t),
          data: t
        })) || 0 === s) && (a += s), a += '">', ((s = i.if.call(e, e && e.update, {
          hash: {},
          inverse: r.program(15, f, t),
          fn: r.program(10, p, t),
          data: t
        })) || 0 === s) && (a += s), a += "</a>", ((s = i.if.call(e, e && e.update, {
          hash: {},
          inverse: r.noop,
          fn: r.program(17, g, t),
          data: t
        })) || 0 === s) && (a += s), ((s = i.if.call(e, e && e.showManualLocationButton, {
          hash: {},
          inverse: r.noop,
          fn: r.program(19, _, t),
          data: t
        })) || 0 === s) && (a += s), a
      }), a),
      fn: r.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<a class="btn btn--primary user-loc-btn__btn user-loc-btn__btn--waiting user-loc-btn__btn--first">', o = {
          hash: {
            className: "user-loc-btn__spinner spinner--dark"
          },
          data: t
        }, ((s = (a = i.include || e && e.include) ? a.call(e, "spinner", o) : l.call(e, "include", "spinner", o)) || 0 === s) && (n += s), n += "<span>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Waiting for Location...", o) : l.call(e, "lp", "precise_user_location", "Waiting for Location...", o)) || 0 === s) && (n += s), n += '</span></a><a class="btn user-loc-btn__btn js-user-loc-btn-cancel">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Cancel", o) : l.call(e, "lp", "precise_user_location", "Cancel", o)) || 0 === s) && (n += s), n += "</a>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.user_location_content = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this,
      h = "function",
      p = this.escapeExpression;

    function u(e, t) {
      return "is-disabled"
    }

    function m(e, t) {
      var s, a, o, n = "";
      return n += "<button type='button' class='btn btn--default js-user-loc-content-btn-dismiss'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Maybe later", o) : d.call(e, "lp", "precise_user_location", "Maybe later", o)) || 0 === s) && (n += s), n += "</button>"
    }

    function f(e, t) {
      var s, a, o, n = "";
      return n += "<button type='button' class='btn btn--default js-user-loc-content-btn-cancel'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Cancel", o) : d.call(e, "lp", "precise_user_location", "Cancel", o)) || 0 === s) && (n += s), n += "</button>"
    }

    function g(e, t) {
      var s, a, o, n = "";
      return n += "<button type='button' class='btn btn--default js-user-loc-content-btn-clear'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Clear", o) : d.call(e, "lp", "precise_user_location", "Clear", o)) || 0 === s) && (n += s), n += "</button>"
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += "<a class='js-user-loc-content-alt-precise'><div><div class='user-loc-content__addl-opts__title'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Use Anonymous Location", o) : d.call(e, "lp", "precise_user_location", "Use Anonymous Location", o)) || 0 === s) && (n += s), n += "</div><div class='user-loc-content__addl-opts__subtitle'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Private to us and secured on your device", o) : d.call(e, "lp", "precise_user_location", "Private to us and secured on your device", o)) || 0 === s) && (n += s), n += "</div></div>"
    }

    function v(e, t) {
      var s, a, o, n = "";
      return n += "<a class='js-user-loc-content-alt-manual'><div class='user-loc-content__addl-opts__title'>", o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Pick Custom Location", o) : d.call(e, "lp", "precise_user_location", "Pick Custom Location", o)) || 0 === s) && (n += s), n += "</div>"
    }

    function b(e, t) {
      var i, s = "";
      return s += "<li>", ((i = typeof e === h ? e.apply(e) : e) || 0 === i) && (s += i), s += "</li>"
    }

    function w(e, t) {
      var s, a, o, n = "";
      return n += "<p>", ((s = (a = i.additional) || typeof (a = e && e.additional) === h ? a.call(e, {
        hash: {},
        data: t
      }) : a) || 0 === s) && (n += s), n += ' <a class=\'user-loc-content__err__link\'href="https://help.duckduckgo.com/duckduckgo-help-pages/results/local-results-mobile/" target="_blank"rel="noopener">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Help", o) : d.call(e, "lp", "precise_user_location", "Help", o)) || 0 === s) && (n += s), n += "</a></p>"
    }
    return r += "<div class='user-loc-content js-user-loc-content'>", n = i.ifEquals || t && t.ifEquals, l = {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += "<section><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__icon'><div class='ddgsi ddgsi-location'></div></div><div class='user-loc-content__copy js-user-loc-content-copy'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "We can use your anonymous%s location%s to show you nearby results.", "<wbr>", "<wbr>", o) : d.call(e, "lp", "precise_user_location", "We can use your anonymous%s location%s to show you nearby results.", "<wbr>", "<wbr>", o)) || 0 === s) && (n += s), n += "</div></div><div class='user-loc-content__btns'><button type='button'class='btn btn--primary ", ((s = i.if.call(e, e && e.waiting, {
          hash: {},
          inverse: c.noop,
          fn: c.program(2, u, t),
          data: t
        })) || 0 === s) && (n += s), n += " js-user-loc-content-btn-enable'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Use Location", o) : d.call(e, "lp", "precise_user_location", "Use Location", o)) || 0 === s) && (n += s), n += "</button>", ((s = i.unless.call(e, e && e.waiting, {
          hash: {},
          inverse: c.program(6, f, t),
          fn: c.program(4, m, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div></section><section class='user-loc-content__addl-opts js-user-loc-content-addl-opts'><a class='js-user-loc-content-alt-manual'><div class='user-loc-content__addl-opts__title'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Pick Custom Location", o) : d.call(e, "lp", "precise_user_location", "Pick Custom Location", o)) || 0 === s) && (n += s), n += "</div><span class='ddgsi ddgsi-right'></span></a><a href='https://help.duckduckgo.com/privacy/anonymous-localized-results' rel='noopener' target='_blank'><div class='user-loc-content__addl-opts__title'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Learn %sMore%s", "", "", o) : d.call(e, "l", "Learn %sMore%s", "", "", o)) || 0 === s) && (n += s), n += "</div><span class='ddgsi ddgsi-right'></span></a></section>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.state, "locUnset", l) : d.call(t, "ifEquals", t && t.state, "locUnset", l)) || 0 === o) && (r += o), n = i.ifEquals || t && t.ifEquals, l = {
      hash: {},
      inverse: c.noop,
      fn: c.program(8, (function (e, t) {
        var s, a, o, n = "";
        return n += "<section><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__copy js-user-loc-content-copy'><div class='user-loc-content__desc'>", s = (a = i.desc) || typeof (a = e && e.desc) === h ? a.call(e, {
          hash: {},
          data: t
        }) : a, n += p(s) + "</div></div><div class='user-loc-content__btns js-user-loc-content-btns'><button type='button'class='btn btn--primary ", ((s = i.if.call(e, e && e.waiting, {
          hash: {},
          inverse: c.noop,
          fn: c.program(2, u, t),
          data: t
        })) || 0 === s) && (n += s), n += " js-user-loc-content-btn-update'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Update", o) : d.call(e, "lp", "precise_user_location", "Update", o)) || 0 === s) && (n += s), n += "</button>", ((s = i.unless.call(e, e && e.waiting, {
          hash: {},
          inverse: c.program(6, f, t),
          fn: c.program(9, g, t),
          data: t
        })) || 0 === s) && (n += s), n += "</div></div></section><section class='user-loc-content__addl-opts js-user-loc-content-addl-opts'>", a = i.ifEquals || e && e.ifEquals, o = {
          hash: {},
          inverse: c.noop,
          fn: c.program(11, _, t),
          data: t
        }, ((s = a ? a.call(e, e && e.locType, "manual", o) : d.call(e, "ifEquals", e && e.locType, "manual", o)) || 0 === s) && (n += s), a = i.ifEquals || e && e.ifEquals, o = {
          hash: {},
          inverse: c.noop,
          fn: c.program(13, v, t),
          data: t
        }, ((s = a ? a.call(e, e && e.locType, "precise", o) : d.call(e, "ifEquals", e && e.locType, "precise", o)) || 0 === s) && (n += s), n += "<span class='ddgsi ddgsi-right'></span></a><a href='https://help.duckduckgo.com/privacy/anonymous-localized-results' rel='noopener' target='_blank'><div class='user-loc-content__addl-opts__title'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.l || e && e.l) ? a.call(e, "Learn %sMore%s", "", "", o) : d.call(e, "l", "Learn %sMore%s", "", "", o)) || 0 === s) && (n += s), n += "</div><span class='ddgsi ddgsi-right'></span></a></section>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.state, "locSet", l) : d.call(t, "ifEquals", t && t.state, "locSet", l)) || 0 === o) && (r += o), n = i.ifEquals || t && t.ifEquals, l = {
      hash: {},
      inverse: c.noop,
      fn: c.program(15, (function (e, t) {
        var s, a, o, n = "";
        return n += "<section><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__icon--error'><div class='ddgsi ddgsi-location'></div><div class='user-loc-content__icon__switch'><div name='slider'></div></div></div><div class='user-loc-content__copy js-user-loc-content-copy'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Enable location settings on your device to use anonymous location", o) : d.call(e, "lp", "precise_user_location", "Enable location settings on your device to use anonymous location", o)) || 0 === s) && (n += s), n += "</div></div></section><section><ol class='user-loc-content__err__fix'>", ((s = i.each.call(e, e && e.list, {
          hash: {},
          inverse: c.noop,
          fn: c.program(16, b, t),
          data: t
        })) || 0 === s) && (n += s), n += "</ol>", ((s = i.if.call(e, e && e.additional, {
          hash: {},
          inverse: c.noop,
          fn: c.program(18, w, t),
          data: t
        })) || 0 === s) && (n += s), n += "</section><section><div class='user-loc-content__btns js-user-loc-content-btns'><button type='button' class='btn btn--primary js-user-loc-content-btn-dismiss'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Got it", o) : d.call(e, "lp", "precise_user_location", "Got it", o)) || 0 === s) && (n += s), n += "</button><button type='button' class='btn btn--default js-user-loc-content-btn-manual'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Set Manually", o) : d.call(e, "lp", "precise_user_location", "Set Manually", o)) || 0 === s) && (n += s), n += "</button></div></section>"
      }), a),
      data: a
    }, ((o = n ? n.call(t, t && t.state, "locError", l) : d.call(t, "ifEquals", t && t.state, "locError", l)) || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.user_location_dropdown = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, "<div class='user-loc-dropdown js-user-loc-dropdown modal--dropdown modal__box'></div>"
  })), this.DDG.templates.user_location_info = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<p class="user-loc-extra-info">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "precise_user_location", "DuckDuckGo is private by design. When you enable location, it is stored on your local device only. When you search, your device then sends it to us, we use it to improve results for that search, and then we promptly throw it away, such that you remain anonymous. %sLearn more about how we designed this technology to protect your privacy%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", l) : d.call(t, "lp", "precise_user_location", "DuckDuckGo is private by design. When you enable location, it is stored on your local device only. When you search, your device then sends it to us, we use it to improve results for that search, and then we promptly throw it away, such that you remain anonymous. %sLearn more about how we designed this technology to protect your privacy%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", l)) || 0 === o) && (r += o), r += "</p>"
  })), this.DDG.templates.user_location_notification = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += "<div class='is-hidden user-location-notification js-user-location-notification'><div>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "precise_user_location", "We only use your anonymous location to deliver better results, closer to you. You can always change your mind later.", l) : d.call(t, "lp", "precise_user_location", "We only use your anonymous location to deliver better results, closer to you. You can always change your mind later.", l)) || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.user_location_tile = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n, l, r = "",
      d = this.escapeExpression,
      c = i.helperMissing;
    return r += "<div class='user-loc-tile__container js-user-loc-tile'><div class='user-loc-tile js-user-loc-tile-button simple-tooltip' data-tooltip='", r += d(o = (n = i.position) || "function" == typeof (n = t && t.position) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + " 250' data-tooltip-text='", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "precise_user_location", "Find results closer to you", l) : c.call(t, "lp", "precise_user_location", "Find results closer to you", l)) || 0 === o) && (r += o), r += "'><div class='user-loc-tile__icons js-user-loc-tile-icons'><span class='js-user-loc-tile-marker ddgsi ddgsi-marker'></span><span class='js-user-loc-tile-down ddgsi ddgsi-down'></span></div></div></div>"
  })), this.DDG.templates.user_location_tooltip_content = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n = "",
      l = (i = this.merge(i, e.helpers)).helperMissing,
      r = "function",
      d = this.escapeExpression,
      c = this;

    function h(e, t) {
      var s, a, o = "";
      return o += "<div class='user-loc-tooltip__address'><span class='ddgsi ddgsi-marker'></span><span> ", s = (a = i.desc) || typeof (a = e && e.desc) === r ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += d(s) + "</span></div>"
    }

    function p(e, t) {
      var i, s = "";
      return s += "<li>", ((i = typeof e === r ? e.apply(e) : e) || 0 === i) && (s += i), s += "</li>"
    }
    return n += "<div class='js-user-loc-content'><div class='js-user-loc-content-copy'>", o = i.if.call(t, t && t.locUnset, {
      hash: {},
      inverse: c.noop,
      fn: c.program(1, (function (e, t) {
        var s, a, o, n = "";
        return n += '<p class="user-loc-tooltip__title">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Find results closer to you.", o) : l.call(e, "lp", "precise_user_location", "Find results closer to you.", o)) || 0 === s) && (n += s), n += '</p><p class="user-loc-tooltip__subtitle">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Try enabling anonymous location for more accurate results.", o) : l.call(e, "lp", "precise_user_location", "Try enabling anonymous location for more accurate results.", o)) || 0 === s) && (n += s), n += " ", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o) : l.call(e, "lp", "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.locSet, {
      hash: {},
      inverse: c.noop,
      fn: c.program(3, (function (e, t) {
        var s, a, o, n = "";
        return ((s = i.if.call(e, e && e.desc, {
          hash: {},
          inverse: c.noop,
          fn: c.program(4, h, t),
          data: t
        })) || 0 === s) && (n += s), n += '<p class="user-loc-tooltip__title">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Anonymous Location Enabled", o) : l.call(e, "lp", "precise_user_location", "Anonymous Location Enabled", o)) || 0 === s) && (n += s), n += '</p><p class="user-loc-tooltip__subtitle">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Location information is stored only on your device.", o) : l.call(e, "lp", "precise_user_location", "Location information is stored only on your device.", o)) || 0 === s) && (n += s), n += " ", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o) : l.call(e, "lp", "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.locError, {
      hash: {},
      inverse: c.noop,
      fn: c.program(6, (function (e, t) {
        var s, a, o, n = "";
        return n += "<div class='user-loc-tooltip__err-img-container'><div class='js-user-loc-content-err-img'></div></div><p class='user-loc-tooltip__title user-loc-tooltip__title--error'>", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Browser Location Unavailable", o) : l.call(e, "lp", "precise_user_location", "Browser Location Unavailable", o)) || 0 === s) && (n += s), n += '</p><p class="user-loc-tooltip__subtitle">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Set your location manually, or ensure Location Services is enabled.", o) : l.call(e, "lp", "precise_user_location", "Set your location manually, or ensure Location Services is enabled.", o)) || 0 === s) && (n += s), n += ' <a class="user-loc-tooltip__link js-user-loc-content-help" href="https://help.duckduckgo.com/results/local-results/" target="_blank" rel="noopener">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Help", o) : l.call(e, "lp", "precise_user_location", "Help", o)) || 0 === s) && (n += s), n += '</a></p><ol class="user-loc-tooltip__error-fix">', ((s = i.each.call(e, e && e.instructions, {
          hash: {},
          inverse: c.noop,
          fn: c.program(7, p, t),
          data: t
        })) || 0 === s) && (n += s), n += "</ol>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), o = i.if.call(t, t && t.locUpdProblem, {
      hash: {},
      inverse: c.noop,
      fn: c.program(9, (function (e, t) {
        var s, a, o, n = "";
        return ((s = i.if.call(e, e && e.desc, {
          hash: {},
          inverse: c.noop,
          fn: c.program(4, h, t),
          data: t
        })) || 0 === s) && (n += s), n += '<p class="user-loc-tooltip__title">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Not getting nearby results?", o) : l.call(e, "lp", "precise_user_location", "Not getting nearby results?", o)) || 0 === s) && (n += s), n += '</p><p class="user-loc-tooltip__subtitle">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "Try setting your location manually.", o) : l.call(e, "lp", "precise_user_location", "Try setting your location manually.", o)) || 0 === s) && (n += s), n += " ", o = {
          hash: {},
          data: t
        }, ((s = (a = i.lp || e && e.lp) ? a.call(e, "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o) : l.call(e, "lp", "precise_user_location", "%sLearn how we keep your location private%s.", '<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">', "</a>", o)) || 0 === s) && (n += s), n += "</p>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div><div class='js-user-loc-content-buttons user-loc-tooltip__buttons'></div></div>"
  })), this.DDG.templates.user_location_tooltip = Handlebars.template((function (e, t, i, s, a) {
    return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, "<div class='user-loc-tooltip js-user-loc-tooltip'><div class='user-loc-tooltip__triangle-outer'></div><div class='user-loc-tooltip__triangle-inner js-user-loc-tooltip-triangle-inner'></div><div class='user-loc-tooltip__inner js-user-loc-tooltip-inner'><span class='user-loc-tooltip__dismiss ddgsi js-user-loc-tooltip-dismiss'>×</span></div></div>"
  })), this.DDG.templates.vertical_link_item = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression,
      h = this,
      p = "function";

    function u(e, t) {
      var s, a, o, n = "";
      return n += '<div class="result__image__img" style="background-image:url(\'' + c((o = {
        hash: {},
        data: t
      }, (a = i.imageProxy || e && e.imageProxy) ? a.call(e, null == (s = e && e.model) || !1 === s ? s : s.image, null == (s = e && e.model) || !1 === s ? s : s.imageProxyOps, o) : d.call(e, "imageProxy", null == (s = e && e.model) || !1 === s ? s : s.image, null == (s = e && e.model) || !1 === s ? s : s.imageProxyOps, o))) + "')\"></div>"
    }

    function m(e, t) {
      var s;
      return (s = i.if.call(e, null == (s = e && e.model) || !1 === s ? s : s.fetch_image, {
        hash: {},
        inverse: h.noop,
        fn: h.program(13, f, t),
        data: t
      })) || 0 === s ? s : ""
    }

    function f(e, t) {
      return '<div class="result__image__plc ddgsi ddgsi-news js-result-img-placeholder"></div>'
    }

    function g(e, t) {
      return ' target="_blank"'
    }

    function _(e, t) {
      var s, a, o, n = "";
      return n += '<div class="result__snippet">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.ellipsis || e && e.ellipsis) ? a.call(e, null == (s = e && e.model) || !1 === s ? s : s.excerpt, 600, o) : d.call(e, "ellipsis", null == (s = e && e.model) || !1 === s ? s : s.excerpt, 600, o)) || 0 === s) && (n += s), n += "</div>"
    }
    return r += '<div class="result result--' + c(typeof (o = null == (o = t && t.answer) || !1 === o ? o : o.id) === p ? o.apply(t) : o) + " ", ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.highlighted, {
      hash: {},
      inverse: h.noop,
      fn: h.program(1, (function (e, t) {
        return " highlight"
      }), a),
      data: a
    })) || 0 === o) && (r += o), ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.showImage, {
      hash: {},
      inverse: h.noop,
      fn: h.program(3, (function (e, t) {
        return " result--img"
      }), a),
      data: a
    })) || 0 === o) && (r += o), ((o = i.if.call(t, t && t.urlAboveSnippet, {
      hash: {},
      inverse: h.noop,
      fn: h.program(5, (function (e, t) {
        return " result--url-above-snippet"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += " ", ((o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.noExcerpt, {
      hash: {},
      inverse: h.noop,
      fn: h.program(7, (function (e, t) {
        return "result--no-excerpt"
      }), a),
      data: a
    })) || 0 === o) && (r += o), r += '" data-link="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === p ? o.apply(t) : o) + '"><div class="result__body">', o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.showImage, {
      hash: {},
      inverse: h.noop,
      fn: h.program(9, (function (e, t) {
        var s, a = "";
        return a += '<div class="result__image js-result-image-wrapper">', ((s = i.if.call(e, null == (s = e && e.model) || !1 === s ? s : s.image, {
          hash: {},
          inverse: h.program(12, m, t),
          fn: h.program(10, u, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += '<h2 class="result__title"><a class="result__a" rel="noopener" href="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === p ? o.apply(t) : o) + '"', ((o = i.if.call(t, t && t.targetBlank, {
      hash: {},
      inverse: h.noop,
      fn: h.program(15, g, a),
      data: a
    })) || 0 === o) && (r += o), r += ">", ((o = typeof (o = null == (o = t && t.model) || !1 === o ? o : o.title) === p ? o.apply(t) : o) || 0 === o) && (r += o), r += '</a><a class="result__check" rel="noopener" href="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === p ? o.apply(t) : o) + '"><span class="result__check__tt">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Your browser indicates if you've visited this link", l) : d.call(t, "l", "Your browser indicates if you've visited this link", l)) || 0 === o) && (r += o), r += "</span></a></h2>", ((o = i.if.call(t, t && t.urlAboveSnippet, {
      hash: {},
      inverse: h.program(17, _, a),
      fn: h.noop,
      data: a
    })) || 0 === o) && (r += o), r += '<div class="result__extras"><div class="result__extras__url"><span class="result__icon ', ((o = i.if.call(t, t && t.favicons, {
      hash: {},
      inverse: h.program(19, (function (e, t) {
        return "is-hidden"
      }), a),
      fn: h.noop,
      data: a
    })) || 0 === o) && (r += o), r += '">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.favicon || t && t.favicon) ? n.call(t, null == (o = t && t.model) || !1 === o ? o : o.favicon_url, l) : d.call(t, "favicon", null == (o = t && t.model) || !1 === o ? o : o.favicon_url, l)) || 0 === o) && (r += o), r += '</span><a class="result__url" href="' + c(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.url) === p ? o.apply(t) : o) + '" rel="noopener"', ((o = i.if.call(t, t && t.targetBlank, {
      hash: {},
      inverse: h.noop,
      fn: h.program(15, g, a),
      data: a
    })) || 0 === o) && (r += o), r += ">", ((o = typeof (o = null == (o = t && t.model) || !1 === o ? o : o.source) === p ? o.apply(t) : o) || 0 === o) && (r += o), r += "</a>", o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.relative_time, {
      hash: {},
      inverse: h.noop,
      fn: h.program(21, (function (e, t) {
        var i, s = "";
        return s += '<span class="result__extras__sep">|</span><span class="result__timestamp">' + c(typeof (i = null == (i = e && e.model) || !1 === i ? i : i.relative_time) === p ? i.apply(e) : i) + "</span>"
      }), a),
      data: a
    }), (o || 0 === o) && (r += o), r += "</div></div>", ((o = i.if.call(t, t && t.urlAboveSnippet, {
      hash: {},
      inverse: h.noop,
      fn: h.program(17, _, a),
      data: a
    })) || 0 === o) && (r += o), r += "</div></div>"
  })), this.DDG.templates.vertical_links = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "";
    return n += '<div class="vertical vertical--', n += (0, this.escapeExpression)((o = i.id) || "function" == typeof (o = t && t.id) ? o.call(t, {
      hash: {},
      data: a
    }) : o) + ' is-hidden"><div class="serp__top-right js-vertical-top-right"></div><div class="serp__bottom-right js-vertical-bottom-right"></div><div class="cw"><div class="serp__results"><div class="results--main"><div class="search-filters-wrap"><div class="search-filters js-vertical-filters"></div></div><div class="results--message"></div><div class="results js-vertical-results"></div></div><div class="results--sidebar js-vertical-sidebar"><div class="sidebar-modules js-vertical-sidebar-modules"></div><div class="sidebar-slotted-modules js-vertical-sidebar-slotted-modules"></div></div></div></div></div>'
  })), this.DDG.templates.vertical_load_more = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<div class="result result--more js-result-more"><a class="result--more__btn btn btn--full">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "Load More", l) : d.call(t, "l", "Load More", l)) || 0 === o) && (r += o), r += "</a>", ((o = (n = i.loader) || "function" == typeof (n = t && t.loader) ? n.call(t, {
      hash: {},
      data: a
    }) : n) || 0 === o) && (r += o), r += "</div>"
  })), this.DDG.templates.vertical_map = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = "function",
      r = this.escapeExpression,
      d = this,
      c = i.helperMissing;

    function h(e, t) {
      return "is-hidden"
    }

    function p(e, t) {
      var i, s = "";
      return s += "vertical--map--sidebar-" + r(typeof (i = null == (i = e && e.model) || !1 === i ? i : i.sidebarLayout) === l ? i.apply(e) : i)
    }

    function u(e, t) {
      return "has-directions"
    }

    function m(e, t) {
      var s;
      return (s = i.unless.call(e, null == (s = e && e.model) || !1 === s ? s : s.sourceUrl, {
        hash: {},
        inverse: d.noop,
        fn: d.program(1, h, t),
        data: t
      })) || 0 === s ? s : ""
    }
    return n += '<div class="vertical vertical--map ', ((o = i.unless.call(t, null == (o = t && t.model) || !1 === o ? o : o.isMapExpanded, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, h, a),
      data: a
    })) || 0 === o) && (n += o), n += " ", o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.isMapSidebarVisible, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        var s;
        return (s = i.if.call(e, null == (s = e && e.model) || !1 === s ? s : s.sidebarLayout, {
          hash: {},
          inverse: d.noop,
          fn: d.program(4, p, t),
          data: t
        })) || 0 === s ? s : ""
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += " vertical--map--" + r(typeof (o = null == (o = t && t.model) || !1 === o ? o : o.nameId) === l ? o.apply(t) : o) + ' js-vertical-map"><div class="vertical--map__map js-vertical-map-map"><div class="map-controls map-controls--topleft js-vertical-map-control-topleft"></div><div class="map-controls map-controls--topcenter js-vertical-map-controls-topcenter"><button class="btn vertical--map__search-this-area is-hidden js-vertical-map-requery">Search this area</button></div><div class="map-controls map-controls--topright js-vertical-map-control-topright"></div></div>', o = i.if.call(t, null == (o = t && t.model) || !1 === o ? o : o.isMapSidebarVisible, {
      hash: {},
      inverse: d.noop,
      fn: d.program(6, (function (e, t) {
        var s, a, o, n = "";
        return n += '<div class="vertical--map__sidebar js-vertical-map-sidebar ', ((s = i.if.call(e, null == (s = e && e.model) || !1 === s ? s : s.isDirectionsActive, {
          hash: {},
          inverse: d.noop,
          fn: d.program(7, u, t),
          data: t
        })) || 0 === s) && (n += s), n += '"><div class="vertical--map__sidebar__wrapper"><div class="vertical--map__sidebar__inner js-vertical-map-sidebar-inner"><div class="vertical--map__sidebar__results js-vertical-map-results-container"><div class="vertical--map__sidebar__results__inner js-vertical-map-results"></div><div class="', ((s = i.unless.call(e, null == (s = e && e.model) || !1 === s ? s : s.isMoreAtVisible, {
          hash: {},
          inverse: d.noop,
          fn: d.program(9, m, t),
          data: t
        })) || 0 === s) && (n += s), n += ' module__section module__section--simple js-vertical-map-more"><a class="module__link module__places-more__link js-vertical-map-more-link" href="' + r(typeof (s = null == (s = e && e.model) || !1 === s ? s : s.sourceUrl) === l ? s.apply(e) : s) + '" target="_blank" rel="noopener">', o = {
          hash: {},
          data: t
        }, ((s = (a = i.favicon || e && e.favicon) ? a.call(e, null == (s = e && e.model) || !1 === s ? s : s.sourceUrl, o) : c.call(e, "favicon", null == (s = e && e.model) || !1 === s ? s : s.sourceUrl, o)) || 0 === s) && (n += s), n += " " + r(typeof (s = null == (s = e && e.model) || !1 === s ? s : s.moreAtExternalServiceText) === l ? s.apply(e) : s) + '</a></div></div><div class="vertical--map__sidebar__detail js-vertical-map-detail"></div><div class="vertical--map__sidebar__footer js-vertical-map-footer"></div>                    </div></div><div class="vertical--map__sidebar-mask js-vertical-map-mask"></div><div class="map-control vertical--map__sidebar__toggle js-vertical-map-toggle"><button class="btn ddgsi ddgsileft vertical--map__btn js-vertical-map-toggle-button">&lt;</button></div></div>'
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.vertical_separator = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
    var o, n = "",
      l = this.escapeExpression,
      r = i.helperMissing,
      d = this;

    function c(e, t) {
      var s, a, o = "";
      return o += '<div class="result__pagenum  result__pagenum--side">', s = (a = i.pageNumber) || "function" == typeof (a = e && e.pageNumber) ? a.call(e, {
        hash: {},
        data: t
      }) : a, o += l(s) + "</div>"
    }

    function h(e, t) {
      var s, a, o, n = "";
      return n += '<div class="result__pagenum">', o = {
        hash: {},
        data: t
      }, ((s = (a = i.l || e && e.l) ? a.call(e, "Page %s", e && e.pageNumber, o) : r.call(e, "l", "Page %s", e && e.pageNumber, o)) || 0 === s) && (n += s), n += "</div>"
    }
    return n += '<div class="result result--sep ', ((o = i.if.call(t, t && t.line, {
      hash: {},
      inverse: d.noop,
      fn: d.program(1, (function (e, t) {
        return "result--sep--hr"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += " ", ((o = i.if.call(t, t && t.pageNumber, {
      hash: {},
      inverse: d.noop,
      fn: d.program(3, (function (e, t) {
        return "has-pagenum"
      }), a),
      data: a
    })) || 0 === o) && (n += o), n += ' js-result-sep">', o = i.if.call(t, t && t.pageNumber, {
      hash: {},
      inverse: d.noop,
      fn: d.program(5, (function (e, t) {
        var s, a = "";
        return ((s = i.if.call(e, e && e.line, {
          hash: {},
          inverse: d.program(8, h, t),
          fn: d.program(6, c, t),
          data: t
        })) || 0 === s) && (a += s), a += "</div>"
      }), a),
      data: a
    }), (o || 0 === o) && (n += o), n += "</div>"
  })), this.DDG.templates.web_attribution = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = "function",
      h = this.escapeExpression;
    return r += '<div id="powered_by" class="results--powered"><a href="https://help.duckduckgo.com/results/sources/" target="_blank">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.l || t && t.l) ? n.call(t, "In partnership with", l) : d.call(t, "l", "In partnership with", l)) || 0 === o) && (r += o), r += '</a><a class="results--powered_badge-link" href="/?q=', r += h(o = (n = i.src) || typeof (n = t && t.src) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '" target="_blank"><span class="results--powered__badge  badge--', r += h(o = (n = i.src) || typeof (n = t && t.src) === c ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '"></span></a></div>'
  })), this.DDG.templates.welcome_message_eu = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing,
      c = this.escapeExpression;
    return r += '<section class="welcome welcome--euandroid"><div class="welcome__inner-wrap"><h1 class="welcome__heading">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "Privacy, simplified", l) : d.call(t, "lp", "welcome message eu search preference android", "Privacy, simplified", l)) || 0 === o) && (r += o), r += '</h1><p class="welcome__snippet">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "You're now searching privately in Chrome. Use our app instead of Chrome to browse privately too. It’s already installed and can:", l) : d.call(t, "lp", "welcome message eu search preference android", "You're now searching privately in Chrome. Use our app instead of Chrome to browse privately too. It’s already installed and can:", l)) || 0 === o) && (r += o), r += "</p><ul><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "Block unsafe trackers", l) : d.call(t, "lp", "welcome message eu search preference android", "Block unsafe trackers", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "Force encryption on websites", l) : d.call(t, "lp", "welcome message eu search preference android", "Force encryption on websites", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "Clear data in one tap", l) : d.call(t, "lp", "welcome message eu search preference android", "Clear data in one tap", l)) || 0 === o) && (r += o), r += '</li></ul><a href="intent://duckduckgo.com/?q=', r += c(o = (n = i.queryString) || "function" == typeof (n = t && t.queryString) ? n.call(t, {
      hash: {},
      data: a
    }) : n) + '#Intent;scheme=https;package=com.duckduckgo.mobile.android;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.duckduckgo.mobile.android;end" class="welcome__cta js-welcome-cta">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message eu search preference android", "Open app", l) : d.call(t, "lp", "welcome message eu search preference android", "Open app", l)) || 0 === o) && (r += o), r += '</a><button type="button" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>'
  })), this.DDG.templates.welcome_message = Handlebars.template((function (e, t, i, s, a) {
    this.compilerInfo = [4, ">= 1.0.0"], a = a || {};
    var o, n, l, r = "",
      d = (i = this.merge(i, e.helpers)).helperMissing;
    return r += '<section class="welcome"><div class="welcome__inner-wrap"><h1 class="welcome__heading">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message", "You now have the DuckDuckGo extension!", l) : d.call(t, "lp", "welcome message", "You now have the DuckDuckGo extension!", l)) || 0 === o) && (r += o), r += '</h1><p class="welcome__snippet">', l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message", "Here's what it does:", l) : d.call(t, "lp", "welcome message", "Here's what it does:", l)) || 0 === o) && (r += o), r += "</p><ul><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message", "Lets you search anonymously with DuckDuckGo", l) : d.call(t, "lp", "welcome message", "Lets you search anonymously with DuckDuckGo", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message", "Blocks trackers on websites you visit", l) : d.call(t, "lp", "welcome message", "Blocks trackers on websites you visit", l)) || 0 === o) && (r += o), r += "</li><li>", l = {
      hash: {},
      data: a
    }, ((o = (n = i.lp || t && t.lp) ? n.call(t, "welcome message", "Encrypts connections when possible", l) : d.call(t, "lp", "welcome message", "Encrypts connections when possible", l)) || 0 === o) && (r += o), r += '</li></ul><button type="button" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>'
  }));